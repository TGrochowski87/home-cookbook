var YR=Object.defineProperty;var XR=(e,t,n)=>t in e?YR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $l=(e,t,n)=>XR(e,typeof t!="symbol"?t+"":t,n);function ex(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Mg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tx={exports:{}},Ud={},nx={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=Symbol.for("react.element"),QR=Symbol.for("react.portal"),ZR=Symbol.for("react.fragment"),eM=Symbol.for("react.strict_mode"),tM=Symbol.for("react.profiler"),nM=Symbol.for("react.provider"),rM=Symbol.for("react.context"),oM=Symbol.for("react.forward_ref"),iM=Symbol.for("react.suspense"),sM=Symbol.for("react.memo"),lM=Symbol.for("react.lazy"),Av=Symbol.iterator;function aM(e){return e===null||typeof e!="object"?null:(e=Av&&e[Av]||e["@@iterator"],typeof e=="function"?e:null)}var rx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ox=Object.assign,ix={};function vl(e,t,n){this.props=e,this.context=t,this.refs=ix,this.updater=n||rx}vl.prototype.isReactComponent={};vl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sx(){}sx.prototype=vl.prototype;function Dg(e,t,n){this.props=e,this.context=t,this.refs=ix,this.updater=n||rx}var Pg=Dg.prototype=new sx;Pg.constructor=Dg;ox(Pg,vl.prototype);Pg.isPureReactComponent=!0;var Nv=Array.isArray,lx=Object.prototype.hasOwnProperty,Ag={current:null},ax={key:!0,ref:!0,__self:!0,__source:!0};function cx(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)lx.call(t,r)&&!ax.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:lc,type:e,key:i,ref:s,props:o,_owner:Ag.current}}function cM(e,t){return{$$typeof:lc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ng(e){return typeof e=="object"&&e!==null&&e.$$typeof===lc}function uM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $v=/\/+/g;function tp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uM(""+e.key):t.toString(36)}function du(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case lc:case QR:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+tp(s,0):r,Nv(o)?(n="",e!=null&&(n=e.replace($v,"$&/")+"/"),du(o,t,n,"",function(c){return c})):o!=null&&(Ng(o)&&(o=cM(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace($v,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Nv(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+tp(i,l);s+=du(i,t,n,a,o)}else if(a=aM(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+tp(i,l++),s+=du(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Oc(e,t,n){if(e==null)return e;var r=[],o=0;return du(e,r,"","",function(i){return t.call(n,i,o++)}),r}function dM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rn={current:null},fu={transition:null},fM={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:fu,ReactCurrentOwner:Ag};Re.Children={map:Oc,forEach:function(e,t,n){Oc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oc(e,function(){t++}),t},toArray:function(e){return Oc(e,function(t){return t})||[]},only:function(e){if(!Ng(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=vl;Re.Fragment=ZR;Re.Profiler=tM;Re.PureComponent=Dg;Re.StrictMode=eM;Re.Suspense=iM;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fM;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ox({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Ag.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)lx.call(t,a)&&!ax.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:lc,type:e.type,key:o,ref:i,props:r,_owner:s}};Re.createContext=function(e){return e={$$typeof:rM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nM,_context:e},e.Consumer=e};Re.createElement=cx;Re.createFactory=function(e){var t=cx.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:oM,render:e}};Re.isValidElement=Ng;Re.lazy=function(e){return{$$typeof:lM,_payload:{_status:-1,_result:e},_init:dM}};Re.memo=function(e,t){return{$$typeof:sM,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=fu.transition;fu.transition={};try{e()}finally{fu.transition=t}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(e,t){return rn.current.useCallback(e,t)};Re.useContext=function(e){return rn.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return rn.current.useDeferredValue(e)};Re.useEffect=function(e,t){return rn.current.useEffect(e,t)};Re.useId=function(){return rn.current.useId()};Re.useImperativeHandle=function(e,t,n){return rn.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return rn.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return rn.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return rn.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return rn.current.useReducer(e,t,n)};Re.useRef=function(e){return rn.current.useRef(e)};Re.useState=function(e){return rn.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return rn.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return rn.current.useTransition()};Re.version="18.2.0";nx.exports=Re;var h=nx.exports;const J=Mg(h),Oa=ex({__proto__:null,default:J},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pM=h,hM=Symbol.for("react.element"),mM=Symbol.for("react.fragment"),gM=Object.prototype.hasOwnProperty,yM=pM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vM={key:!0,ref:!0,__self:!0,__source:!0};function ux(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)gM.call(t,r)&&!vM.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:hM,type:e,key:i,ref:s,props:o,_owner:yM.current}}Ud.Fragment=mM;Ud.jsx=ux;Ud.jsxs=ux;tx.exports=Ud;var x=tx.exports,Mh={},dx={exports:{}},Pn={},fx={exports:{}},px={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,V){var ie=F.length;F.push(V);e:for(;0<ie;){var fe=ie-1>>>1,be=F[fe];if(0<o(be,V))F[fe]=V,F[ie]=be,ie=fe;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],ie=F.pop();if(ie!==V){F[0]=ie;e:for(var fe=0,be=F.length,et=be>>>1;fe<et;){var Ee=2*(fe+1)-1,Ve=F[Ee],ve=Ee+1,se=F[ve];if(0>o(Ve,ie))ve<be&&0>o(se,Ve)?(F[fe]=se,F[ve]=ie,fe=ve):(F[fe]=Ve,F[Ee]=ie,fe=Ee);else if(ve<be&&0>o(se,ie))F[fe]=se,F[ve]=ie,fe=ve;else break e}}return V}function o(F,V){var ie=F.sortIndex-V.sortIndex;return ie!==0?ie:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],c=[],u=1,d=null,f=3,m=!1,p=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=F)r(c),V.sortIndex=V.expirationTime,t(a,V);else break;V=n(c)}}function k(F){if(g=!1,b(F),!p)if(n(a)!==null)p=!0,ae(E);else{var V=n(c);V!==null&&X(k,V.startTime-F)}}function E(F,V){p=!1,g&&(g=!1,y(O),O=-1),m=!0;var ie=f;try{for(b(V),d=n(a);d!==null&&(!(d.expirationTime>V)||F&&!Z());){var fe=d.callback;if(typeof fe=="function"){d.callback=null,f=d.priorityLevel;var be=fe(d.expirationTime<=V);V=e.unstable_now(),typeof be=="function"?d.callback=be:d===n(a)&&r(a),b(V)}else r(a);d=n(a)}if(d!==null)var et=!0;else{var Ee=n(c);Ee!==null&&X(k,Ee.startTime-V),et=!1}return et}finally{d=null,f=ie,m=!1}}var S=!1,C=null,O=-1,M=5,I=-1;function Z(){return!(e.unstable_now()-I<M)}function L(){if(C!==null){var F=e.unstable_now();I=F;var V=!0;try{V=C(!0,F)}finally{V?Y():(S=!1,C=null)}}else S=!1}var Y;if(typeof v=="function")Y=function(){v(L)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,K=H.port2;H.port1.onmessage=L,Y=function(){K.postMessage(null)}}else Y=function(){w(L,0)};function ae(F){C=F,S||(S=!0,Y())}function X(F,V){O=w(function(){F(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,ae(E))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(F){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var ie=f;f=V;try{return F()}finally{f=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ie=f;f=F;try{return V()}finally{f=ie}},e.unstable_scheduleCallback=function(F,V,ie){var fe=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?fe+ie:fe):ie=fe,F){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ie+be,F={id:u++,callback:V,priorityLevel:F,startTime:ie,expirationTime:be,sortIndex:-1},ie>fe?(F.sortIndex=ie,t(c,F),n(a)===null&&F===n(c)&&(g?(y(O),O=-1):g=!0,X(k,ie-fe))):(F.sortIndex=be,t(a,F),p||m||(p=!0,ae(E))),F},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(F){var V=f;return function(){var ie=f;f=V;try{return F.apply(this,arguments)}finally{f=ie}}}})(px);fx.exports=px;var wM=fx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx=h,Rn=wM;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mx=new Set,Ra={};function Qi(e,t){el(e,t),el(e+"Capture",t)}function el(e,t){for(Ra[e]=t,e=0;e<t.length;e++)mx.add(t[e])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dh=Object.prototype.hasOwnProperty,bM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_v={},Iv={};function xM(e){return Dh.call(Iv,e)?!0:Dh.call(_v,e)?!1:bM.test(e)?Iv[e]=!0:(_v[e]=!0,!1)}function SM(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kM(e,t,n,r){if(t===null||typeof t>"u"||SM(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function on(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new on(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ft[t]=new on(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new on(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new on(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new on(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new on(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new on(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new on(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new on(e,5,!1,e.toLowerCase(),null,!1,!1)});var $g=/[\-:]([a-z])/g;function _g(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($g,_g);Ft[t]=new on(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($g,_g);Ft[t]=new on(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($g,_g);Ft[t]=new on(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new on(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new on(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ig(e,t,n,r){var o=Ft.hasOwnProperty(t)?Ft[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kM(t,n,o,r)&&(n=null),r||o===null?xM(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ro=hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rc=Symbol.for("react.element"),Es=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),Lg=Symbol.for("react.strict_mode"),Ph=Symbol.for("react.profiler"),gx=Symbol.for("react.provider"),yx=Symbol.for("react.context"),Fg=Symbol.for("react.forward_ref"),Ah=Symbol.for("react.suspense"),Nh=Symbol.for("react.suspense_list"),jg=Symbol.for("react.memo"),vo=Symbol.for("react.lazy"),vx=Symbol.for("react.offscreen"),Lv=Symbol.iterator;function _l(e){return e===null||typeof e!="object"?null:(e=Lv&&e[Lv]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Object.assign,np;function Ql(e){if(np===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);np=t&&t[1]||""}return`
`+np+e}var rp=!1;function op(e,t){if(!e||rp)return"";rp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{rp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ql(e):""}function EM(e){switch(e.tag){case 5:return Ql(e.type);case 16:return Ql("Lazy");case 13:return Ql("Suspense");case 19:return Ql("SuspenseList");case 0:case 2:case 15:return e=op(e.type,!1),e;case 11:return e=op(e.type.render,!1),e;case 1:return e=op(e.type,!0),e;default:return""}}function $h(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cs:return"Fragment";case Es:return"Portal";case Ph:return"Profiler";case Lg:return"StrictMode";case Ah:return"Suspense";case Nh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yx:return(e.displayName||"Context")+".Consumer";case gx:return(e._context.displayName||"Context")+".Provider";case Fg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jg:return t=e.displayName||null,t!==null?t:$h(e.type)||"Memo";case vo:t=e._payload,e=e._init;try{return $h(e(t))}catch{}}return null}function CM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $h(t);case 8:return t===Lg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Uo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TM(e){var t=wx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mc(e){e._valueTracker||(e._valueTracker=TM(e))}function bx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $u(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _h(e,t){var n=t.checked;return Ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Uo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xx(e,t){t=t.checked,t!=null&&Ig(e,"checked",t,!1)}function Ih(e,t){xx(e,t);var n=Uo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lh(e,t.type,Uo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lh(e,t,n){(t!=="number"||$u(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zl=Array.isArray;function zs(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Uo(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Fh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Zl(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Uo(n)}}function Sx(e,t){var n=Uo(t.value),r=Uo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dc,Ex=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dc=Dc||document.createElement("div"),Dc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ma(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var la={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OM=["Webkit","ms","Moz","O"];Object.keys(la).forEach(function(e){OM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),la[t]=la[e]})});function Cx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||la.hasOwnProperty(e)&&la[e]?(""+t).trim():t+"px"}function Tx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Cx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var RM=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bh(e,t){if(t){if(RM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function zh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=null;function Bg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uh=null,Vs=null,Us=null;function Vv(e){if(e=uc(e)){if(typeof Uh!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Jd(t),Uh(e.stateNode,e.type,t))}}function Ox(e){Vs?Us?Us.push(e):Us=[e]:Vs=e}function Rx(){if(Vs){var e=Vs,t=Us;if(Us=Vs=null,Vv(e),t)for(e=0;e<t.length;e++)Vv(t[e])}}function Mx(e,t){return e(t)}function Dx(){}var ip=!1;function Px(e,t,n){if(ip)return e(t,n);ip=!0;try{return Mx(e,t,n)}finally{ip=!1,(Vs!==null||Us!==null)&&(Dx(),Rx())}}function Da(e,t){var n=e.stateNode;if(n===null)return null;var r=Jd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Hh=!1;if(Jr)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){Hh=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{Hh=!1}function MM(e,t,n,r,o,i,s,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var aa=!1,_u=null,Iu=!1,Wh=null,DM={onError:function(e){aa=!0,_u=e}};function PM(e,t,n,r,o,i,s,l,a){aa=!1,_u=null,MM.apply(DM,arguments)}function AM(e,t,n,r,o,i,s,l,a){if(PM.apply(this,arguments),aa){if(aa){var c=_u;aa=!1,_u=null}else throw Error(B(198));Iu||(Iu=!0,Wh=c)}}function Zi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ax(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uv(e){if(Zi(e)!==e)throw Error(B(188))}function NM(e){var t=e.alternate;if(!t){if(t=Zi(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Uv(o),e;if(i===r)return Uv(o),t;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function Nx(e){return e=NM(e),e!==null?$x(e):null}function $x(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$x(e);if(t!==null)return t;e=e.sibling}return null}var _x=Rn.unstable_scheduleCallback,Hv=Rn.unstable_cancelCallback,$M=Rn.unstable_shouldYield,_M=Rn.unstable_requestPaint,ut=Rn.unstable_now,IM=Rn.unstable_getCurrentPriorityLevel,zg=Rn.unstable_ImmediatePriority,Ix=Rn.unstable_UserBlockingPriority,Lu=Rn.unstable_NormalPriority,LM=Rn.unstable_LowPriority,Lx=Rn.unstable_IdlePriority,Hd=null,Tr=null;function FM(e){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(Hd,e,void 0,(e.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:zM,jM=Math.log,BM=Math.LN2;function zM(e){return e>>>=0,e===0?32:31-(jM(e)/BM|0)|0}var Pc=64,Ac=4194304;function ea(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=ea(l):(i&=s,i!==0&&(r=ea(i)))}else s=n&~o,s!==0?r=ea(s):i!==0&&(r=ea(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rr(t),o=1<<n,r|=e[n],t&=~o;return r}function VM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-rr(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=VM(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Kh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fx(){var e=Pc;return Pc<<=1,!(Pc&4194240)&&(Pc=64),e}function sp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ac(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rr(t),e[t]=n}function HM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-rr(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Vg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rr(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ie=0;function jx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bx,Ug,zx,Vx,Ux,qh=!1,Nc=[],Po=null,Ao=null,No=null,Pa=new Map,Aa=new Map,So=[],WM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wv(e,t){switch(e){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":Pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(t.pointerId)}}function Ll(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=uc(t),t!==null&&Ug(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function KM(e,t,n,r,o){switch(t){case"focusin":return Po=Ll(Po,e,t,n,r,o),!0;case"dragenter":return Ao=Ll(Ao,e,t,n,r,o),!0;case"mouseover":return No=Ll(No,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Pa.set(i,Ll(Pa.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Aa.set(i,Ll(Aa.get(i)||null,e,t,n,r,o)),!0}return!1}function Hx(e){var t=mi(e.target);if(t!==null){var n=Zi(t);if(n!==null){if(t=n.tag,t===13){if(t=Ax(n),t!==null){e.blockedOn=t,Ux(e.priority,function(){zx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vh=r,n.target.dispatchEvent(r),Vh=null}else return t=uc(n),t!==null&&Ug(t),e.blockedOn=n,!1;t.shift()}return!0}function Kv(e,t,n){pu(e)&&n.delete(t)}function qM(){qh=!1,Po!==null&&pu(Po)&&(Po=null),Ao!==null&&pu(Ao)&&(Ao=null),No!==null&&pu(No)&&(No=null),Pa.forEach(Kv),Aa.forEach(Kv)}function Fl(e,t){e.blockedOn===t&&(e.blockedOn=null,qh||(qh=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,qM)))}function Na(e){function t(o){return Fl(o,e)}if(0<Nc.length){Fl(Nc[0],e);for(var n=1;n<Nc.length;n++){var r=Nc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Po!==null&&Fl(Po,e),Ao!==null&&Fl(Ao,e),No!==null&&Fl(No,e),Pa.forEach(t),Aa.forEach(t),n=0;n<So.length;n++)r=So[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<So.length&&(n=So[0],n.blockedOn===null);)Hx(n),n.blockedOn===null&&So.shift()}var Hs=ro.ReactCurrentBatchConfig,ju=!0;function JM(e,t,n,r){var o=Ie,i=Hs.transition;Hs.transition=null;try{Ie=1,Hg(e,t,n,r)}finally{Ie=o,Hs.transition=i}}function GM(e,t,n,r){var o=Ie,i=Hs.transition;Hs.transition=null;try{Ie=4,Hg(e,t,n,r)}finally{Ie=o,Hs.transition=i}}function Hg(e,t,n,r){if(ju){var o=Jh(e,t,n,r);if(o===null)gp(e,t,r,Bu,n),Wv(e,r);else if(KM(o,e,t,n,r))r.stopPropagation();else if(Wv(e,r),t&4&&-1<WM.indexOf(e)){for(;o!==null;){var i=uc(o);if(i!==null&&Bx(i),i=Jh(e,t,n,r),i===null&&gp(e,t,r,Bu,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else gp(e,t,r,null,n)}}var Bu=null;function Jh(e,t,n,r){if(Bu=null,e=Bg(r),e=mi(e),e!==null)if(t=Zi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ax(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bu=e,null}function Wx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IM()){case zg:return 1;case Ix:return 4;case Lu:case LM:return 16;case Lx:return 536870912;default:return 16}default:return 16}}var Co=null,Wg=null,hu=null;function Kx(){if(hu)return hu;var e,t=Wg,n=t.length,r,o="value"in Co?Co.value:Co.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return hu=o.slice(e,1<r?1-r:void 0)}function mu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $c(){return!0}function qv(){return!1}function An(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$c:qv,this.isPropagationStopped=qv,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),t}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kg=An(wl),cc=Ze({},wl,{view:0,detail:0}),YM=An(cc),lp,ap,jl,Wd=Ze({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jl&&(jl&&e.type==="mousemove"?(lp=e.screenX-jl.screenX,ap=e.screenY-jl.screenY):ap=lp=0,jl=e),lp)},movementY:function(e){return"movementY"in e?e.movementY:ap}}),Jv=An(Wd),XM=Ze({},Wd,{dataTransfer:0}),QM=An(XM),ZM=Ze({},cc,{relatedTarget:0}),cp=An(ZM),eD=Ze({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),tD=An(eD),nD=Ze({},wl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rD=An(nD),oD=Ze({},wl,{data:0}),Gv=An(oD),iD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lD[e])?!!t[e]:!1}function qg(){return aD}var cD=Ze({},cc,{key:function(e){if(e.key){var t=iD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qg,charCode:function(e){return e.type==="keypress"?mu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uD=An(cD),dD=Ze({},Wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yv=An(dD),fD=Ze({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qg}),pD=An(fD),hD=Ze({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),mD=An(hD),gD=Ze({},Wd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yD=An(gD),vD=[9,13,27,32],Jg=Jr&&"CompositionEvent"in window,ca=null;Jr&&"documentMode"in document&&(ca=document.documentMode);var wD=Jr&&"TextEvent"in window&&!ca,qx=Jr&&(!Jg||ca&&8<ca&&11>=ca),Xv=" ",Qv=!1;function Jx(e,t){switch(e){case"keyup":return vD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ts=!1;function bD(e,t){switch(e){case"compositionend":return Gx(t);case"keypress":return t.which!==32?null:(Qv=!0,Xv);case"textInput":return e=t.data,e===Xv&&Qv?null:e;default:return null}}function xD(e,t){if(Ts)return e==="compositionend"||!Jg&&Jx(e,t)?(e=Kx(),hu=Wg=Co=null,Ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qx&&t.locale!=="ko"?null:t.data;default:return null}}var SD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!SD[e.type]:t==="textarea"}function Yx(e,t,n,r){Ox(r),t=zu(t,"onChange"),0<t.length&&(n=new Kg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ua=null,$a=null;function kD(e){lS(e,0)}function Kd(e){var t=Ms(e);if(bx(t))return e}function ED(e,t){if(e==="change")return t}var Xx=!1;if(Jr){var up;if(Jr){var dp="oninput"in document;if(!dp){var e0=document.createElement("div");e0.setAttribute("oninput","return;"),dp=typeof e0.oninput=="function"}up=dp}else up=!1;Xx=up&&(!document.documentMode||9<document.documentMode)}function t0(){ua&&(ua.detachEvent("onpropertychange",Qx),$a=ua=null)}function Qx(e){if(e.propertyName==="value"&&Kd($a)){var t=[];Yx(t,$a,e,Bg(e)),Px(kD,t)}}function CD(e,t,n){e==="focusin"?(t0(),ua=t,$a=n,ua.attachEvent("onpropertychange",Qx)):e==="focusout"&&t0()}function TD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kd($a)}function OD(e,t){if(e==="click")return Kd(t)}function RD(e,t){if(e==="input"||e==="change")return Kd(t)}function MD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lr=typeof Object.is=="function"?Object.is:MD;function _a(e,t){if(lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Dh.call(t,o)||!lr(e[o],t[o]))return!1}return!0}function n0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r0(e,t){var n=n0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n0(n)}}function Zx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eS(){for(var e=window,t=$u();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$u(e.document)}return t}function Gg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function DD(e){var t=eS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zx(n.ownerDocument.documentElement,n)){if(r!==null&&Gg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=r0(n,i);var s=r0(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PD=Jr&&"documentMode"in document&&11>=document.documentMode,Os=null,Gh=null,da=null,Yh=!1;function o0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yh||Os==null||Os!==$u(r)||(r=Os,"selectionStart"in r&&Gg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),da&&_a(da,r)||(da=r,r=zu(Gh,"onSelect"),0<r.length&&(t=new Kg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Os)))}function _c(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rs={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionend:_c("Transition","TransitionEnd")},fp={},tS={};Jr&&(tS=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function qd(e){if(fp[e])return fp[e];if(!Rs[e])return e;var t=Rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tS)return fp[e]=t[n];return e}var nS=qd("animationend"),rS=qd("animationiteration"),oS=qd("animationstart"),iS=qd("transitionend"),sS=new Map,i0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zo(e,t){sS.set(e,t),Qi(t,[e])}for(var pp=0;pp<i0.length;pp++){var hp=i0[pp],AD=hp.toLowerCase(),ND=hp[0].toUpperCase()+hp.slice(1);Zo(AD,"on"+ND)}Zo(nS,"onAnimationEnd");Zo(rS,"onAnimationIteration");Zo(oS,"onAnimationStart");Zo("dblclick","onDoubleClick");Zo("focusin","onFocus");Zo("focusout","onBlur");Zo(iS,"onTransitionEnd");el("onMouseEnter",["mouseout","mouseover"]);el("onMouseLeave",["mouseout","mouseover"]);el("onPointerEnter",["pointerout","pointerover"]);el("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$D=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function s0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,AM(r,t,void 0,e),e.currentTarget=null}function lS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;s0(o,l,c),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;s0(o,l,c),i=a}}}if(Iu)throw e=Wh,Iu=!1,Wh=null,e}function Ke(e,t){var n=t[tm];n===void 0&&(n=t[tm]=new Set);var r=e+"__bubble";n.has(r)||(aS(t,e,2,!1),n.add(r))}function mp(e,t,n){var r=0;t&&(r|=4),aS(n,e,r,t)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Ia(e){if(!e[Ic]){e[Ic]=!0,mx.forEach(function(n){n!=="selectionchange"&&($D.has(n)||mp(n,!1,e),mp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ic]||(t[Ic]=!0,mp("selectionchange",!1,t))}}function aS(e,t,n,r){switch(Wx(t)){case 1:var o=JM;break;case 4:o=GM;break;default:o=Hg}n=o.bind(null,t,n,e),o=void 0,!Hh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function gp(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=mi(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}Px(function(){var c=i,u=Bg(n),d=[];e:{var f=sS.get(e);if(f!==void 0){var m=Kg,p=e;switch(e){case"keypress":if(mu(n)===0)break e;case"keydown":case"keyup":m=uD;break;case"focusin":p="focus",m=cp;break;case"focusout":p="blur",m=cp;break;case"beforeblur":case"afterblur":m=cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Jv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pD;break;case nS:case rS:case oS:m=tD;break;case iS:m=mD;break;case"scroll":m=YM;break;case"wheel":m=yD;break;case"copy":case"cut":case"paste":m=rD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Yv}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var v=c,b;v!==null;){b=v;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,y!==null&&(k=Da(v,y),k!=null&&g.push(La(v,k,b)))),w)break;v=v.return}0<g.length&&(f=new m(f,p,null,n,u),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Vh&&(p=n.relatedTarget||n.fromElement)&&(mi(p)||p[Gr]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?mi(p):null,p!==null&&(w=Zi(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(g=Jv,k="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Yv,k="onPointerLeave",y="onPointerEnter",v="pointer"),w=m==null?f:Ms(m),b=p==null?f:Ms(p),f=new g(k,v+"leave",m,n,u),f.target=w,f.relatedTarget=b,k=null,mi(u)===c&&(g=new g(y,v+"enter",p,n,u),g.target=b,g.relatedTarget=w,k=g),w=k,m&&p)t:{for(g=m,y=p,v=0,b=g;b;b=fs(b))v++;for(b=0,k=y;k;k=fs(k))b++;for(;0<v-b;)g=fs(g),v--;for(;0<b-v;)y=fs(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=fs(g),y=fs(y)}g=null}else g=null;m!==null&&l0(d,f,m,g,!1),p!==null&&w!==null&&l0(d,w,p,g,!0)}}e:{if(f=c?Ms(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=ED;else if(Zv(f))if(Xx)E=RD;else{E=TD;var S=CD}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=OD);if(E&&(E=E(e,c))){Yx(d,E,n,u);break e}S&&S(e,f,c),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Lh(f,"number",f.value)}switch(S=c?Ms(c):window,e){case"focusin":(Zv(S)||S.contentEditable==="true")&&(Os=S,Gh=c,da=null);break;case"focusout":da=Gh=Os=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,o0(d,n,u);break;case"selectionchange":if(PD)break;case"keydown":case"keyup":o0(d,n,u)}var C;if(Jg)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Ts?Jx(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(qx&&n.locale!=="ko"&&(Ts||O!=="onCompositionStart"?O==="onCompositionEnd"&&Ts&&(C=Kx()):(Co=u,Wg="value"in Co?Co.value:Co.textContent,Ts=!0)),S=zu(c,O),0<S.length&&(O=new Gv(O,e,null,n,u),d.push({event:O,listeners:S}),C?O.data=C:(C=Gx(n),C!==null&&(O.data=C)))),(C=wD?bD(e,n):xD(e,n))&&(c=zu(c,"onBeforeInput"),0<c.length&&(u=new Gv("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}lS(d,t)})}function La(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zu(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Da(e,n),i!=null&&r.unshift(La(e,i,o)),i=Da(e,t),i!=null&&r.push(La(e,i,o))),e=e.return}return r}function fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function l0(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,o?(a=Da(n,i),a!=null&&s.unshift(La(n,a,l))):o||(a=Da(n,i),a!=null&&s.push(La(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var _D=/\r\n?/g,ID=/\u0000|\uFFFD/g;function a0(e){return(typeof e=="string"?e:""+e).replace(_D,`
`).replace(ID,"")}function Lc(e,t,n){if(t=a0(t),a0(e)!==t&&n)throw Error(B(425))}function Vu(){}var Xh=null,Qh=null;function Zh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var em=typeof setTimeout=="function"?setTimeout:void 0,LD=typeof clearTimeout=="function"?clearTimeout:void 0,c0=typeof Promise=="function"?Promise:void 0,FD=typeof queueMicrotask=="function"?queueMicrotask:typeof c0<"u"?function(e){return c0.resolve(null).then(e).catch(jD)}:em;function jD(e){setTimeout(function(){throw e})}function yp(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Na(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Na(t)}function $o(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function u0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bl=Math.random().toString(36).slice(2),Sr="__reactFiber$"+bl,Fa="__reactProps$"+bl,Gr="__reactContainer$"+bl,tm="__reactEvents$"+bl,BD="__reactListeners$"+bl,zD="__reactHandles$"+bl;function mi(e){var t=e[Sr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gr]||n[Sr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=u0(e);e!==null;){if(n=e[Sr])return n;e=u0(e)}return t}e=n,n=e.parentNode}return null}function uc(e){return e=e[Sr]||e[Gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ms(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Jd(e){return e[Fa]||null}var nm=[],Ds=-1;function ei(e){return{current:e}}function qe(e){0>Ds||(e.current=nm[Ds],nm[Ds]=null,Ds--)}function We(e,t){Ds++,nm[Ds]=e.current,e.current=t}var Ho={},Kt=ei(Ho),un=ei(!1),Ii=Ho;function tl(e,t){var n=e.type.contextTypes;if(!n)return Ho;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function dn(e){return e=e.childContextTypes,e!=null}function Uu(){qe(un),qe(Kt)}function d0(e,t,n){if(Kt.current!==Ho)throw Error(B(168));We(Kt,t),We(un,n)}function cS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(B(108,CM(e)||"Unknown",o));return Ze({},n,r)}function Hu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ho,Ii=Kt.current,We(Kt,e),We(un,un.current),!0}function f0(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=cS(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,qe(un),qe(Kt),We(Kt,e)):qe(un),We(un,n)}var Ur=null,Gd=!1,vp=!1;function uS(e){Ur===null?Ur=[e]:Ur.push(e)}function VD(e){Gd=!0,uS(e)}function ti(){if(!vp&&Ur!==null){vp=!0;var e=0,t=Ie;try{var n=Ur;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ur=null,Gd=!1}catch(o){throw Ur!==null&&(Ur=Ur.slice(e+1)),_x(zg,ti),o}finally{Ie=t,vp=!1}}return null}var Ps=[],As=0,Wu=null,Ku=0,In=[],Ln=0,Li=null,Hr=1,Wr="";function ci(e,t){Ps[As++]=Ku,Ps[As++]=Wu,Wu=e,Ku=t}function dS(e,t,n){In[Ln++]=Hr,In[Ln++]=Wr,In[Ln++]=Li,Li=e;var r=Hr;e=Wr;var o=32-rr(r)-1;r&=~(1<<o),n+=1;var i=32-rr(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Hr=1<<32-rr(t)+o|n<<o|r,Wr=i+e}else Hr=1<<i|n<<o|r,Wr=e}function Yg(e){e.return!==null&&(ci(e,1),dS(e,1,0))}function Xg(e){for(;e===Wu;)Wu=Ps[--As],Ps[As]=null,Ku=Ps[--As],Ps[As]=null;for(;e===Li;)Li=In[--Ln],In[Ln]=null,Wr=In[--Ln],In[Ln]=null,Hr=In[--Ln],In[Ln]=null}var En=null,Sn=null,Je=!1,Yn=null;function fS(e,t){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function p0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,En=e,Sn=$o(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,En=e,Sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Li!==null?{id:Hr,overflow:Wr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,En=e,Sn=null,!0):!1;default:return!1}}function rm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function om(e){if(Je){var t=Sn;if(t){var n=t;if(!p0(e,t)){if(rm(e))throw Error(B(418));t=$o(n.nextSibling);var r=En;t&&p0(e,t)?fS(r,n):(e.flags=e.flags&-4097|2,Je=!1,En=e)}}else{if(rm(e))throw Error(B(418));e.flags=e.flags&-4097|2,Je=!1,En=e}}}function h0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;En=e}function Fc(e){if(e!==En)return!1;if(!Je)return h0(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zh(e.type,e.memoizedProps)),t&&(t=Sn)){if(rm(e))throw pS(),Error(B(418));for(;t;)fS(e,t),t=$o(t.nextSibling)}if(h0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Sn=$o(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Sn=null}}else Sn=En?$o(e.stateNode.nextSibling):null;return!0}function pS(){for(var e=Sn;e;)e=$o(e.nextSibling)}function nl(){Sn=En=null,Je=!1}function Qg(e){Yn===null?Yn=[e]:Yn.push(e)}var UD=ro.ReactCurrentBatchConfig;function qn(e,t){if(e&&e.defaultProps){t=Ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var qu=ei(null),Ju=null,Ns=null,Zg=null;function ey(){Zg=Ns=Ju=null}function ty(e){var t=qu.current;qe(qu),e._currentValue=t}function im(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ws(e,t){Ju=e,Zg=Ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cn=!0),e.firstContext=null)}function zn(e){var t=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:t,next:null},Ns===null){if(Ju===null)throw Error(B(308));Ns=e,Ju.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var gi=null;function ny(e){gi===null?gi=[e]:gi.push(e)}function hS(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ny(t)):(n.next=o.next,o.next=n),t.interleaved=n,Yr(e,r)}function Yr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wo=!1;function ry(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _o(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Yr(e,n)}return o=r.interleaved,o===null?(t.next=t,ny(r)):(t.next=o.next,o.next=t),r.interleaved=t,Yr(e,n)}function gu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vg(e,n)}}function m0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gu(e,t,n,r){var o=e.updateQueue;wo=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,c=a.next;a.next=null,s===null?i=c:s.next=c,s=a;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==s&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(i!==null){var d=o.baseState;s=0,u=c=a=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(f=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(m,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(m,d,f):p,f==null)break e;d=Ze({},d,f);break e;case 2:wo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=m,a=d):u=u.next=m,s|=f;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;f=l,l=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(u===null&&(a=d),o.baseState=a,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);ji|=s,e.lanes=s,e.memoizedState=d}}function g0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(B(191,o));o.call(r)}}}var gS=new hx.Component().refs;function sm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yd={isMounted:function(e){return(e=e._reactInternals)?Zi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qt(),o=Lo(e),i=Kr(r,o);i.payload=t,n!=null&&(i.callback=n),t=_o(e,i,o),t!==null&&(or(t,e,o,r),gu(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qt(),o=Lo(e),i=Kr(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_o(e,i,o),t!==null&&(or(t,e,o,r),gu(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qt(),r=Lo(e),o=Kr(n,r);o.tag=2,t!=null&&(o.callback=t),t=_o(e,o,r),t!==null&&(or(t,e,r,n),gu(t,e,r))}};function y0(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!_a(n,r)||!_a(o,i):!0}function yS(e,t,n){var r=!1,o=Ho,i=t.contextType;return typeof i=="object"&&i!==null?i=zn(i):(o=dn(t)?Ii:Kt.current,r=t.contextTypes,i=(r=r!=null)?tl(e,o):Ho),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function v0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yd.enqueueReplaceState(t,t.state,null)}function lm(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=gS,ry(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=zn(i):(i=dn(t)?Ii:Kt.current,o.context=tl(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(sm(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Yd.enqueueReplaceState(o,o.state,null),Gu(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Bl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;l===gS&&(l=o.refs={}),s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function jc(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function w0(e){var t=e._init;return t(e._payload)}function vS(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function o(y,v){return y=Fo(y,v),y.index=0,y.sibling=null,y}function i(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,k){return v===null||v.tag!==6?(v=Cp(b,y.mode,k),v.return=y,v):(v=o(v,b),v.return=y,v)}function a(y,v,b,k){var E=b.type;return E===Cs?u(y,v,b.props.children,k,b.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vo&&w0(E)===v.type)?(k=o(v,b.props),k.ref=Bl(y,v,b),k.return=y,k):(k=Su(b.type,b.key,b.props,null,y.mode,k),k.ref=Bl(y,v,b),k.return=y,k)}function c(y,v,b,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Tp(b,y.mode,k),v.return=y,v):(v=o(v,b.children||[]),v.return=y,v)}function u(y,v,b,k,E){return v===null||v.tag!==7?(v=Ti(b,y.mode,k,E),v.return=y,v):(v=o(v,b),v.return=y,v)}function d(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Cp(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Rc:return b=Su(v.type,v.key,v.props,null,y.mode,b),b.ref=Bl(y,null,v),b.return=y,b;case Es:return v=Tp(v,y.mode,b),v.return=y,v;case vo:var k=v._init;return d(y,k(v._payload),b)}if(Zl(v)||_l(v))return v=Ti(v,y.mode,b,null),v.return=y,v;jc(y,v)}return null}function f(y,v,b,k){var E=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:l(y,v,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Rc:return b.key===E?a(y,v,b,k):null;case Es:return b.key===E?c(y,v,b,k):null;case vo:return E=b._init,f(y,v,E(b._payload),k)}if(Zl(b)||_l(b))return E!==null?null:u(y,v,b,k,null);jc(y,b)}return null}function m(y,v,b,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(b)||null,l(v,y,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Rc:return y=y.get(k.key===null?b:k.key)||null,a(v,y,k,E);case Es:return y=y.get(k.key===null?b:k.key)||null,c(v,y,k,E);case vo:var S=k._init;return m(y,v,b,S(k._payload),E)}if(Zl(k)||_l(k))return y=y.get(b)||null,u(v,y,k,E,null);jc(v,k)}return null}function p(y,v,b,k){for(var E=null,S=null,C=v,O=v=0,M=null;C!==null&&O<b.length;O++){C.index>O?(M=C,C=null):M=C.sibling;var I=f(y,C,b[O],k);if(I===null){C===null&&(C=M);break}e&&C&&I.alternate===null&&t(y,C),v=i(I,v,O),S===null?E=I:S.sibling=I,S=I,C=M}if(O===b.length)return n(y,C),Je&&ci(y,O),E;if(C===null){for(;O<b.length;O++)C=d(y,b[O],k),C!==null&&(v=i(C,v,O),S===null?E=C:S.sibling=C,S=C);return Je&&ci(y,O),E}for(C=r(y,C);O<b.length;O++)M=m(C,y,O,b[O],k),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?O:M.key),v=i(M,v,O),S===null?E=M:S.sibling=M,S=M);return e&&C.forEach(function(Z){return t(y,Z)}),Je&&ci(y,O),E}function g(y,v,b,k){var E=_l(b);if(typeof E!="function")throw Error(B(150));if(b=E.call(b),b==null)throw Error(B(151));for(var S=E=null,C=v,O=v=0,M=null,I=b.next();C!==null&&!I.done;O++,I=b.next()){C.index>O?(M=C,C=null):M=C.sibling;var Z=f(y,C,I.value,k);if(Z===null){C===null&&(C=M);break}e&&C&&Z.alternate===null&&t(y,C),v=i(Z,v,O),S===null?E=Z:S.sibling=Z,S=Z,C=M}if(I.done)return n(y,C),Je&&ci(y,O),E;if(C===null){for(;!I.done;O++,I=b.next())I=d(y,I.value,k),I!==null&&(v=i(I,v,O),S===null?E=I:S.sibling=I,S=I);return Je&&ci(y,O),E}for(C=r(y,C);!I.done;O++,I=b.next())I=m(C,y,O,I.value,k),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?O:I.key),v=i(I,v,O),S===null?E=I:S.sibling=I,S=I);return e&&C.forEach(function(L){return t(y,L)}),Je&&ci(y,O),E}function w(y,v,b,k){if(typeof b=="object"&&b!==null&&b.type===Cs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Rc:e:{for(var E=b.key,S=v;S!==null;){if(S.key===E){if(E=b.type,E===Cs){if(S.tag===7){n(y,S.sibling),v=o(S,b.props.children),v.return=y,y=v;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vo&&w0(E)===S.type){n(y,S.sibling),v=o(S,b.props),v.ref=Bl(y,S,b),v.return=y,y=v;break e}n(y,S);break}else t(y,S);S=S.sibling}b.type===Cs?(v=Ti(b.props.children,y.mode,k,b.key),v.return=y,y=v):(k=Su(b.type,b.key,b.props,null,y.mode,k),k.ref=Bl(y,v,b),k.return=y,y=k)}return s(y);case Es:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=o(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=Tp(b,y.mode,k),v.return=y,y=v}return s(y);case vo:return S=b._init,w(y,v,S(b._payload),k)}if(Zl(b))return p(y,v,b,k);if(_l(b))return g(y,v,b,k);jc(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=o(v,b),v.return=y,y=v):(n(y,v),v=Cp(b,y.mode,k),v.return=y,y=v),s(y)):n(y,v)}return w}var rl=vS(!0),wS=vS(!1),dc={},Or=ei(dc),ja=ei(dc),Ba=ei(dc);function yi(e){if(e===dc)throw Error(B(174));return e}function oy(e,t){switch(We(Ba,t),We(ja,e),We(Or,dc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jh(t,e)}qe(Or),We(Or,t)}function ol(){qe(Or),qe(ja),qe(Ba)}function bS(e){yi(Ba.current);var t=yi(Or.current),n=jh(t,e.type);t!==n&&(We(ja,e),We(Or,n))}function iy(e){ja.current===e&&(qe(Or),qe(ja))}var Xe=ei(0);function Yu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wp=[];function sy(){for(var e=0;e<wp.length;e++)wp[e]._workInProgressVersionPrimary=null;wp.length=0}var yu=ro.ReactCurrentDispatcher,bp=ro.ReactCurrentBatchConfig,Fi=0,Qe=null,gt=null,St=null,Xu=!1,fa=!1,za=0,HD=0;function Bt(){throw Error(B(321))}function ly(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ay(e,t,n,r,o,i){if(Fi=i,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yu.current=e===null||e.memoizedState===null?JD:GD,e=n(r,o),fa){i=0;do{if(fa=!1,za=0,25<=i)throw Error(B(301));i+=1,St=gt=null,t.updateQueue=null,yu.current=YD,e=n(r,o)}while(fa)}if(yu.current=Qu,t=gt!==null&&gt.next!==null,Fi=0,St=gt=Qe=null,Xu=!1,t)throw Error(B(300));return e}function cy(){var e=za!==0;return za=0,e}function br(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Qe.memoizedState=St=e:St=St.next=e,St}function Vn(){if(gt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=St===null?Qe.memoizedState:St.next;if(t!==null)St=t,gt=e;else{if(e===null)throw Error(B(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},St===null?Qe.memoizedState=St=e:St=St.next=e}return St}function Va(e,t){return typeof t=="function"?t(e):t}function xp(e){var t=Vn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=gt,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,c=i;do{var u=c.lane;if((Fi&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,Qe.lanes|=u,ji|=u}c=c.next}while(c!==null&&c!==i);a===null?s=r:a.next=l,lr(r,t.memoizedState)||(cn=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Qe.lanes|=i,ji|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sp(e){var t=Vn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);lr(i,t.memoizedState)||(cn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xS(){}function SS(e,t){var n=Qe,r=Vn(),o=t(),i=!lr(r.memoizedState,o);if(i&&(r.memoizedState=o,cn=!0),r=r.queue,uy(CS.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Ua(9,ES.bind(null,n,r,o,t),void 0,null),Ct===null)throw Error(B(349));Fi&30||kS(n,t,o)}return o}function kS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ES(e,t,n,r){t.value=n,t.getSnapshot=r,TS(t)&&OS(e)}function CS(e,t,n){return n(function(){TS(t)&&OS(e)})}function TS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch{return!0}}function OS(e){var t=Yr(e,1);t!==null&&or(t,e,1,-1)}function b0(e){var t=br();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},t.queue=e,e=e.dispatch=qD.bind(null,Qe,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function RS(){return Vn().memoizedState}function vu(e,t,n,r){var o=br();Qe.flags|=e,o.memoizedState=Ua(1|t,n,void 0,r===void 0?null:r)}function Xd(e,t,n,r){var o=Vn();r=r===void 0?null:r;var i=void 0;if(gt!==null){var s=gt.memoizedState;if(i=s.destroy,r!==null&&ly(r,s.deps)){o.memoizedState=Ua(t,n,i,r);return}}Qe.flags|=e,o.memoizedState=Ua(1|t,n,i,r)}function x0(e,t){return vu(8390656,8,e,t)}function uy(e,t){return Xd(2048,8,e,t)}function MS(e,t){return Xd(4,2,e,t)}function DS(e,t){return Xd(4,4,e,t)}function PS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function AS(e,t,n){return n=n!=null?n.concat([e]):null,Xd(4,4,PS.bind(null,t,e),n)}function dy(){}function NS(e,t){var n=Vn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ly(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $S(e,t){var n=Vn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ly(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _S(e,t,n){return Fi&21?(lr(n,t)||(n=Fx(),Qe.lanes|=n,ji|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cn=!0),e.memoizedState=n)}function WD(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=bp.transition;bp.transition={};try{e(!1),t()}finally{Ie=n,bp.transition=r}}function IS(){return Vn().memoizedState}function KD(e,t,n){var r=Lo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LS(e))FS(t,n);else if(n=hS(e,t,n,r),n!==null){var o=Qt();or(n,e,r,o),jS(n,t,r)}}function qD(e,t,n){var r=Lo(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LS(e))FS(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,lr(l,s)){var a=t.interleaved;a===null?(o.next=o,ny(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=hS(e,t,o,r),n!==null&&(o=Qt(),or(n,e,r,o),jS(n,t,r))}}function LS(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function FS(e,t){fa=Xu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vg(e,n)}}var Qu={readContext:zn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},JD={readContext:zn,useCallback:function(e,t){return br().memoizedState=[e,t===void 0?null:t],e},useContext:zn,useEffect:x0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vu(4194308,4,PS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vu(4194308,4,e,t)},useInsertionEffect:function(e,t){return vu(4,2,e,t)},useMemo:function(e,t){var n=br();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=br();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=KD.bind(null,Qe,e),[r.memoizedState,e]},useRef:function(e){var t=br();return e={current:e},t.memoizedState=e},useState:b0,useDebugValue:dy,useDeferredValue:function(e){return br().memoizedState=e},useTransition:function(){var e=b0(!1),t=e[0];return e=WD.bind(null,e[1]),br().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qe,o=br();if(Je){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Ct===null)throw Error(B(349));Fi&30||kS(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,x0(CS.bind(null,r,i,e),[e]),r.flags|=2048,Ua(9,ES.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=br(),t=Ct.identifierPrefix;if(Je){var n=Wr,r=Hr;n=(r&~(1<<32-rr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=za++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=HD++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GD={readContext:zn,useCallback:NS,useContext:zn,useEffect:uy,useImperativeHandle:AS,useInsertionEffect:MS,useLayoutEffect:DS,useMemo:$S,useReducer:xp,useRef:RS,useState:function(){return xp(Va)},useDebugValue:dy,useDeferredValue:function(e){var t=Vn();return _S(t,gt.memoizedState,e)},useTransition:function(){var e=xp(Va)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:xS,useSyncExternalStore:SS,useId:IS,unstable_isNewReconciler:!1},YD={readContext:zn,useCallback:NS,useContext:zn,useEffect:uy,useImperativeHandle:AS,useInsertionEffect:MS,useLayoutEffect:DS,useMemo:$S,useReducer:Sp,useRef:RS,useState:function(){return Sp(Va)},useDebugValue:dy,useDeferredValue:function(e){var t=Vn();return gt===null?t.memoizedState=e:_S(t,gt.memoizedState,e)},useTransition:function(){var e=Sp(Va)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:xS,useSyncExternalStore:SS,useId:IS,unstable_isNewReconciler:!1};function il(e,t){try{var n="",r=t;do n+=EM(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function kp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function am(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var XD=typeof WeakMap=="function"?WeakMap:Map;function BS(e,t,n){n=Kr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ed||(ed=!0,vm=r),am(e,t)},n}function zS(e,t,n){n=Kr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){am(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){am(e,t),typeof r!="function"&&(Io===null?Io=new Set([this]):Io.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function S0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new XD;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=dP.bind(null,e,t,n),t.then(e,e))}function k0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function E0(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kr(-1,1),t.tag=2,_o(n,t,1))),n.lanes|=1),e)}var QD=ro.ReactCurrentOwner,cn=!1;function Gt(e,t,n,r){t.child=e===null?wS(t,null,n,r):rl(t,e.child,n,r)}function C0(e,t,n,r,o){n=n.render;var i=t.ref;return Ws(t,o),r=ay(e,t,n,r,i,o),n=cy(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Xr(e,t,o)):(Je&&n&&Yg(t),t.flags|=1,Gt(e,t,r,o),t.child)}function T0(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!wy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,VS(e,t,i,r,o)):(e=Su(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:_a,n(s,r)&&e.ref===t.ref)return Xr(e,t,o)}return t.flags|=1,e=Fo(i,r),e.ref=t.ref,e.return=t,t.child=e}function VS(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(_a(i,r)&&e.ref===t.ref)if(cn=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(cn=!0);else return t.lanes=e.lanes,Xr(e,t,o)}return cm(e,t,n,r,o)}function US(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(_s,wn),wn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(_s,wn),wn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(_s,wn),wn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,We(_s,wn),wn|=r;return Gt(e,t,o,n),t.child}function HS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function cm(e,t,n,r,o){var i=dn(n)?Ii:Kt.current;return i=tl(t,i),Ws(t,o),n=ay(e,t,n,r,i,o),r=cy(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Xr(e,t,o)):(Je&&r&&Yg(t),t.flags|=1,Gt(e,t,n,o),t.child)}function O0(e,t,n,r,o){if(dn(n)){var i=!0;Hu(t)}else i=!1;if(Ws(t,o),t.stateNode===null)wu(e,t),yS(t,n,r),lm(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=zn(c):(c=dn(n)?Ii:Kt.current,c=tl(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==c)&&v0(t,s,r,c),wo=!1;var f=t.memoizedState;s.state=f,Gu(t,r,s,o),a=t.memoizedState,l!==r||f!==a||un.current||wo?(typeof u=="function"&&(sm(t,n,u,r),a=t.memoizedState),(l=wo||y0(t,n,l,r,f,a,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,mS(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:qn(t.type,l),s.props=c,d=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=zn(a):(a=dn(n)?Ii:Kt.current,a=tl(t,a));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&v0(t,s,r,a),wo=!1,f=t.memoizedState,s.state=f,Gu(t,r,s,o);var p=t.memoizedState;l!==d||f!==p||un.current||wo?(typeof m=="function"&&(sm(t,n,m,r),p=t.memoizedState),(c=wo||y0(t,n,c,r,f,p,a)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=a,r=c):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return um(e,t,n,r,i,o)}function um(e,t,n,r,o,i){HS(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&f0(t,n,!1),Xr(e,t,i);r=t.stateNode,QD.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=rl(t,e.child,null,i),t.child=rl(t,null,l,i)):Gt(e,t,l,i),t.memoizedState=r.state,o&&f0(t,n,!0),t.child}function WS(e){var t=e.stateNode;t.pendingContext?d0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&d0(e,t.context,!1),oy(e,t.containerInfo)}function R0(e,t,n,r,o){return nl(),Qg(o),t.flags|=256,Gt(e,t,n,r),t.child}var dm={dehydrated:null,treeContext:null,retryLane:0};function fm(e){return{baseLanes:e,cachePool:null,transitions:null}}function KS(e,t,n){var r=t.pendingProps,o=Xe.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),We(Xe,o&1),e===null)return om(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=ef(s,r,0,null),e=Ti(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fm(n),t.memoizedState=dm,e):fy(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return ZD(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Fo(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Fo(l,i):(i=Ti(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?fm(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=dm,r}return i=e.child,e=i.sibling,r=Fo(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fy(e,t){return t=ef({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bc(e,t,n,r){return r!==null&&Qg(r),rl(t,e.child,null,n),e=fy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZD(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=kp(Error(B(422))),Bc(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=ef({mode:"visible",children:r.children},o,0,null),i=Ti(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&rl(t,e.child,null,s),t.child.memoizedState=fm(s),t.memoizedState=dm,i);if(!(t.mode&1))return Bc(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=kp(i,r,void 0),Bc(e,t,s,r)}if(l=(s&e.childLanes)!==0,cn||l){if(r=Ct,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Yr(e,o),or(r,e,o,-1))}return vy(),r=kp(Error(B(421))),Bc(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=fP.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Sn=$o(o.nextSibling),En=t,Je=!0,Yn=null,e!==null&&(In[Ln++]=Hr,In[Ln++]=Wr,In[Ln++]=Li,Hr=e.id,Wr=e.overflow,Li=t),t=fy(t,r.children),t.flags|=4096,t)}function M0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),im(e.return,t,n)}function Ep(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function qS(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Gt(e,t,r.children,n),r=Xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&M0(e,n,t);else if(e.tag===19)M0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(Xe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Yu(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ep(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Yu(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ep(t,!0,n,null,i);break;case"together":Ep(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ji|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Fo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function eP(e,t,n){switch(t.tag){case 3:WS(t),nl();break;case 5:bS(t);break;case 1:dn(t.type)&&Hu(t);break;case 4:oy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;We(qu,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(Xe,Xe.current&1),t.flags|=128,null):n&t.child.childLanes?KS(e,t,n):(We(Xe,Xe.current&1),e=Xr(e,t,n),e!==null?e.sibling:null);We(Xe,Xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qS(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),We(Xe,Xe.current),r)break;return null;case 22:case 23:return t.lanes=0,US(e,t,n)}return Xr(e,t,n)}var JS,pm,GS,YS;JS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pm=function(){};GS=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,yi(Or.current);var i=null;switch(n){case"input":o=_h(e,o),r=_h(e,r),i=[];break;case"select":o=Ze({},o,{value:void 0}),r=Ze({},r,{value:void 0}),i=[];break;case"textarea":o=Fh(e,o),r=Fh(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vu)}Bh(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var l=o[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ra.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ra.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Ke("scroll",e),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};YS=function(e,t,n,r){n!==r&&(t.flags|=4)};function zl(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tP(e,t,n){var r=t.pendingProps;switch(Xg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(t),null;case 1:return dn(t.type)&&Uu(),zt(t),null;case 3:return r=t.stateNode,ol(),qe(un),qe(Kt),sy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yn!==null&&(xm(Yn),Yn=null))),pm(e,t),zt(t),null;case 5:iy(t);var o=yi(Ba.current);if(n=t.type,e!==null&&t.stateNode!=null)GS(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return zt(t),null}if(e=yi(Or.current),Fc(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Sr]=t,r[Fa]=i,e=(t.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(o=0;o<ta.length;o++)Ke(ta[o],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Fv(r,i),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",r);break;case"textarea":Bv(r,i),Ke("invalid",r)}Bh(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Lc(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Lc(r.textContent,l,e),o=["children",""+l]):Ra.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Mc(r),jv(r,i,!0);break;case"textarea":Mc(r),zv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vu)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Sr]=t,e[Fa]=r,JS(e,t,!1,!1),t.stateNode=e;e:{switch(s=zh(n,r),n){case"dialog":Ke("cancel",e),Ke("close",e),o=r;break;case"iframe":case"object":case"embed":Ke("load",e),o=r;break;case"video":case"audio":for(o=0;o<ta.length;o++)Ke(ta[o],e);o=r;break;case"source":Ke("error",e),o=r;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),o=r;break;case"details":Ke("toggle",e),o=r;break;case"input":Fv(e,r),o=_h(e,r),Ke("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ze({},r,{value:void 0}),Ke("invalid",e);break;case"textarea":Bv(e,r),o=Fh(e,r),Ke("invalid",e);break;default:o=r}Bh(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Tx(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ex(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ma(e,a):typeof a=="number"&&Ma(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ra.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Ke("scroll",e):a!=null&&Ig(e,i,a,s))}switch(n){case"input":Mc(e),jv(e,r,!1);break;case"textarea":Mc(e),zv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Uo(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?zs(e,!!r.multiple,i,!1):r.defaultValue!=null&&zs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Vu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zt(t),null;case 6:if(e&&t.stateNode!=null)YS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=yi(Ba.current),yi(Or.current),Fc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Sr]=t,(i=r.nodeValue!==n)&&(e=En,e!==null))switch(e.tag){case 3:Lc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lc(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=t,t.stateNode=r}return zt(t),null;case 13:if(qe(Xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&Sn!==null&&t.mode&1&&!(t.flags&128))pS(),nl(),t.flags|=98560,i=!1;else if(i=Fc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Sr]=t}else nl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zt(t),i=!1}else Yn!==null&&(xm(Yn),Yn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?yt===0&&(yt=3):vy())),t.updateQueue!==null&&(t.flags|=4),zt(t),null);case 4:return ol(),pm(e,t),e===null&&Ia(t.stateNode.containerInfo),zt(t),null;case 10:return ty(t.type._context),zt(t),null;case 17:return dn(t.type)&&Uu(),zt(t),null;case 19:if(qe(Xe),i=t.memoizedState,i===null)return zt(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)zl(i,!1);else{if(yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Yu(e),s!==null){for(t.flags|=128,zl(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(Xe,Xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ut()>sl&&(t.flags|=128,r=!0,zl(i,!1),t.lanes=4194304)}else{if(!r)if(e=Yu(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Je)return zt(t),null}else 2*ut()-i.renderingStartTime>sl&&n!==1073741824&&(t.flags|=128,r=!0,zl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ut(),t.sibling=null,n=Xe.current,We(Xe,r?n&1|2:n&1),t):(zt(t),null);case 22:case 23:return yy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wn&1073741824&&(zt(t),t.subtreeFlags&6&&(t.flags|=8192)):zt(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function nP(e,t){switch(Xg(t),t.tag){case 1:return dn(t.type)&&Uu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(),qe(un),qe(Kt),sy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return iy(t),null;case 13:if(qe(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));nl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Xe),null;case 4:return ol(),null;case 10:return ty(t.type._context),null;case 22:case 23:return yy(),null;case 24:return null;default:return null}}var zc=!1,Ut=!1,rP=typeof WeakSet=="function"?WeakSet:Set,ne=null;function $s(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(e,t,r)}else n.current=null}function hm(e,t,n){try{n()}catch(r){ot(e,t,r)}}var D0=!1;function oP(e,t){if(Xh=ju,e=eS(),Gg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var m;d!==n||o!==0&&d.nodeType!==3||(l=s+o),d!==i||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++c===o&&(l=s),f===i&&++u===r&&(a=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qh={focusedElem:e,selectionRange:n},ju=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,w=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:qn(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(k){ot(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return p=D0,D0=!1,p}function pa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&hm(t,n,i)}o=o.next}while(o!==r)}}function Qd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function mm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function XS(e){var t=e.alternate;t!==null&&(e.alternate=null,XS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sr],delete t[Fa],delete t[tm],delete t[BD],delete t[zD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function QS(e){return e.tag===5||e.tag===3||e.tag===4}function P0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||QS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vu));else if(r!==4&&(e=e.child,e!==null))for(gm(e,t,n),e=e.sibling;e!==null;)gm(e,t,n),e=e.sibling}function ym(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ym(e,t,n),e=e.sibling;e!==null;)ym(e,t,n),e=e.sibling}var Nt=null,Jn=!1;function fo(e,t,n){for(n=n.child;n!==null;)ZS(e,t,n),n=n.sibling}function ZS(e,t,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(Hd,n)}catch{}switch(n.tag){case 5:Ut||$s(n,t);case 6:var r=Nt,o=Jn;Nt=null,fo(e,t,n),Nt=r,Jn=o,Nt!==null&&(Jn?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(Jn?(e=Nt,n=n.stateNode,e.nodeType===8?yp(e.parentNode,n):e.nodeType===1&&yp(e,n),Na(e)):yp(Nt,n.stateNode));break;case 4:r=Nt,o=Jn,Nt=n.stateNode.containerInfo,Jn=!0,fo(e,t,n),Nt=r,Jn=o;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&hm(n,t,s),o=o.next}while(o!==r)}fo(e,t,n);break;case 1:if(!Ut&&($s(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ot(n,t,l)}fo(e,t,n);break;case 21:fo(e,t,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,fo(e,t,n),Ut=r):fo(e,t,n);break;default:fo(e,t,n)}}function A0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rP),t.forEach(function(r){var o=pP.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Kn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Nt=l.stateNode,Jn=!1;break e;case 3:Nt=l.stateNode.containerInfo,Jn=!0;break e;case 4:Nt=l.stateNode.containerInfo,Jn=!0;break e}l=l.return}if(Nt===null)throw Error(B(160));ZS(i,s,o),Nt=null,Jn=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(c){ot(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ek(t,e),t=t.sibling}function ek(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kn(t,e),gr(e),r&4){try{pa(3,e,e.return),Qd(3,e)}catch(g){ot(e,e.return,g)}try{pa(5,e,e.return)}catch(g){ot(e,e.return,g)}}break;case 1:Kn(t,e),gr(e),r&512&&n!==null&&$s(n,n.return);break;case 5:if(Kn(t,e),gr(e),r&512&&n!==null&&$s(n,n.return),e.flags&32){var o=e.stateNode;try{Ma(o,"")}catch(g){ot(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&xx(o,i),zh(l,s);var c=zh(l,i);for(s=0;s<a.length;s+=2){var u=a[s],d=a[s+1];u==="style"?Tx(o,d):u==="dangerouslySetInnerHTML"?Ex(o,d):u==="children"?Ma(o,d):Ig(o,u,d,c)}switch(l){case"input":Ih(o,i);break;case"textarea":Sx(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?zs(o,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?zs(o,!!i.multiple,i.defaultValue,!0):zs(o,!!i.multiple,i.multiple?[]:"",!1))}o[Fa]=i}catch(g){ot(e,e.return,g)}}break;case 6:if(Kn(t,e),gr(e),r&4){if(e.stateNode===null)throw Error(B(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){ot(e,e.return,g)}}break;case 3:if(Kn(t,e),gr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Na(t.containerInfo)}catch(g){ot(e,e.return,g)}break;case 4:Kn(t,e),gr(e);break;case 13:Kn(t,e),gr(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(my=ut())),r&4&&A0(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ut=(c=Ut)||u,Kn(t,e),Ut=c):Kn(t,e),gr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ne=e,u=e.child;u!==null;){for(d=ne=u;ne!==null;){switch(f=ne,m=f.child,f.tag){case 0:case 11:case 14:case 15:pa(4,f,f.return);break;case 1:$s(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){ot(r,n,g)}}break;case 5:$s(f,f.return);break;case 22:if(f.memoizedState!==null){$0(d);continue}}m!==null?(m.return=f,ne=m):$0(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Cx("display",s))}catch(g){ot(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){ot(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Kn(t,e),gr(e),r&4&&A0(e);break;case 21:break;default:Kn(t,e),gr(e)}}function gr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(QS(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ma(o,""),r.flags&=-33);var i=P0(e);ym(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=P0(e);gm(e,l,s);break;default:throw Error(B(161))}}catch(a){ot(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iP(e,t,n){ne=e,tk(e)}function tk(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var o=ne,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||zc;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Ut;l=zc;var c=Ut;if(zc=s,(Ut=a)&&!c)for(ne=o;ne!==null;)s=ne,a=s.child,s.tag===22&&s.memoizedState!==null?_0(o):a!==null?(a.return=s,ne=a):_0(o);for(;i!==null;)ne=i,tk(i),i=i.sibling;ne=o,zc=l,Ut=c}N0(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,ne=i):N0(e)}}function N0(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ut||Qd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:qn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&g0(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}g0(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Na(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ut||t.flags&512&&mm(t)}catch(f){ot(t,t.return,f)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function $0(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function _0(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qd(4,t)}catch(a){ot(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){ot(t,o,a)}}var i=t.return;try{mm(t)}catch(a){ot(t,i,a)}break;case 5:var s=t.return;try{mm(t)}catch(a){ot(t,s,a)}}}catch(a){ot(t,t.return,a)}if(t===e){ne=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ne=l;break}ne=t.return}}var sP=Math.ceil,Zu=ro.ReactCurrentDispatcher,py=ro.ReactCurrentOwner,jn=ro.ReactCurrentBatchConfig,Ae=0,Ct=null,ft=null,Lt=0,wn=0,_s=ei(0),yt=0,Ha=null,ji=0,Zd=0,hy=0,ha=null,an=null,my=0,sl=1/0,Br=null,ed=!1,vm=null,Io=null,Vc=!1,To=null,td=0,ma=0,wm=null,bu=-1,xu=0;function Qt(){return Ae&6?ut():bu!==-1?bu:bu=ut()}function Lo(e){return e.mode&1?Ae&2&&Lt!==0?Lt&-Lt:UD.transition!==null?(xu===0&&(xu=Fx()),xu):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:Wx(e.type)),e):1}function or(e,t,n,r){if(50<ma)throw ma=0,wm=null,Error(B(185));ac(e,n,r),(!(Ae&2)||e!==Ct)&&(e===Ct&&(!(Ae&2)&&(Zd|=n),yt===4&&ko(e,Lt)),fn(e,r),n===1&&Ae===0&&!(t.mode&1)&&(sl=ut()+500,Gd&&ti()))}function fn(e,t){var n=e.callbackNode;UM(e,t);var r=Fu(e,e===Ct?Lt:0);if(r===0)n!==null&&Hv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hv(n),t===1)e.tag===0?VD(I0.bind(null,e)):uS(I0.bind(null,e)),FD(function(){!(Ae&6)&&ti()}),n=null;else{switch(jx(r)){case 1:n=zg;break;case 4:n=Ix;break;case 16:n=Lu;break;case 536870912:n=Lx;break;default:n=Lu}n=ck(n,nk.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nk(e,t){if(bu=-1,xu=0,Ae&6)throw Error(B(327));var n=e.callbackNode;if(Ks()&&e.callbackNode!==n)return null;var r=Fu(e,e===Ct?Lt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=nd(e,r);else{t=r;var o=Ae;Ae|=2;var i=ok();(Ct!==e||Lt!==t)&&(Br=null,sl=ut()+500,Ci(e,t));do try{cP();break}catch(l){rk(e,l)}while(!0);ey(),Zu.current=i,Ae=o,ft!==null?t=0:(Ct=null,Lt=0,t=yt)}if(t!==0){if(t===2&&(o=Kh(e),o!==0&&(r=o,t=bm(e,o))),t===1)throw n=Ha,Ci(e,0),ko(e,r),fn(e,ut()),n;if(t===6)ko(e,r);else{if(o=e.current.alternate,!(r&30)&&!lP(o)&&(t=nd(e,r),t===2&&(i=Kh(e),i!==0&&(r=i,t=bm(e,i))),t===1))throw n=Ha,Ci(e,0),ko(e,r),fn(e,ut()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:ui(e,an,Br);break;case 3:if(ko(e,r),(r&130023424)===r&&(t=my+500-ut(),10<t)){if(Fu(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Qt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=em(ui.bind(null,e,an,Br),t);break}ui(e,an,Br);break;case 4:if(ko(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-rr(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sP(r/1960))-r,10<r){e.timeoutHandle=em(ui.bind(null,e,an,Br),r);break}ui(e,an,Br);break;case 5:ui(e,an,Br);break;default:throw Error(B(329))}}}return fn(e,ut()),e.callbackNode===n?nk.bind(null,e):null}function bm(e,t){var n=ha;return e.current.memoizedState.isDehydrated&&(Ci(e,t).flags|=256),e=nd(e,t),e!==2&&(t=an,an=n,t!==null&&xm(t)),e}function xm(e){an===null?an=e:an.push.apply(an,e)}function lP(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!lr(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ko(e,t){for(t&=~hy,t&=~Zd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rr(t),r=1<<n;e[n]=-1,t&=~r}}function I0(e){if(Ae&6)throw Error(B(327));Ks();var t=Fu(e,0);if(!(t&1))return fn(e,ut()),null;var n=nd(e,t);if(e.tag!==0&&n===2){var r=Kh(e);r!==0&&(t=r,n=bm(e,r))}if(n===1)throw n=Ha,Ci(e,0),ko(e,t),fn(e,ut()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ui(e,an,Br),fn(e,ut()),null}function gy(e,t){var n=Ae;Ae|=1;try{return e(t)}finally{Ae=n,Ae===0&&(sl=ut()+500,Gd&&ti())}}function Bi(e){To!==null&&To.tag===0&&!(Ae&6)&&Ks();var t=Ae;Ae|=1;var n=jn.transition,r=Ie;try{if(jn.transition=null,Ie=1,e)return e()}finally{Ie=r,jn.transition=n,Ae=t,!(Ae&6)&&ti()}}function yy(){wn=_s.current,qe(_s)}function Ci(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,LD(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(Xg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uu();break;case 3:ol(),qe(un),qe(Kt),sy();break;case 5:iy(r);break;case 4:ol();break;case 13:qe(Xe);break;case 19:qe(Xe);break;case 10:ty(r.type._context);break;case 22:case 23:yy()}n=n.return}if(Ct=e,ft=e=Fo(e.current,null),Lt=wn=t,yt=0,Ha=null,hy=Zd=ji=0,an=ha=null,gi!==null){for(t=0;t<gi.length;t++)if(n=gi[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}gi=null}return e}function rk(e,t){do{var n=ft;try{if(ey(),yu.current=Qu,Xu){for(var r=Qe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Xu=!1}if(Fi=0,St=gt=Qe=null,fa=!1,za=0,py.current=null,n===null||n.return===null){yt=1,Ha=t,ft=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=Lt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=k0(s);if(m!==null){m.flags&=-257,E0(m,s,l,i,t),m.mode&1&&S0(i,c,t),t=m,a=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(a),t.updateQueue=g}else p.add(a);break e}else{if(!(t&1)){S0(i,c,t),vy();break e}a=Error(B(426))}}else if(Je&&l.mode&1){var w=k0(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),E0(w,s,l,i,t),Qg(il(a,l));break e}}i=a=il(a,l),yt!==4&&(yt=2),ha===null?ha=[i]:ha.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=BS(i,a,t);m0(i,y);break e;case 1:l=a;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Io===null||!Io.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=zS(i,l,t);m0(i,k);break e}}i=i.return}while(i!==null)}sk(n)}catch(E){t=E,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function ok(){var e=Zu.current;return Zu.current=Qu,e===null?Qu:e}function vy(){(yt===0||yt===3||yt===2)&&(yt=4),Ct===null||!(ji&268435455)&&!(Zd&268435455)||ko(Ct,Lt)}function nd(e,t){var n=Ae;Ae|=2;var r=ok();(Ct!==e||Lt!==t)&&(Br=null,Ci(e,t));do try{aP();break}catch(o){rk(e,o)}while(!0);if(ey(),Ae=n,Zu.current=r,ft!==null)throw Error(B(261));return Ct=null,Lt=0,yt}function aP(){for(;ft!==null;)ik(ft)}function cP(){for(;ft!==null&&!$M();)ik(ft)}function ik(e){var t=ak(e.alternate,e,wn);e.memoizedProps=e.pendingProps,t===null?sk(e):ft=t,py.current=null}function sk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nP(n,t),n!==null){n.flags&=32767,ft=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,ft=null;return}}else if(n=tP(n,t,wn),n!==null){ft=n;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);yt===0&&(yt=5)}function ui(e,t,n){var r=Ie,o=jn.transition;try{jn.transition=null,Ie=1,uP(e,t,n,r)}finally{jn.transition=o,Ie=r}return null}function uP(e,t,n,r){do Ks();while(To!==null);if(Ae&6)throw Error(B(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(HM(e,i),e===Ct&&(ft=Ct=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vc||(Vc=!0,ck(Lu,function(){return Ks(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jn.transition,jn.transition=null;var s=Ie;Ie=1;var l=Ae;Ae|=4,py.current=null,oP(e,n),ek(n,e),DD(Qh),ju=!!Xh,Qh=Xh=null,e.current=n,iP(n),_M(),Ae=l,Ie=s,jn.transition=i}else e.current=n;if(Vc&&(Vc=!1,To=e,td=o),i=e.pendingLanes,i===0&&(Io=null),FM(n.stateNode),fn(e,ut()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ed)throw ed=!1,e=vm,vm=null,e;return td&1&&e.tag!==0&&Ks(),i=e.pendingLanes,i&1?e===wm?ma++:(ma=0,wm=e):ma=0,ti(),null}function Ks(){if(To!==null){var e=jx(td),t=jn.transition,n=Ie;try{if(jn.transition=null,Ie=16>e?16:e,To===null)var r=!1;else{if(e=To,To=null,td=0,Ae&6)throw Error(B(331));var o=Ae;for(Ae|=4,ne=e.current;ne!==null;){var i=ne,s=i.child;if(ne.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(ne=c;ne!==null;){var u=ne;switch(u.tag){case 0:case 11:case 15:pa(8,u,i)}var d=u.child;if(d!==null)d.return=u,ne=d;else for(;ne!==null;){u=ne;var f=u.sibling,m=u.return;if(XS(u),u===c){ne=null;break}if(f!==null){f.return=m,ne=f;break}ne=m}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}ne=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,ne=s;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pa(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ne=y;break e}ne=i.return}}var v=e.current;for(ne=v;ne!==null;){s=ne;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ne=b;else e:for(s=v;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qd(9,l)}}catch(E){ot(l,l.return,E)}if(l===s){ne=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ne=k;break e}ne=l.return}}if(Ae=o,ti(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(Hd,e)}catch{}r=!0}return r}finally{Ie=n,jn.transition=t}}return!1}function L0(e,t,n){t=il(n,t),t=BS(e,t,1),e=_o(e,t,1),t=Qt(),e!==null&&(ac(e,1,t),fn(e,t))}function ot(e,t,n){if(e.tag===3)L0(e,e,n);else for(;t!==null;){if(t.tag===3){L0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Io===null||!Io.has(r))){e=il(n,e),e=zS(t,e,1),t=_o(t,e,1),e=Qt(),t!==null&&(ac(t,1,e),fn(t,e));break}}t=t.return}}function dP(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qt(),e.pingedLanes|=e.suspendedLanes&n,Ct===e&&(Lt&n)===n&&(yt===4||yt===3&&(Lt&130023424)===Lt&&500>ut()-my?Ci(e,0):hy|=n),fn(e,t)}function lk(e,t){t===0&&(e.mode&1?(t=Ac,Ac<<=1,!(Ac&130023424)&&(Ac=4194304)):t=1);var n=Qt();e=Yr(e,t),e!==null&&(ac(e,t,n),fn(e,n))}function fP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lk(e,n)}function pP(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),lk(e,n)}var ak;ak=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)cn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return cn=!1,eP(e,t,n);cn=!!(e.flags&131072)}else cn=!1,Je&&t.flags&1048576&&dS(t,Ku,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wu(e,t),e=t.pendingProps;var o=tl(t,Kt.current);Ws(t,n),o=ay(null,t,r,e,o,n);var i=cy();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dn(r)?(i=!0,Hu(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ry(t),o.updater=Yd,t.stateNode=o,o._reactInternals=t,lm(t,r,e,n),t=um(null,t,r,!0,i,n)):(t.tag=0,Je&&i&&Yg(t),Gt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wu(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=mP(r),e=qn(r,e),o){case 0:t=cm(null,t,r,e,n);break e;case 1:t=O0(null,t,r,e,n);break e;case 11:t=C0(null,t,r,e,n);break e;case 14:t=T0(null,t,r,qn(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qn(r,o),cm(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qn(r,o),O0(e,t,r,o,n);case 3:e:{if(WS(t),e===null)throw Error(B(387));r=t.pendingProps,i=t.memoizedState,o=i.element,mS(e,t),Gu(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=il(Error(B(423)),t),t=R0(e,t,r,n,o);break e}else if(r!==o){o=il(Error(B(424)),t),t=R0(e,t,r,n,o);break e}else for(Sn=$o(t.stateNode.containerInfo.firstChild),En=t,Je=!0,Yn=null,n=wS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nl(),r===o){t=Xr(e,t,n);break e}Gt(e,t,r,n)}t=t.child}return t;case 5:return bS(t),e===null&&om(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Zh(r,o)?s=null:i!==null&&Zh(r,i)&&(t.flags|=32),HS(e,t),Gt(e,t,s,n),t.child;case 6:return e===null&&om(t),null;case 13:return KS(e,t,n);case 4:return oy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rl(t,null,r,n):Gt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qn(r,o),C0(e,t,r,o,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,We(qu,r._currentValue),r._currentValue=s,i!==null)if(lr(i.value,s)){if(i.children===o.children&&!un.current){t=Xr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Kr(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),im(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(B(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),im(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Gt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ws(t,n),o=zn(o),r=r(o),t.flags|=1,Gt(e,t,r,n),t.child;case 14:return r=t.type,o=qn(r,t.pendingProps),o=qn(r.type,o),T0(e,t,r,o,n);case 15:return VS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:qn(r,o),wu(e,t),t.tag=1,dn(r)?(e=!0,Hu(t)):e=!1,Ws(t,n),yS(t,r,o),lm(t,r,o,n),um(null,t,r,!0,e,n);case 19:return qS(e,t,n);case 22:return US(e,t,n)}throw Error(B(156,t.tag))};function ck(e,t){return _x(e,t)}function hP(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,n,r){return new hP(e,t,n,r)}function wy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mP(e){if(typeof e=="function")return wy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fg)return 11;if(e===jg)return 14}return 2}function Fo(e,t){var n=e.alternate;return n===null?(n=Fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Su(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")wy(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Cs:return Ti(n.children,o,i,t);case Lg:s=8,o|=8;break;case Ph:return e=Fn(12,n,t,o|2),e.elementType=Ph,e.lanes=i,e;case Ah:return e=Fn(13,n,t,o),e.elementType=Ah,e.lanes=i,e;case Nh:return e=Fn(19,n,t,o),e.elementType=Nh,e.lanes=i,e;case vx:return ef(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gx:s=10;break e;case yx:s=9;break e;case Fg:s=11;break e;case jg:s=14;break e;case vo:s=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=Fn(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Ti(e,t,n,r){return e=Fn(7,e,r,t),e.lanes=n,e}function ef(e,t,n,r){return e=Fn(22,e,r,t),e.elementType=vx,e.lanes=n,e.stateNode={isHidden:!1},e}function Cp(e,t,n){return e=Fn(6,e,null,t),e.lanes=n,e}function Tp(e,t,n){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gP(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function by(e,t,n,r,o,i,s,l,a){return e=new gP(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Fn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ry(i),e}function yP(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function uk(e){if(!e)return Ho;e=e._reactInternals;e:{if(Zi(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(dn(n))return cS(e,n,t)}return t}function dk(e,t,n,r,o,i,s,l,a){return e=by(n,r,!0,e,o,i,s,l,a),e.context=uk(null),n=e.current,r=Qt(),o=Lo(n),i=Kr(r,o),i.callback=t??null,_o(n,i,o),e.current.lanes=o,ac(e,o,r),fn(e,r),e}function tf(e,t,n,r){var o=t.current,i=Qt(),s=Lo(o);return n=uk(n),t.context===null?t.context=n:t.pendingContext=n,t=Kr(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_o(o,t,s),e!==null&&(or(e,o,s,i),gu(e,o,s)),s}function rd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function F0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xy(e,t){F0(e,t),(e=e.alternate)&&F0(e,t)}function vP(){return null}var fk=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sy(e){this._internalRoot=e}nf.prototype.render=Sy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));tf(e,t,null,null)};nf.prototype.unmount=Sy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bi(function(){tf(null,e,null,null)}),t[Gr]=null}};function nf(e){this._internalRoot=e}nf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<So.length&&t!==0&&t<So[n].priority;n++);So.splice(n,0,e),n===0&&Hx(e)}};function ky(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function j0(){}function wP(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=rd(s);i.call(c)}}var s=dk(t,r,e,0,null,!1,!1,"",j0);return e._reactRootContainer=s,e[Gr]=s.current,Ia(e.nodeType===8?e.parentNode:e),Bi(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var c=rd(a);l.call(c)}}var a=by(e,0,!1,null,null,!1,!1,"",j0);return e._reactRootContainer=a,e[Gr]=a.current,Ia(e.nodeType===8?e.parentNode:e),Bi(function(){tf(t,a,n,r)}),a}function of(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=rd(s);l.call(a)}}tf(t,s,e,o)}else s=wP(n,t,e,o,r);return rd(s)}Bx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ea(t.pendingLanes);n!==0&&(Vg(t,n|1),fn(t,ut()),!(Ae&6)&&(sl=ut()+500,ti()))}break;case 13:Bi(function(){var r=Yr(e,1);if(r!==null){var o=Qt();or(r,e,1,o)}}),xy(e,1)}};Ug=function(e){if(e.tag===13){var t=Yr(e,134217728);if(t!==null){var n=Qt();or(t,e,134217728,n)}xy(e,134217728)}};zx=function(e){if(e.tag===13){var t=Lo(e),n=Yr(e,t);if(n!==null){var r=Qt();or(n,e,t,r)}xy(e,t)}};Vx=function(){return Ie};Ux=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};Uh=function(e,t,n){switch(t){case"input":if(Ih(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Jd(r);if(!o)throw Error(B(90));bx(r),Ih(r,o)}}}break;case"textarea":Sx(e,n);break;case"select":t=n.value,t!=null&&zs(e,!!n.multiple,t,!1)}};Mx=gy;Dx=Bi;var bP={usingClientEntryPoint:!1,Events:[uc,Ms,Jd,Ox,Rx,gy]},Vl={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xP={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nx(e),e===null?null:e.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||vP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Hd=Uc.inject(xP),Tr=Uc}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bP;Pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ky(t))throw Error(B(200));return yP(e,t,null,n)};Pn.createRoot=function(e,t){if(!ky(e))throw Error(B(299));var n=!1,r="",o=fk;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=by(e,1,!1,null,null,n,!1,r,o),e[Gr]=t.current,Ia(e.nodeType===8?e.parentNode:e),new Sy(t)};Pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=Nx(t),e=e===null?null:e.stateNode,e};Pn.flushSync=function(e){return Bi(e)};Pn.hydrate=function(e,t,n){if(!rf(t))throw Error(B(200));return of(null,e,t,!0,n)};Pn.hydrateRoot=function(e,t,n){if(!ky(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=fk;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=dk(t,null,e,1,n??null,o,!1,i,s),e[Gr]=t.current,Ia(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new nf(t)};Pn.render=function(e,t,n){if(!rf(t))throw Error(B(200));return of(null,e,t,!1,n)};Pn.unmountComponentAtNode=function(e){if(!rf(e))throw Error(B(40));return e._reactRootContainer?(Bi(function(){of(null,null,e,!1,function(){e._reactRootContainer=null,e[Gr]=null})}),!0):!1};Pn.unstable_batchedUpdates=gy;Pn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rf(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return of(e,t,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";function pk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pk)}catch(e){console.error(e)}}pk(),dx.exports=Pn;var ur=dx.exports;const sf=Mg(ur),SP=ex({__proto__:null,default:sf},[ur]);var B0=ur;Mh.createRoot=B0.createRoot,Mh.hydrateRoot=B0.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(this,arguments)}var dt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dt||(dt={}));const z0="popstate";function kP(e){e===void 0&&(e={});function t(o,i){let{pathname:s="/",search:l="",hash:a=""}=oo(o.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Wa("",{pathname:s,search:l,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){let s=o.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let a=o.location.href,c=a.indexOf("#");l=c===-1?a:a.slice(0,c)}return l+"#"+(typeof i=="string"?i:Wo(i))}function r(o,i){zi(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return CP(t,n,r,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EP(){return Math.random().toString(36).substr(2,8)}function V0(e,t){return{usr:e.state,key:e.key,idx:t}}function Wa(e,t,n,r){return n===void 0&&(n=null),it({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?oo(t):t,{state:n,key:t&&t.key||r||EP()})}function Wo(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function oo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function CP(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,l=dt.Pop,a=null,c=u();c==null&&(c=0,s.replaceState(it({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){l=dt.Pop;let w=u(),y=w==null?null:w-c;c=w,a&&a({action:l,location:g.location,delta:y})}function f(w,y){l=dt.Push;let v=Wa(g.location,w,y);n&&n(v,w),c=u()+1;let b=V0(v,c),k=g.createHref(v);try{s.pushState(b,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(k)}i&&a&&a({action:l,location:g.location,delta:1})}function m(w,y){l=dt.Replace;let v=Wa(g.location,w,y);n&&n(v,w),c=u();let b=V0(v,c),k=g.createHref(v);s.replaceState(b,"",k),i&&a&&a({action:l,location:g.location,delta:0})}function p(w){let y=o.location.origin!=="null"?o.location.origin:o.location.href,v=typeof w=="string"?w:Wo(w);return v=v.replace(/ $/,"%20"),ge(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(o,s)},listen(w){if(a)throw new Error("A history only accepts one active listener");return o.addEventListener(z0,d),a=w,()=>{o.removeEventListener(z0,d),a=null}},createHref(w){return t(o,w)},createURL:p,encodeLocation(w){let y=p(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(w){return s.go(w)}};return g}var rt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rt||(rt={}));const TP=new Set(["lazy","caseSensitive","path","id","index","children"]);function OP(e){return e.index===!0}function Sm(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((o,i)=>{let s=[...n,i],l=typeof o.id=="string"?o.id:s.join("-");if(ge(o.index!==!0||!o.children,"Cannot specify children on an index route"),ge(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),OP(o)){let a=it({},o,t(o),{id:l});return r[l]=a,a}else{let a=it({},o,t(o),{id:l,children:void 0});return r[l]=a,o.children&&(a.children=Sm(o.children,t,s,r)),a}})}function Is(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?oo(t):t,o=Ko(r.pathname||"/",n);if(o==null)return null;let i=hk(e);MP(i);let s=null;for(let l=0;s==null&&l<i.length;++l){let a=zP(o);s=FP(i[l],a)}return s}function RP(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}function hk(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};a.relativePath.startsWith("/")&&(ge(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=Rr([r,a.relativePath]),u=n.concat(a);i.children&&i.children.length>0&&(ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hk(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:IP(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))o(i,s);else for(let a of mk(i.path))o(i,s,a)}),t}function mk(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=mk(r.join("/")),l=[];return l.push(...s.map(a=>a===""?i:[i,a].join("/"))),o&&l.push(...s),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function MP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:LP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DP=/^:[\w-]+$/,PP=3,AP=2,NP=1,$P=10,_P=-2,U0=e=>e==="*";function IP(e,t){let n=e.split("/"),r=n.length;return n.some(U0)&&(r+=_P),t&&(r+=AP),n.filter(o=>!U0(o)).reduce((o,i)=>o+(DP.test(i)?PP:i===""?NP:$P),r)}function LP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function FP(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let s=0;s<n.length;++s){let l=n[s],a=s===n.length-1,c=o==="/"?t:t.slice(o.length)||"/",u=jP({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},c);if(!u)return null;Object.assign(r,u.params);let d=l.route;i.push({params:r,pathname:Rr([o,u.pathname]),pathnameBase:HP(Rr([o,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(o=Rr([o,u.pathnameBase]))}return i}function jP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=BP(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let g=l[d]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[d];return m&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function BP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),zi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function zP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ko(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function VP(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?oo(e):e;return{pathname:n?n.startsWith("/")?n:UP(n,t):t,search:WP(r),hash:KP(o)}}function UP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Op(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lf(e,t){let n=gk(e);return t?n.map((r,o)=>o===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function af(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=oo(e):(o=it({},e),ge(!o.pathname||!o.pathname.includes("?"),Op("?","pathname","search",o)),ge(!o.pathname||!o.pathname.includes("#"),Op("#","pathname","hash",o)),ge(!o.search||!o.search.includes("#"),Op("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,l;if(s==null)l=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;o.pathname=f.join("/")}l=d>=0?t[d]:"/"}let a=VP(o,l),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||u)&&(a.pathname+="/"),a}const Rr=e=>e.join("/").replace(/\/\/+/g,"/"),HP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),WP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Ey{constructor(t,n,r,o){o===void 0&&(o=!1),this.status=t,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Cy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yk=["post","put","patch","delete"],qP=new Set(yk),JP=["get",...yk],GP=new Set(JP),YP=new Set([301,302,303,307,308]),XP=new Set([307,308]),Rp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},QP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ul={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZP=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),wk="remix-router-transitions";function eA(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ge(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let R=e.detectErrorBoundary;o=P=>({hasErrorBoundary:R(P)})}else o=ZP;let i={},s=Sm(e.routes,o,void 0,i),l,a=e.basename||"/",c=it({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),u=null,d=new Set,f=null,m=null,p=null,g=e.hydrationData!=null,w=Is(s,e.history.location,a),y=null;if(w==null){let R=$n(404,{pathname:e.history.location.pathname}),{matches:P,route:_}=X0(s);w=P,y={[_.id]:R}}let v,b=w.some(R=>R.route.lazy),k=w.some(R=>R.route.loader);if(b)v=!1;else if(!k)v=!0;else if(c.v7_partialHydration){let R=e.hydrationData?e.hydrationData.loaderData:null,P=e.hydrationData?e.hydrationData.errors:null,_=W=>W.route.loader?W.route.loader.hydrate===!0?!1:R&&R[W.route.id]!==void 0||P&&P[W.route.id]!==void 0:!0;if(P){let W=w.findIndex(re=>P[re.route.id]!==void 0);v=w.slice(0,W+1).every(_)}else v=w.every(_)}else v=e.hydrationData!=null;let E,S={historyAction:e.history.action,location:e.history.location,matches:w,initialized:v,navigation:Rp,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},C=dt.Pop,O=!1,M,I=!1,Z=new Map,L=null,Y=!1,H=!1,K=[],ae=[],X=new Map,F=0,V=-1,ie=new Map,fe=new Set,be=new Map,et=new Map,Ee=new Set,Ve=new Map,ve=new Map,se=!1;function De(){if(u=e.history.listen(R=>{let{action:P,location:_,delta:W}=R;if(se){se=!1;return}zi(ve.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=as({currentLocation:S.location,nextLocation:_,historyAction:P});if(re&&W!=null){se=!0,e.history.go(W*-1),Wn(re,{state:"blocked",location:_,proceed(){Wn(re,{state:"proceeding",proceed:void 0,reset:void 0,location:_}),e.history.go(W)},reset(){let xe=new Map(S.blockers);xe.set(re,Ul),ce({blockers:xe})}});return}return ct(P,_)}),n){dA(t,Z);let R=()=>fA(t,Z);t.addEventListener("pagehide",R),L=()=>t.removeEventListener("pagehide",R)}return S.initialized||ct(dt.Pop,S.location,{initialHydration:!0}),E}function Ue(){u&&u(),L&&L(),d.clear(),M&&M.abort(),S.fetchers.forEach((R,P)=>Ce(P)),S.blockers.forEach((R,P)=>Lr(P))}function Pe(R){return d.add(R),()=>d.delete(R)}function ce(R,P){P===void 0&&(P={}),S=it({},S,R);let _=[],W=[];c.v7_fetcherPersist&&S.fetchers.forEach((re,xe)=>{re.state==="idle"&&(Ee.has(xe)?W.push(xe):_.push(xe))}),[...d].forEach(re=>re(S,{deletedFetchers:W,unstable_viewTransitionOpts:P.viewTransitionOpts,unstable_flushSync:P.flushSync===!0})),c.v7_fetcherPersist&&(_.forEach(re=>S.fetchers.delete(re)),W.forEach(re=>Ce(re)))}function he(R,P,_){var W,re;let{flushSync:xe}=_===void 0?{}:_,pe=S.actionData!=null&&S.navigation.formMethod!=null&&Gn(S.navigation.formMethod)&&S.navigation.state==="loading"&&((W=R.state)==null?void 0:W._isRedirect)!==!0,ue;P.actionData?Object.keys(P.actionData).length>0?ue=P.actionData:ue=null:pe?ue=S.actionData:ue=null;let le=P.loaderData?Y0(S.loaderData,P.loaderData,P.matches||[],P.errors):S.loaderData,Me=S.blockers;Me.size>0&&(Me=new Map(Me),Me.forEach((He,Mt)=>Me.set(Mt,Ul)));let bt=O===!0||S.navigation.formMethod!=null&&Gn(S.navigation.formMethod)&&((re=R.state)==null?void 0:re._isRedirect)!==!0;l&&(s=l,l=void 0),Y||C===dt.Pop||(C===dt.Push?e.history.push(R,R.state):C===dt.Replace&&e.history.replace(R,R.state));let we;if(C===dt.Pop){let He=Z.get(S.location.pathname);He&&He.has(R.pathname)?we={currentLocation:S.location,nextLocation:R}:Z.has(R.pathname)&&(we={currentLocation:R,nextLocation:S.location})}else if(I){let He=Z.get(S.location.pathname);He?He.add(R.pathname):(He=new Set([R.pathname]),Z.set(S.location.pathname,He)),we={currentLocation:S.location,nextLocation:R}}ce(it({},P,{actionData:ue,loaderData:le,historyAction:C,location:R,initialized:!0,navigation:Rp,revalidation:"idle",restoreScrollPosition:Pv(R,P.matches||S.matches),preventScrollReset:bt,blockers:Me}),{viewTransitionOpts:we,flushSync:xe===!0}),C=dt.Pop,O=!1,I=!1,Y=!1,H=!1,K=[],ae=[]}async function tt(R,P){if(typeof R=="number"){e.history.go(R);return}let _=km(S.location,S.matches,a,c.v7_prependBasename,R,c.v7_relativeSplatPath,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:W,submission:re,error:xe}=H0(c.v7_normalizeFormMethod,!1,_,P),pe=S.location,ue=Wa(S.location,W,P&&P.state);ue=it({},ue,e.history.encodeLocation(ue));let le=P&&P.replace!=null?P.replace:void 0,Me=dt.Push;le===!0?Me=dt.Replace:le===!1||re!=null&&Gn(re.formMethod)&&re.formAction===S.location.pathname+S.location.search&&(Me=dt.Replace);let bt=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,we=(P&&P.unstable_flushSync)===!0,He=as({currentLocation:pe,nextLocation:ue,historyAction:Me});if(He){Wn(He,{state:"blocked",location:ue,proceed(){Wn(He,{state:"proceeding",proceed:void 0,reset:void 0,location:ue}),tt(R,P)},reset(){let Mt=new Map(S.blockers);Mt.set(He,Ul),ce({blockers:Mt})}});return}return await ct(Me,ue,{submission:re,pendingError:xe,preventScrollReset:bt,replace:P&&P.replace,enableViewTransition:P&&P.unstable_viewTransition,flushSync:we})}function at(){if(z(),ce({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){ct(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}ct(C||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function ct(R,P,_){M&&M.abort(),M=null,C=R,Y=(_&&_.startUninterruptedRevalidation)===!0,qR(S.location,S.matches),O=(_&&_.preventScrollReset)===!0,I=(_&&_.enableViewTransition)===!0;let W=l||s,re=_&&_.overrideNavigation,xe=Is(W,P,a),pe=(_&&_.flushSync)===!0;if(!xe){let Mt=$n(404,{pathname:P.pathname}),{matches:yn,route:xt}=X0(W);li(),he(P,{matches:yn,loaderData:{},errors:{[xt.id]:Mt}},{flushSync:pe});return}if(S.initialized&&!H&&iA(S.location,P)&&!(_&&_.submission&&Gn(_.submission.formMethod))){he(P,{matches:xe},{flushSync:pe});return}M=new AbortController;let ue=Wl(e.history,P,M.signal,_&&_.submission),le,Me;if(_&&_.pendingError)Me={[ga(xe).route.id]:_.pendingError};else if(_&&_.submission&&Gn(_.submission.formMethod)){let Mt=await Nn(ue,P,_.submission,xe,{replace:_.replace,flushSync:pe});if(Mt.shortCircuited)return;le=Mt.pendingActionData,Me=Mt.pendingActionError,re=Mp(P,_.submission),pe=!1,ue=new Request(ue.url,{signal:ue.signal})}let{shortCircuited:bt,loaderData:we,errors:He}=await Jt(ue,P,xe,re,_&&_.submission,_&&_.fetcherSubmission,_&&_.replace,_&&_.initialHydration===!0,pe,le,Me);bt||(M=null,he(P,it({matches:xe},le?{actionData:le}:{},{loaderData:we,errors:He})))}async function Nn(R,P,_,W,re){re===void 0&&(re={}),z();let xe=cA(P,_);ce({navigation:xe},{flushSync:re.flushSync===!0});let pe,ue=Cm(W,P);if(!ue.route.action&&!ue.route.lazy)pe={type:rt.error,error:$n(405,{method:R.method,pathname:P.pathname,routeId:ue.route.id})};else if(pe=await Hl("action",R,ue,W,i,o,a,c.v7_relativeSplatPath),R.signal.aborted)return{shortCircuited:!0};if(wi(pe)){let le;return re&&re.replace!=null?le=re.replace:le=pe.location===S.location.pathname+S.location.search,await q(S,pe,{submission:_,replace:le}),{shortCircuited:!0}}if(Ls(pe)){let le=ga(W,ue.route.id);return(re&&re.replace)!==!0&&(C=dt.Push),{pendingActionData:{},pendingActionError:{[le.route.id]:pe.error}}}if(vi(pe))throw $n(400,{type:"defer-action"});return{pendingActionData:{[ue.route.id]:pe.data}}}async function Jt(R,P,_,W,re,xe,pe,ue,le,Me,bt){let we=W||Mp(P,re),He=re||xe||e1(we),Mt=l||s,[yn,xt]=W0(e.history,S,_,He,P,c.v7_partialHydration&&ue===!0,H,K,ae,Ee,be,fe,Mt,a,Me,bt);if(li($e=>!(_&&_.some(Fe=>Fe.route.id===$e))||yn&&yn.some(Fe=>Fe.route.id===$e)),V=++F,yn.length===0&&xt.length===0){let $e=mr();return he(P,it({matches:_,loaderData:{},errors:bt||null},Me?{actionData:Me}:{},$e?{fetchers:new Map(S.fetchers)}:{}),{flushSync:le}),{shortCircuited:!0}}if(!Y&&(!c.v7_partialHydration||!ue)){xt.forEach(Fe=>{let sn=S.fetchers.get(Fe.key),Tc=Kl(void 0,sn?sn.data:void 0);S.fetchers.set(Fe.key,Tc)});let $e=Me||S.actionData;ce(it({navigation:we},$e?Object.keys($e).length===0?{actionData:null}:{actionData:$e}:{},xt.length>0?{fetchers:new Map(S.fetchers)}:{}),{flushSync:le})}xt.forEach($e=>{X.has($e.key)&&jt($e.key),$e.controller&&X.set($e.key,$e.controller)});let cs=()=>xt.forEach($e=>jt($e.key));M&&M.signal.addEventListener("abort",cs);let{results:Qf,loaderResults:us,fetcherResults:uo}=await G(S.matches,_,yn,xt,R);if(R.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",cs),xt.forEach($e=>X.delete($e.key));let ai=Q0(Qf);if(ai){if(ai.idx>=yn.length){let $e=xt[ai.idx-yn.length].key;fe.add($e)}return await q(S,ai.result,{replace:pe}),{shortCircuited:!0}}let{loaderData:Zf,errors:Nl}=G0(S,_,yn,us,bt,xt,uo,Ve);Ve.forEach(($e,Fe)=>{$e.subscribe(sn=>{(sn||$e.done)&&Ve.delete(Fe)})}),c.v7_partialHydration&&ue&&S.errors&&Object.entries(S.errors).filter($e=>{let[Fe]=$e;return!yn.some(sn=>sn.route.id===Fe)}).forEach($e=>{let[Fe,sn]=$e;Nl=Object.assign(Nl||{},{[Fe]:sn})});let ep=mr(),ds=ao(V),Cc=ep||ds||xt.length>0;return it({loaderData:Zf,errors:Nl},Cc?{fetchers:new Map(S.fetchers)}:{})}function T(R,P,_,W){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");X.has(R)&&jt(R);let re=(W&&W.unstable_flushSync)===!0,xe=l||s,pe=km(S.location,S.matches,a,c.v7_prependBasename,_,c.v7_relativeSplatPath,P,W==null?void 0:W.relative),ue=Is(xe,pe,a);if(!ue){U(R,P,$n(404,{pathname:pe}),{flushSync:re});return}let{path:le,submission:Me,error:bt}=H0(c.v7_normalizeFormMethod,!0,pe,W);if(bt){U(R,P,bt,{flushSync:re});return}let we=Cm(ue,le);if(O=(W&&W.preventScrollReset)===!0,Me&&Gn(Me.formMethod)){D(R,P,le,we,ue,re,Me);return}be.set(R,{routeId:P,path:le}),$(R,P,le,we,ue,re,Me)}async function D(R,P,_,W,re,xe,pe){if(z(),be.delete(R),!W.route.action&&!W.route.lazy){let Fe=$n(405,{method:pe.formMethod,pathname:_,routeId:P});U(R,P,Fe,{flushSync:xe});return}let ue=S.fetchers.get(R);A(R,uA(pe,ue),{flushSync:xe});let le=new AbortController,Me=Wl(e.history,_,le.signal,pe);X.set(R,le);let bt=F,we=await Hl("action",Me,W,re,i,o,a,c.v7_relativeSplatPath);if(Me.signal.aborted){X.get(R)===le&&X.delete(R);return}if(c.v7_fetcherPersist&&Ee.has(R)){if(wi(we)||Ls(we)){A(R,po(void 0));return}}else{if(wi(we))if(X.delete(R),V>bt){A(R,po(void 0));return}else return fe.add(R),A(R,Kl(pe)),q(S,we,{fetcherSubmission:pe});if(Ls(we)){U(R,P,we.error);return}}if(vi(we))throw $n(400,{type:"defer-action"});let He=S.navigation.location||S.location,Mt=Wl(e.history,He,le.signal),yn=l||s,xt=S.navigation.state!=="idle"?Is(yn,S.navigation.location,a):S.matches;ge(xt,"Didn't find any matches after fetcher action");let cs=++F;ie.set(R,cs);let Qf=Kl(pe,we.data);S.fetchers.set(R,Qf);let[us,uo]=W0(e.history,S,xt,pe,He,!1,H,K,ae,Ee,be,fe,yn,a,{[W.route.id]:we.data},void 0);uo.filter(Fe=>Fe.key!==R).forEach(Fe=>{let sn=Fe.key,Tc=S.fetchers.get(sn),GR=Kl(void 0,Tc?Tc.data:void 0);S.fetchers.set(sn,GR),X.has(sn)&&jt(sn),Fe.controller&&X.set(sn,Fe.controller)}),ce({fetchers:new Map(S.fetchers)});let ai=()=>uo.forEach(Fe=>jt(Fe.key));le.signal.addEventListener("abort",ai);let{results:Zf,loaderResults:Nl,fetcherResults:ep}=await G(S.matches,xt,us,uo,Mt);if(le.signal.aborted)return;le.signal.removeEventListener("abort",ai),ie.delete(R),X.delete(R),uo.forEach(Fe=>X.delete(Fe.key));let ds=Q0(Zf);if(ds){if(ds.idx>=us.length){let Fe=uo[ds.idx-us.length].key;fe.add(Fe)}return q(S,ds.result)}let{loaderData:Cc,errors:$e}=G0(S,S.matches,us,Nl,void 0,uo,ep,Ve);if(S.fetchers.has(R)){let Fe=po(we.data);S.fetchers.set(R,Fe)}ao(cs),S.navigation.state==="loading"&&cs>V?(ge(C,"Expected pending action"),M&&M.abort(),he(S.navigation.location,{matches:xt,loaderData:Cc,errors:$e,fetchers:new Map(S.fetchers)})):(ce({errors:$e,loaderData:Y0(S.loaderData,Cc,xt,$e),fetchers:new Map(S.fetchers)}),H=!1)}async function $(R,P,_,W,re,xe,pe){let ue=S.fetchers.get(R);A(R,Kl(pe,ue?ue.data:void 0),{flushSync:xe});let le=new AbortController,Me=Wl(e.history,_,le.signal);X.set(R,le);let bt=F,we=await Hl("loader",Me,W,re,i,o,a,c.v7_relativeSplatPath);if(vi(we)&&(we=await Sk(we,Me.signal,!0)||we),X.get(R)===le&&X.delete(R),!Me.signal.aborted){if(Ee.has(R)){A(R,po(void 0));return}if(wi(we))if(V>bt){A(R,po(void 0));return}else{fe.add(R),await q(S,we);return}if(Ls(we)){U(R,P,we.error);return}ge(!vi(we),"Unhandled fetcher deferred data"),A(R,po(we.data))}}async function q(R,P,_){let{submission:W,fetcherSubmission:re,replace:xe}=_===void 0?{}:_;P.revalidate&&(H=!0);let pe=Wa(R.location,P.location,{_isRedirect:!0});if(ge(pe,"Expected a location on the redirect navigation"),n){let He=!1;if(P.reloadDocument)He=!0;else if(vk.test(P.location)){const Mt=e.history.createURL(P.location);He=Mt.origin!==t.location.origin||Ko(Mt.pathname,a)==null}if(He){xe?t.location.replace(P.location):t.location.assign(P.location);return}}M=null;let ue=xe===!0?dt.Replace:dt.Push,{formMethod:le,formAction:Me,formEncType:bt}=R.navigation;!W&&!re&&le&&Me&&bt&&(W=e1(R.navigation));let we=W||re;if(XP.has(P.status)&&we&&Gn(we.formMethod))await ct(ue,pe,{submission:it({},we,{formAction:P.location}),preventScrollReset:O});else{let He=Mp(pe,W);await ct(ue,pe,{overrideNavigation:He,fetcherSubmission:re,preventScrollReset:O})}}async function G(R,P,_,W,re){let xe=await Promise.all([..._.map(le=>Hl("loader",re,le,P,i,o,a,c.v7_relativeSplatPath)),...W.map(le=>le.matches&&le.match&&le.controller?Hl("loader",Wl(e.history,le.path,le.controller.signal),le.match,le.matches,i,o,a,c.v7_relativeSplatPath):{type:rt.error,error:$n(404,{pathname:le.path})})]),pe=xe.slice(0,_.length),ue=xe.slice(_.length);return await Promise.all([Z0(R,_,pe,pe.map(()=>re.signal),!1,S.loaderData),Z0(R,W.map(le=>le.match),ue,W.map(le=>le.controller?le.controller.signal:null),!0)]),{results:xe,loaderResults:pe,fetcherResults:ue}}function z(){H=!0,K.push(...li()),be.forEach((R,P)=>{X.has(P)&&(ae.push(P),jt(P))})}function A(R,P,_){_===void 0&&(_={}),S.fetchers.set(R,P),ce({fetchers:new Map(S.fetchers)},{flushSync:(_&&_.flushSync)===!0})}function U(R,P,_,W){W===void 0&&(W={});let re=ga(S.matches,P);Ce(R),ce({errors:{[re.route.id]:_},fetchers:new Map(S.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function me(R){return c.v7_fetcherPersist&&(et.set(R,(et.get(R)||0)+1),Ee.has(R)&&Ee.delete(R)),S.fetchers.get(R)||QP}function Ce(R){let P=S.fetchers.get(R);X.has(R)&&!(P&&P.state==="loading"&&ie.has(R))&&jt(R),be.delete(R),ie.delete(R),fe.delete(R),Ee.delete(R),S.fetchers.delete(R)}function nt(R){if(c.v7_fetcherPersist){let P=(et.get(R)||0)-1;P<=0?(et.delete(R),Ee.add(R)):et.set(R,P)}else Ce(R);ce({fetchers:new Map(S.fetchers)})}function jt(R){let P=X.get(R);ge(P,"Expected fetch controller: "+R),P.abort(),X.delete(R)}function gn(R){for(let P of R){let _=me(P),W=po(_.data);S.fetchers.set(P,W)}}function mr(){let R=[],P=!1;for(let _ of fe){let W=S.fetchers.get(_);ge(W,"Expected fetcher: "+_),W.state==="loading"&&(fe.delete(_),R.push(_),P=!0)}return gn(R),P}function ao(R){let P=[];for(let[_,W]of ie)if(W<R){let re=S.fetchers.get(_);ge(re,"Expected fetcher: "+_),re.state==="loading"&&(jt(_),ie.delete(_),P.push(_))}return gn(P),P.length>0}function co(R,P){let _=S.blockers.get(R)||Ul;return ve.get(R)!==P&&ve.set(R,P),_}function Lr(R){S.blockers.delete(R),ve.delete(R)}function Wn(R,P){let _=S.blockers.get(R)||Ul;ge(_.state==="unblocked"&&P.state==="blocked"||_.state==="blocked"&&P.state==="blocked"||_.state==="blocked"&&P.state==="proceeding"||_.state==="blocked"&&P.state==="unblocked"||_.state==="proceeding"&&P.state==="unblocked","Invalid blocker state transition: "+_.state+" -> "+P.state);let W=new Map(S.blockers);W.set(R,P),ce({blockers:W})}function as(R){let{currentLocation:P,nextLocation:_,historyAction:W}=R;if(ve.size===0)return;ve.size>1&&zi(!1,"A router only supports one blocker at a time");let re=Array.from(ve.entries()),[xe,pe]=re[re.length-1],ue=S.blockers.get(xe);if(!(ue&&ue.state==="proceeding")&&pe({currentLocation:P,nextLocation:_,historyAction:W}))return xe}function li(R){let P=[];return Ve.forEach((_,W)=>{(!R||R(W))&&(_.cancel(),P.push(W),Ve.delete(W))}),P}function Al(R,P,_){if(f=R,p=P,m=_||null,!g&&S.navigation===Rp){g=!0;let W=Pv(S.location,S.matches);W!=null&&ce({restoreScrollPosition:W})}return()=>{f=null,p=null,m=null}}function Ec(R,P){return m&&m(R,P.map(W=>RP(W,S.loaderData)))||R.key}function qR(R,P){if(f&&p){let _=Ec(R,P);f[_]=p()}}function Pv(R,P){if(f){let _=Ec(R,P),W=f[_];if(typeof W=="number")return W}return null}function JR(R){i={},l=Sm(R,o,void 0,i)}return E={get basename(){return a},get future(){return c},get state(){return S},get routes(){return s},get window(){return t},initialize:De,subscribe:Pe,enableScrollRestoration:Al,navigate:tt,fetch:T,revalidate:at,createHref:R=>e.history.createHref(R),encodeLocation:R=>e.history.encodeLocation(R),getFetcher:me,deleteFetcher:nt,dispose:Ue,getBlocker:co,deleteBlocker:Lr,_internalFetchControllers:X,_internalActiveDeferreds:Ve,_internalSetRoutes:JR},E}function tA(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function km(e,t,n,r,o,i,s,l){let a,c;if(s){a=[];for(let d of t)if(a.push(d),d.route.id===s){c=d;break}}else a=t,c=t[t.length-1];let u=af(o||".",lf(a,i),Ko(e.pathname,n)||e.pathname,l==="path");return o==null&&(u.search=e.search,u.hash=e.hash),(o==null||o===""||o===".")&&c&&c.route.index&&!Ty(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Rr([n,u.pathname])),Wo(u)}function H0(e,t,n,r){if(!r||!tA(r))return{path:n};if(r.formMethod&&!aA(r.formMethod))return{path:n,error:$n(405,{method:r.formMethod})};let o=()=>({path:n,error:$n(400,{type:"invalid-body"})}),i=r.formMethod||"get",s=e?i.toUpperCase():i.toLowerCase(),l=xk(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Gn(s))return o();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,p)=>{let[g,w]=p;return""+m+g+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Gn(s))return o();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return o()}}}ge(typeof FormData=="function","FormData is not available in this environment");let a,c;if(r.formData)a=Em(r.formData),c=r.formData;else if(r.body instanceof FormData)a=Em(r.body),c=r.body;else if(r.body instanceof URLSearchParams)a=r.body,c=J0(a);else if(r.body==null)a=new URLSearchParams,c=new FormData;else try{a=new URLSearchParams(r.body),c=J0(a)}catch{return o()}let u={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Gn(u.formMethod))return{path:n,submission:u};let d=oo(n);return t&&d.search&&Ty(d.search)&&a.append("index",""),d.search="?"+a,{path:Wo(d),submission:u}}function nA(e,t){let n=e;if(t){let r=e.findIndex(o=>o.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function W0(e,t,n,r,o,i,s,l,a,c,u,d,f,m,p,g){let w=g?Object.values(g)[0]:p?Object.values(p)[0]:void 0,y=e.createURL(t.location),v=e.createURL(o),b=g?Object.keys(g)[0]:void 0,E=nA(n,b).filter((C,O)=>{let{route:M}=C;if(M.lazy)return!0;if(M.loader==null)return!1;if(i)return M.loader.hydrate?!0:t.loaderData[M.id]===void 0&&(!t.errors||t.errors[M.id]===void 0);if(rA(t.loaderData,t.matches[O],C)||l.some(L=>L===C.route.id))return!0;let I=t.matches[O],Z=C;return K0(C,it({currentUrl:y,currentParams:I.params,nextUrl:v,nextParams:Z.params},r,{actionResult:w,defaultShouldRevalidate:s||y.pathname+y.search===v.pathname+v.search||y.search!==v.search||bk(I,Z)}))}),S=[];return u.forEach((C,O)=>{if(i||!n.some(Y=>Y.route.id===C.routeId)||c.has(O))return;let M=Is(f,C.path,m);if(!M){S.push({key:O,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let I=t.fetchers.get(O),Z=Cm(M,C.path),L=!1;d.has(O)?L=!1:a.includes(O)?L=!0:I&&I.state!=="idle"&&I.data===void 0?L=s:L=K0(Z,it({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:w,defaultShouldRevalidate:s})),L&&S.push({key:O,routeId:C.routeId,path:C.path,matches:M,match:Z,controller:new AbortController})}),[E,S]}function rA(e,t,n){let r=!t||n.route.id!==t.route.id,o=e[n.route.id]===void 0;return r||o}function bk(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function K0(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function q0(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let o=n[e.id];ge(o,"No route found in manifest");let i={};for(let s in r){let a=o[s]!==void 0&&s!=="hasErrorBoundary";zi(!a,'Route "'+o.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!a&&!TP.has(s)&&(i[s]=r[s])}Object.assign(o,i),Object.assign(o,it({},t(o),{lazy:void 0}))}async function Hl(e,t,n,r,o,i,s,l,a){a===void 0&&(a={});let c,u,d,f=g=>{let w,y=new Promise((v,b)=>w=b);return d=()=>w(),t.signal.addEventListener("abort",d),Promise.race([g({request:t,params:n.params,context:a.requestContext}),y])};try{let g=n.route[e];if(n.route.lazy)if(g){let w,y=await Promise.all([f(g).catch(v=>{w=v}),q0(n.route,i,o)]);if(w)throw w;u=y[0]}else if(await q0(n.route,i,o),g=n.route[e],g)u=await f(g);else if(e==="action"){let w=new URL(t.url),y=w.pathname+w.search;throw $n(405,{method:t.method,pathname:y,routeId:n.route.id})}else return{type:rt.data,data:void 0};else if(g)u=await f(g);else{let w=new URL(t.url),y=w.pathname+w.search;throw $n(404,{pathname:y})}ge(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(g){c=rt.error,u=g}finally{d&&t.signal.removeEventListener("abort",d)}if(lA(u)){let g=u.status;if(YP.has(g)){let y=u.headers.get("Location");if(ge(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!vk.test(y))y=km(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,y,l);else if(!a.isStaticRequest){let v=new URL(t.url),b=y.startsWith("//")?new URL(v.protocol+y):new URL(y),k=Ko(b.pathname,s)!=null;b.origin===v.origin&&k&&(y=b.pathname+b.search+b.hash)}if(a.isStaticRequest)throw u.headers.set("Location",y),u;return{type:rt.redirect,status:g,location:y,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:c===rt.error?rt.error:rt.data,response:u};let w;try{let y=u.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?u.body==null?w=null:w=await u.json():w=await u.text()}catch(y){return{type:rt.error,error:y}}return c===rt.error?{type:c,error:new Ey(g,u.statusText,w),headers:u.headers}:{type:rt.data,data:w,statusCode:u.status,headers:u.headers}}if(c===rt.error)return{type:c,error:u};if(sA(u)){var m,p;return{type:rt.deferred,deferredData:u,statusCode:(m=u.init)==null?void 0:m.status,headers:((p=u.init)==null?void 0:p.headers)&&new Headers(u.init.headers)}}return{type:rt.data,data:u}}function Wl(e,t,n,r){let o=e.createURL(xk(t)).toString(),i={signal:n};if(r&&Gn(r.formMethod)){let{formMethod:s,formEncType:l}=r;i.method=s.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(r.json)):l==="text/plain"?i.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?i.body=Em(r.formData):i.body=r.formData}return new Request(o,i)}function Em(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function J0(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function oA(e,t,n,r,o){let i={},s=null,l,a=!1,c={};return n.forEach((u,d)=>{let f=t[d].route.id;if(ge(!wi(u),"Cannot handle redirect results in processLoaderData"),Ls(u)){let m=ga(e,f),p=u.error;r&&(p=Object.values(r)[0],r=void 0),s=s||{},s[m.route.id]==null&&(s[m.route.id]=p),i[f]=void 0,a||(a=!0,l=Cy(u.error)?u.error.status:500),u.headers&&(c[f]=u.headers)}else vi(u)?(o.set(f,u.deferredData),i[f]=u.deferredData.data):i[f]=u.data,u.statusCode!=null&&u.statusCode!==200&&!a&&(l=u.statusCode),u.headers&&(c[f]=u.headers)}),r&&(s=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:s,statusCode:l||200,loaderHeaders:c}}function G0(e,t,n,r,o,i,s,l){let{loaderData:a,errors:c}=oA(t,n,r,o,l);for(let u=0;u<i.length;u++){let{key:d,match:f,controller:m}=i[u];ge(s!==void 0&&s[u]!==void 0,"Did not find corresponding fetcher result");let p=s[u];if(!(m&&m.signal.aborted))if(Ls(p)){let g=ga(e.matches,f==null?void 0:f.route.id);c&&c[g.route.id]||(c=it({},c,{[g.route.id]:p.error})),e.fetchers.delete(d)}else if(wi(p))ge(!1,"Unhandled fetcher revalidation redirect");else if(vi(p))ge(!1,"Unhandled fetcher deferred data");else{let g=po(p.data);e.fetchers.set(d,g)}}return{loaderData:a,errors:c}}function Y0(e,t,n,r){let o=it({},t);for(let i of n){let s=i.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(o[s]=t[s]):e[s]!==void 0&&i.route.loader&&(o[s]=e[s]),r&&r.hasOwnProperty(s))break}return o}function ga(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function X0(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function $n(e,t){let{pathname:n,routeId:r,method:o,type:i}=t===void 0?{}:t,s="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(s="Bad Request",o&&n&&r?l="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",l='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",o&&n&&r?l="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(l='Invalid request method "'+o.toUpperCase()+'"')),new Ey(e||500,s,new Error(l),!0)}function Q0(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(wi(n))return{result:n,idx:t}}}function xk(e){let t=typeof e=="string"?oo(e):e;return Wo(it({},t,{hash:""}))}function iA(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function vi(e){return e.type===rt.deferred}function Ls(e){return e.type===rt.error}function wi(e){return(e&&e.type)===rt.redirect}function sA(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function lA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function aA(e){return GP.has(e.toLowerCase())}function Gn(e){return qP.has(e.toLowerCase())}async function Z0(e,t,n,r,o,i){for(let s=0;s<n.length;s++){let l=n[s],a=t[s];if(!a)continue;let c=e.find(d=>d.route.id===a.route.id),u=c!=null&&!bk(c,a)&&(i&&i[a.route.id])!==void 0;if(vi(l)&&(o||u)){let d=r[s];ge(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await Sk(l,d,o).then(f=>{f&&(n[s]=f||n[s])})}}}async function Sk(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:rt.data,data:e.deferredData.unwrappedData}}catch(o){return{type:rt.error,error:o}}return{type:rt.data,data:e.deferredData.data}}}function Ty(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Cm(e,t){let n=typeof t=="string"?oo(t).search:t.search;if(e[e.length-1].route.index&&Ty(n||""))return e[e.length-1];let r=gk(e);return r[r.length-1]}function e1(e){let{formMethod:t,formAction:n,formEncType:r,text:o,formData:i,json:s}=e;if(!(!t||!n||!r)){if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Mp(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function cA(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Kl(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function uA(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function po(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function dA(e,t){try{let n=e.sessionStorage.getItem(wk);if(n){let r=JSON.parse(n);for(let[o,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(o,new Set(i||[]))}}catch{}}function fA(e,t){if(t.size>0){let n={};for(let[r,o]of t)n[r]=[...o];try{e.sessionStorage.setItem(wk,JSON.stringify(n))}catch(r){zi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},od.apply(this,arguments)}const fc=h.createContext(null),kk=h.createContext(null),_r=h.createContext(null),Oy=h.createContext(null),dr=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Ek=h.createContext(null);function pA(e,t){let{relative:n}=t===void 0?{}:t;xl()||ge(!1);let{basename:r,navigator:o}=h.useContext(_r),{hash:i,pathname:s,search:l}=My(e,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:Rr([r,s])),o.createHref({pathname:a,search:l,hash:i})}function xl(){return h.useContext(Oy)!=null}function ni(){return xl()||ge(!1),h.useContext(Oy).location}function Ck(e){h.useContext(_r).static||h.useLayoutEffect(e)}function Hn(){let{isDataRoute:e}=h.useContext(dr);return e?RA():hA()}function hA(){xl()||ge(!1);let e=h.useContext(fc),{basename:t,future:n,navigator:r}=h.useContext(_r),{matches:o}=h.useContext(dr),{pathname:i}=ni(),s=JSON.stringify(lf(o,n.v7_relativeSplatPath)),l=h.useRef(!1);return Ck(()=>{l.current=!0}),h.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let d=af(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Rr([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,i,e])}const mA=h.createContext(null);function gA(e){let t=h.useContext(dr).outlet;return t&&h.createElement(mA.Provider,{value:e},t)}function Ry(){let{matches:e}=h.useContext(dr),t=e[e.length-1];return t?t.params:{}}function My(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=h.useContext(_r),{matches:o}=h.useContext(dr),{pathname:i}=ni(),s=JSON.stringify(lf(o,r.v7_relativeSplatPath));return h.useMemo(()=>af(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function yA(e,t,n,r){xl()||ge(!1);let{navigator:o}=h.useContext(_r),{matches:i}=h.useContext(dr),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let c=ni(),u;u=c;let d=u.pathname||"/",f=d;if(a!=="/"){let g=a.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let m=Is(e,{pathname:f});return SA(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Rr([a,o.encodeLocation?o.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Rr([a,o.encodeLocation?o.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n,r)}function vA(){let e=Ok(),t=Cy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:o},n):null,null)}const wA=h.createElement(vA,null);class bA extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(dr.Provider,{value:this.props.routeContext},h.createElement(Ek.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xA(e){let{routeContext:t,match:n,children:r}=e,o=h.useContext(fc);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(dr.Provider,{value:t},r)}function SA(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,l=(o=n)==null?void 0:o.errors;if(l!=null){let u=s.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id]));u>=0||ge(!1),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||p){a=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let m,p=!1,g=null,w=null;n&&(m=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||wA,a&&(c<0&&f===0?(p=!0,w=null):c===f&&(p=!0,w=d.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,f+1)),v=()=>{let b;return m?b=g:p?b=w:d.route.Component?b=h.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,h.createElement(xA,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?h.createElement(bA,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Tk=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Tk||{}),qo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qo||{});function kA(e){let t=h.useContext(fc);return t||ge(!1),t}function Dy(e){let t=h.useContext(kk);return t||ge(!1),t}function EA(e){let t=h.useContext(dr);return t||ge(!1),t}function cf(e){let t=EA(),n=t.matches[t.matches.length-1];return n.route.id||ge(!1),n.route.id}function CA(){return cf(qo.UseRouteId)}function TA(){return Dy(qo.UseNavigation).navigation}function OA(){let e=Dy(qo.UseLoaderData),t=cf(qo.UseLoaderData);if(e.errors&&e.errors[t]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return e.loaderData[t]}function Ok(){var e;let t=h.useContext(Ek),n=Dy(qo.UseRouteError),r=cf(qo.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function RA(){let{router:e}=kA(Tk.UseNavigateStable),t=cf(qo.UseNavigateStable),n=h.useRef(!1);return Ck(()=>{n.current=!0}),h.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,od({fromRouteId:t},i)))},[e,t])}function MA(e){let{to:t,replace:n,state:r,relative:o}=e;xl()||ge(!1);let{future:i,static:s}=h.useContext(_r),{matches:l}=h.useContext(dr),{pathname:a}=ni(),c=Hn(),u=af(t,lf(l,i.v7_relativeSplatPath),a,o==="path"),d=JSON.stringify(u);return h.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:o}),[c,d,o,n,r]),null}function Rk(e){return gA(e.context)}function wr(e){ge(!1)}function DA(e){let{basename:t="/",children:n=null,location:r,navigationType:o=dt.Pop,navigator:i,static:s=!1,future:l}=e;xl()&&ge(!1);let a=t.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:a,navigator:i,static:s,future:od({v7_relativeSplatPath:!1},l)}),[a,l,i,s]);typeof r=="string"&&(r=oo(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:p="default"}=r,g=h.useMemo(()=>{let w=Ko(u,a);return w==null?null:{location:{pathname:w,search:d,hash:f,state:m,key:p},navigationType:o}},[a,u,d,f,m,p,o]);return g==null?null:h.createElement(_r.Provider,{value:c},h.createElement(Oy.Provider,{children:n,value:g}))}new Promise(()=>{});function Tm(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,o)=>{if(!h.isValidElement(r))return;let i=[...t,o];if(r.type===h.Fragment){n.push.apply(n,Tm(r.props.children,i));return}r.type!==wr&&ge(!1),!r.props.index||!r.props.children||ge(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Tm(r.props.children,i)),n.push(s)}),n}function PA(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:h.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:h.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:h.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vi.apply(this,arguments)}function Mk(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}const ku="get",Dp="application/x-www-form-urlencoded";function uf(e){return e!=null&&typeof e.tagName=="string"}function AA(e){return uf(e)&&e.tagName.toLowerCase()==="button"}function NA(e){return uf(e)&&e.tagName.toLowerCase()==="form"}function $A(e){return uf(e)&&e.tagName.toLowerCase()==="input"}function _A(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IA(e,t){return e.button===0&&(!t||t==="_self")&&!_A(e)}function Om(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function LA(e,t){let n=Om(e);return t&&t.forEach((r,o)=>{n.has(o)||t.getAll(o).forEach(i=>{n.append(o,i)})}),n}let Hc=null;function FA(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}const jA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pp(e){return e!=null&&!jA.has(e)?null:e}function BA(e,t){let n,r,o,i,s;if(NA(e)){let l=e.getAttribute("action");r=l?Ko(l,t):null,n=e.getAttribute("method")||ku,o=Pp(e.getAttribute("enctype"))||Dp,i=new FormData(e)}else if(AA(e)||$A(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||l.getAttribute("action");if(r=a?Ko(a,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ku,o=Pp(e.getAttribute("formenctype"))||Pp(l.getAttribute("enctype"))||Dp,i=new FormData(l,e),!FA()){let{name:c,type:u,value:d}=e;if(u==="image"){let f=c?c+".":"";i.append(f+"x","0"),i.append(f+"y","0")}else c&&i.append(c,d)}}else{if(uf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ku,r=null,o=Dp,s=e}return i&&o==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}const zA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],VA=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","unstable_viewTransition"],UA="6";try{window.__reactRouterVersion=UA}catch{}function HA(e,t){return eA({basename:void 0,future:Vi({},void 0,{v7_prependBasename:!0}),history:kP({window:void 0}),hydrationData:WA(),routes:e,mapRouteProperties:PA,window:void 0}).initialize()}function WA(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Vi({},t,{errors:KA(t.errors)})),t}function KA(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,o]of t)if(o&&o.__type==="RouteErrorResponse")n[r]=new Ey(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let i=window[o.__subType];if(typeof i=="function")try{let s=new i(o.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let i=new Error(o.message);i.stack="",n[r]=i}}else n[r]=o;return n}const qA=h.createContext({isTransitioning:!1}),JA=h.createContext(new Map),GA="startTransition",t1=Oa[GA],YA="flushSync",n1=SP[YA];function XA(e){t1?t1(e):e()}function ql(e){n1?n1(e):e()}class QA{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function ZA(e){let{fallbackElement:t,router:n,future:r}=e,[o,i]=h.useState(n.state),[s,l]=h.useState(),[a,c]=h.useState({isTransitioning:!1}),[u,d]=h.useState(),[f,m]=h.useState(),[p,g]=h.useState(),w=h.useRef(new Map),{v7_startTransition:y}=r||{},v=h.useCallback(C=>{y?XA(C):C()},[y]),b=h.useCallback((C,O)=>{let{deletedFetchers:M,unstable_flushSync:I,unstable_viewTransitionOpts:Z}=O;M.forEach(Y=>w.current.delete(Y)),C.fetchers.forEach((Y,H)=>{Y.data!==void 0&&w.current.set(H,Y.data)});let L=n.window==null||typeof n.window.document.startViewTransition!="function";if(!Z||L){I?ql(()=>i(C)):v(()=>i(C));return}if(I){ql(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})});let Y=n.window.document.startViewTransition(()=>{ql(()=>i(C))});Y.finished.finally(()=>{ql(()=>{d(void 0),m(void 0),l(void 0),c({isTransitioning:!1})})}),ql(()=>m(Y));return}f?(u&&u.resolve(),f.skipTransition(),g({state:C,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})):(l(C),c({isTransitioning:!0,flushSync:!1,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation}))},[n.window,f,u,w,v]);h.useLayoutEffect(()=>n.subscribe(b),[n,b]),h.useEffect(()=>{a.isTransitioning&&!a.flushSync&&d(new QA)},[a]),h.useEffect(()=>{if(u&&s&&n.window){let C=s,O=u.promise,M=n.window.document.startViewTransition(async()=>{v(()=>i(C)),await O});M.finished.finally(()=>{d(void 0),m(void 0),l(void 0),c({isTransitioning:!1})}),m(M)}},[v,s,u,n.window]),h.useEffect(()=>{u&&s&&o.location.key===s.location.key&&u.resolve()},[u,f,o.location,s]),h.useEffect(()=>{!a.isTransitioning&&p&&(l(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[a.isTransitioning,p]),h.useEffect(()=>{},[]);let k=h.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,O,M)=>n.navigate(C,{state:O,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(C,O,M)=>n.navigate(C,{replace:!0,state:O,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[n]),E=n.basename||"/",S=h.useMemo(()=>({router:n,navigator:k,static:!1,basename:E}),[n,k,E]);return h.createElement(h.Fragment,null,h.createElement(fc.Provider,{value:S},h.createElement(kk.Provider,{value:o},h.createElement(JA.Provider,{value:w.current},h.createElement(qA.Provider,{value:a},h.createElement(DA,{basename:E,location:o.location,navigationType:o.historyAction,navigator:k,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},o.initialized||n.future.v7_partialHydration?h.createElement(eN,{routes:n.routes,future:n.future,state:o}):t))))),null)}function eN(e){let{routes:t,future:n,state:r}=e;return yA(t,void 0,r,n)}const tN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rN=h.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:l,target:a,to:c,preventScrollReset:u,unstable_viewTransition:d}=t,f=Mk(t,zA),{basename:m}=h.useContext(_r),p,g=!1;if(typeof c=="string"&&nN.test(c)&&(p=c,tN))try{let b=new URL(window.location.href),k=c.startsWith("//")?new URL(b.protocol+c):new URL(c),E=Ko(k.pathname,m);k.origin===b.origin&&E!=null?c=E+k.search+k.hash:g=!0}catch{}let w=pA(c,{relative:o}),y=sN(c,{replace:s,state:l,target:a,preventScrollReset:u,relative:o,unstable_viewTransition:d});function v(b){r&&r(b),b.defaultPrevented||y(b)}return h.createElement("a",Vi({},f,{href:p||w,onClick:g||i?r:v,ref:n,target:a}))}),oN=h.forwardRef((e,t)=>{let{fetcherKey:n,navigate:r,reloadDocument:o,replace:i,state:s,method:l=ku,action:a,onSubmit:c,relative:u,preventScrollReset:d,unstable_viewTransition:f}=e,m=Mk(e,VA),p=Dk(),g=dN(a,{relative:u}),w=l.toLowerCase()==="get"?"get":"post",y=v=>{if(c&&c(v),v.defaultPrevented)return;v.preventDefault();let b=v.nativeEvent.submitter,k=(b==null?void 0:b.getAttribute("formmethod"))||l;p(b||v.currentTarget,{fetcherKey:n,method:k,navigate:r,replace:i,state:s,relative:u,preventScrollReset:d,unstable_viewTransition:f})};return h.createElement("form",Vi({ref:t,method:w,action:g,onSubmit:o?c:y},m))});var Rm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rm||(Rm={}));var r1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(r1||(r1={}));function iN(e){let t=h.useContext(fc);return t||ge(!1),t}function sN(e,t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:l}=t===void 0?{}:t,a=Hn(),c=ni(),u=My(e,{relative:s});return h.useCallback(d=>{if(IA(d,n)){d.preventDefault();let f=r!==void 0?r:Wo(c)===Wo(u);a(e,{replace:f,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:l})}},[c,a,u,r,o,n,e,i,s,l])}function lN(e){let t=h.useRef(Om(e)),n=h.useRef(!1),r=ni(),o=h.useMemo(()=>LA(r.search,n.current?null:t.current),[r.search]),i=Hn(),s=h.useCallback((l,a)=>{const c=Om(typeof l=="function"?l(o):l);n.current=!0,i("?"+c,a)},[i,o]);return[o,s]}function aN(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let cN=0,uN=()=>"__"+String(++cN)+"__";function Dk(){let{router:e}=iN(Rm.UseSubmit),{basename:t}=h.useContext(_r),n=CA();return h.useCallback(function(r,o){o===void 0&&(o={}),aN();let{action:i,method:s,encType:l,formData:a,body:c}=BA(r,t);if(o.navigate===!1){let u=o.fetcherKey||uN();e.fetch(u,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:a,body:c,formMethod:o.method||s,formEncType:o.encType||l,unstable_flushSync:o.unstable_flushSync})}else e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:a,body:c,formMethod:o.method||s,formEncType:o.encType||l,replace:o.replace,state:o.state,fromRouteId:n,unstable_flushSync:o.unstable_flushSync,unstable_viewTransition:o.unstable_viewTransition})},[e,t,n])}function dN(e,t){let{relative:n}=t===void 0?{}:t,{basename:r}=h.useContext(_r),o=h.useContext(dr);o||ge(!1);let[i]=o.matches.slice(-1),s=Vi({},My(e||".",{relative:n})),l=ni();if(e==null){s.search=l.search;let a=new URLSearchParams(s.search);a.has("index")&&a.get("index")===""&&(a.delete("index"),s.search=a.toString()?"?"+a.toString():"")}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Rr([r,s.pathname])),Wo(s)}function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}function Ne(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function fN(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Pk(...e){return t=>e.forEach(n=>fN(n,t))}function lt(...e){return h.useCallback(Pk(...e),e)}function Ir(e,t=[]){let n=[];function r(i,s){const l=h.createContext(s),a=n.length;n=[...n,s];function c(d){const{scope:f,children:m,...p}=d,g=(f==null?void 0:f[e][a])||l,w=h.useMemo(()=>p,Object.values(p));return h.createElement(g.Provider,{value:w},m)}function u(d,f){const m=(f==null?void 0:f[e][a])||l,p=h.useContext(m);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const o=()=>{const i=n.map(s=>h.createContext(s));return function(l){const a=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:a}}),[l,a])}};return o.scopeName=e,[r,pN(o,...t)]}function pN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((l,{useScope:a,scopeName:c})=>{const d=a(i)[`__scope${c}`];return{...l,...d}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}const ll=h.forwardRef((e,t)=>{const{children:n,...r}=e,o=h.Children.toArray(n),i=o.find(mN);if(i){const s=i.props.children,l=o.map(a=>a===i?h.Children.count(s)>1?h.Children.only(null):h.isValidElement(s)?s.props.children:null:a);return h.createElement(Mm,te({},r,{ref:t}),h.isValidElement(s)?h.cloneElement(s,void 0,l):null)}return h.createElement(Mm,te({},r,{ref:t}),n)});ll.displayName="Slot";const Mm=h.forwardRef((e,t)=>{const{children:n,...r}=e;return h.isValidElement(n)?h.cloneElement(n,{...gN(r,n.props),ref:t?Pk(t,n.ref):n.ref}):h.Children.count(n)>1?h.Children.only(null):null});Mm.displayName="SlotClone";const hN=({children:e})=>h.createElement(h.Fragment,null,e);function mN(e){return h.isValidElement(e)&&e.type===hN}function gN(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...l)=>{i(...l),o(...l)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}const yN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Le=yN.reduce((e,t)=>{const n=h.forwardRef((r,o)=>{const{asChild:i,...s}=r,l=i?ll:t;return h.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),h.createElement(l,te({},s,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function vN(e,t){e&&ur.flushSync(()=>e.dispatchEvent(t))}function Dr(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function wN(e,t=globalThis==null?void 0:globalThis.document){const n=Dr(e);h.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Dm="dismissableLayer.update",bN="dismissableLayer.pointerDownOutside",xN="dismissableLayer.focusOutside";let o1;const SN=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ak=h.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:a,...c}=e,u=h.useContext(SN),[d,f]=h.useState(null),m=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,p]=h.useState({}),g=lt(t,O=>f(O)),w=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=w.indexOf(y),b=d?w.indexOf(d):-1,k=u.layersWithOutsidePointerEventsDisabled.size>0,E=b>=v,S=kN(O=>{const M=O.target,I=[...u.branches].some(Z=>Z.contains(M));!E||I||(i==null||i(O),l==null||l(O),O.defaultPrevented||a==null||a())},m),C=EN(O=>{const M=O.target;[...u.branches].some(Z=>Z.contains(M))||(s==null||s(O),l==null||l(O),O.defaultPrevented||a==null||a())},m);return wN(O=>{b===u.layers.size-1&&(o==null||o(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},m),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(o1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),i1(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=o1)}},[d,m,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),i1())},[d,u]),h.useEffect(()=>{const O=()=>p({});return document.addEventListener(Dm,O),()=>document.removeEventListener(Dm,O)},[]),h.createElement(Le.div,te({},c,{ref:g,style:{pointerEvents:k?E?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,S.onPointerDownCapture)}))});function kN(e,t=globalThis==null?void 0:globalThis.document){const n=Dr(e),r=h.useRef(!1),o=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){Nk(bN,n,c,{discrete:!0})};var a=u;const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=u,t.addEventListener("click",o.current,{once:!0})):u()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function EN(e,t=globalThis==null?void 0:globalThis.document){const n=Dr(e),r=h.useRef(!1);return h.useEffect(()=>{const o=i=>{i.target&&!r.current&&Nk(xN,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function i1(){const e=new CustomEvent(Dm);document.dispatchEvent(e)}function Nk(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?vN(o,i):o.dispatchEvent(i)}const mn=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},CN=Oa.useId||(()=>{});let TN=0;function df(e){const[t,n]=h.useState(CN());return mn(()=>{e||n(r=>r??String(TN++))},[e]),e||(t?`radix-${t}`:"")}const ON=["top","right","bottom","left"],Jo=Math.min,bn=Math.max,id=Math.round,Wc=Math.floor,Go=e=>({x:e,y:e}),RN={left:"right",right:"left",bottom:"top",top:"bottom"},MN={start:"end",end:"start"};function Pm(e,t,n){return bn(e,Jo(t,n))}function Qr(e,t){return typeof e=="function"?e(t):e}function Zr(e){return e.split("-")[0]}function Sl(e){return e.split("-")[1]}function Py(e){return e==="x"?"y":"x"}function Ay(e){return e==="y"?"height":"width"}function kl(e){return["top","bottom"].includes(Zr(e))?"y":"x"}function Ny(e){return Py(kl(e))}function DN(e,t,n){n===void 0&&(n=!1);const r=Sl(e),o=Ny(e),i=Ay(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=sd(s)),[s,sd(s)]}function PN(e){const t=sd(e);return[Am(e),t,Am(t)]}function Am(e){return e.replace(/start|end/g,t=>MN[t])}function AN(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function NN(e,t,n,r){const o=Sl(e);let i=AN(Zr(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Am)))),i}function sd(e){return e.replace(/left|right|bottom|top/g,t=>RN[t])}function $N(e){return{top:0,right:0,bottom:0,left:0,...e}}function $k(e){return typeof e!="number"?$N(e):{top:e,right:e,bottom:e,left:e}}function ld(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function s1(e,t,n){let{reference:r,floating:o}=e;const i=kl(t),s=Ny(t),l=Ay(s),a=Zr(t),c=i==="y",u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[l]/2-o[l]/2;let m;switch(a){case"top":m={x:u,y:r.y-o.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-o.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Sl(t)){case"start":m[s]-=f*(n&&c?-1:1);break;case"end":m[s]+=f*(n&&c?-1:1);break}return m}const _N=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=s1(c,r,a),f=r,m={},p=0;for(let g=0;g<l.length;g++){const{name:w,fn:y}=l[g],{x:v,y:b,data:k,reset:E}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:m,rects:c,platform:s,elements:{reference:e,floating:t}});u=v??u,d=b??d,m={...m,[w]:{...m[w],...k}},E&&p<=50&&(p++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:u,y:d}=s1(c,f,a)),g=-1)}return{x:u,y:d,placement:f,strategy:o,middlewareData:m}};async function Ka(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:l,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=Qr(t,e),p=$k(m),w=l[f?d==="floating"?"reference":"floating":d],y=ld(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:a})),v=d==="floating"?{...s.floating,x:r,y:o}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},E=ld(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:a}):v);return{top:(y.top-E.top+p.top)/k.y,bottom:(E.bottom-y.bottom+p.bottom)/k.y,left:(y.left-E.left+p.left)/k.x,right:(E.right-y.right+p.right)/k.x}}const IN=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:l,middlewareData:a}=t,{element:c,padding:u=0}=Qr(e,t)||{};if(c==null)return{};const d=$k(u),f={x:n,y:r},m=Ny(o),p=Ay(m),g=await s.getDimensions(c),w=m==="y",y=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",k=i.reference[p]+i.reference[m]-f[m]-i.floating[p],E=f[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let C=S?S[b]:0;(!C||!await(s.isElement==null?void 0:s.isElement(S)))&&(C=l.floating[b]||i.floating[p]);const O=k/2-E/2,M=C/2-g[p]/2-1,I=Jo(d[y],M),Z=Jo(d[v],M),L=I,Y=C-g[p]-Z,H=C/2-g[p]/2+O,K=Pm(L,H,Y),ae=!a.arrow&&Sl(o)!=null&&H!==K&&i.reference[p]/2-(H<L?I:Z)-g[p]/2<0,X=ae?H<L?H-L:H-Y:0;return{[m]:f[m]+X,data:{[m]:K,centerOffset:H-K-X,...ae&&{alignmentOffset:X}},reset:ae}}}),LN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:l,platform:a,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...w}=Qr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Zr(o),v=Zr(l)===l,b=await(a.isRTL==null?void 0:a.isRTL(c.floating)),k=f||(v||!g?[sd(l)]:PN(l));!f&&p!=="none"&&k.push(...NN(l,g,p,b));const E=[l,...k],S=await Ka(t,w),C=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&C.push(S[y]),d){const L=DN(o,s,b);C.push(S[L[0]],S[L[1]])}if(O=[...O,{placement:o,overflows:C}],!C.every(L=>L<=0)){var M,I;const L=(((M=i.flip)==null?void 0:M.index)||0)+1,Y=E[L];if(Y)return{data:{index:L,overflows:O},reset:{placement:Y}};let H=(I=O.filter(K=>K.overflows[0]<=0).sort((K,ae)=>K.overflows[1]-ae.overflows[1])[0])==null?void 0:I.placement;if(!H)switch(m){case"bestFit":{var Z;const K=(Z=O.map(ae=>[ae.placement,ae.overflows.filter(X=>X>0).reduce((X,F)=>X+F,0)]).sort((ae,X)=>ae[1]-X[1])[0])==null?void 0:Z[0];K&&(H=K);break}case"initialPlacement":H=l;break}if(o!==H)return{reset:{placement:H}}}return{}}}};function l1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function a1(e){return ON.some(t=>e[t]>=0)}const FN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Qr(e,t);switch(r){case"referenceHidden":{const i=await Ka(t,{...o,elementContext:"reference"}),s=l1(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:a1(s)}}}case"escaped":{const i=await Ka(t,{...o,altBoundary:!0}),s=l1(i,n.floating);return{data:{escapedOffsets:s,escaped:a1(s)}}}default:return{}}}}};async function jN(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Zr(n),l=Sl(n),a=kl(n)==="y",c=["left","top"].includes(s)?-1:1,u=i&&a?-1:1,d=Qr(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),a?{x:m*u,y:f*c}:{x:f*c,y:m*u}}const BN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:l}=t,a=await jN(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+a.x,y:i+a.y,data:{...a,placement:s}}}}},zN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...a}=Qr(e,t),c={x:n,y:r},u=await Ka(t,a),d=kl(Zr(o)),f=Py(d);let m=c[f],p=c[d];if(i){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=m+u[w],b=m-u[y];m=Pm(v,m,b)}if(s){const w=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=p+u[w],b=p-u[y];p=Pm(v,p,b)}const g=l.fn({...t,[f]:m,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},VN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:l=0,mainAxis:a=!0,crossAxis:c=!0}=Qr(e,t),u={x:n,y:r},d=kl(o),f=Py(d);let m=u[f],p=u[d];const g=Qr(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(a){const b=f==="y"?"height":"width",k=i.reference[f]-i.floating[b]+w.mainAxis,E=i.reference[f]+i.reference[b]-w.mainAxis;m<k?m=k:m>E&&(m=E)}if(c){var y,v;const b=f==="y"?"width":"height",k=["top","left"].includes(Zr(o)),E=i.reference[d]-i.floating[b]+(k&&((y=s.offset)==null?void 0:y[d])||0)+(k?0:w.crossAxis),S=i.reference[d]+i.reference[b]+(k?0:((v=s.offset)==null?void 0:v[d])||0)-(k?w.crossAxis:0);p<E?p=E:p>S&&(p=S)}return{[f]:m,[d]:p}}}},UN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:s=()=>{},...l}=Qr(e,t),a=await Ka(t,l),c=Zr(n),u=Sl(n),d=kl(n)==="y",{width:f,height:m}=r.floating;let p,g;c==="top"||c==="bottom"?(p=c,g=u===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(g=c,p=u==="end"?"top":"bottom");const w=m-a[p],y=f-a[g],v=!t.middlewareData.shift;let b=w,k=y;if(d){const S=f-a.left-a.right;k=u||v?Jo(y,S):S}else{const S=m-a.top-a.bottom;b=u||v?Jo(w,S):S}if(v&&!u){const S=bn(a.left,0),C=bn(a.right,0),O=bn(a.top,0),M=bn(a.bottom,0);d?k=f-2*(S!==0||C!==0?S+C:bn(a.left,a.right)):b=m-2*(O!==0||M!==0?O+M:bn(a.top,a.bottom))}await s({...t,availableWidth:k,availableHeight:b});const E=await o.getDimensions(i.floating);return f!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function Yo(e){return _k(e)?(e.nodeName||"").toLowerCase():"#document"}function Cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function io(e){var t;return(t=(_k(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _k(e){return e instanceof Node||e instanceof Cn(e).Node}function eo(e){return e instanceof Element||e instanceof Cn(e).Element}function Pr(e){return e instanceof HTMLElement||e instanceof Cn(e).HTMLElement}function c1(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cn(e).ShadowRoot}function pc(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Un(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function HN(e){return["table","td","th"].includes(Yo(e))}function $y(e){const t=_y(),n=Un(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function WN(e){let t=al(e);for(;Pr(t)&&!ff(t);){if($y(t))return t;t=al(t)}return null}function _y(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ff(e){return["html","body","#document"].includes(Yo(e))}function Un(e){return Cn(e).getComputedStyle(e)}function pf(e){return eo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function al(e){if(Yo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||c1(e)&&e.host||io(e);return c1(t)?t.host:t}function Ik(e){const t=al(e);return ff(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pr(t)&&pc(t)?t:Ik(t)}function qa(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Ik(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Cn(o);return i?t.concat(s,s.visualViewport||[],pc(o)?o:[],s.frameElement&&n?qa(s.frameElement):[]):t.concat(o,qa(o,[],n))}function Lk(e){const t=Un(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Pr(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,l=id(n)!==i||id(r)!==s;return l&&(n=i,r=s),{width:n,height:r,$:l}}function Iy(e){return eo(e)?e:e.contextElement}function qs(e){const t=Iy(e);if(!Pr(t))return Go(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Lk(t);let s=(i?id(n.width):n.width)/r,l=(i?id(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const KN=Go(0);function Fk(e){const t=Cn(e);return!_y()||!t.visualViewport?KN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cn(e)?!1:t}function Ui(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Iy(e);let s=Go(1);t&&(r?eo(r)&&(s=qs(r)):s=qs(e));const l=qN(i,n,r)?Fk(i):Go(0);let a=(o.left+l.x)/s.x,c=(o.top+l.y)/s.y,u=o.width/s.x,d=o.height/s.y;if(i){const f=Cn(i),m=r&&eo(r)?Cn(r):r;let p=f,g=p.frameElement;for(;g&&r&&m!==p;){const w=qs(g),y=g.getBoundingClientRect(),v=Un(g),b=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,k=y.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;a*=w.x,c*=w.y,u*=w.x,d*=w.y,a+=b,c+=k,p=Cn(g),g=p.frameElement}}return ld({width:u,height:d,x:a,y:c})}const JN=[":popover-open",":modal"];function jk(e){return JN.some(t=>{try{return e.matches(t)}catch{return!1}})}function GN(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=io(r),l=t?jk(t.floating):!1;if(r===s||l&&i)return n;let a={scrollLeft:0,scrollTop:0},c=Go(1);const u=Go(0),d=Pr(r);if((d||!d&&!i)&&((Yo(r)!=="body"||pc(s))&&(a=pf(r)),Pr(r))){const f=Ui(r);c=qs(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-a.scrollLeft*c.x+u.x,y:n.y*c.y-a.scrollTop*c.y+u.y}}function YN(e){return Array.from(e.getClientRects())}function Bk(e){return Ui(io(e)).left+pf(e).scrollLeft}function XN(e){const t=io(e),n=pf(e),r=e.ownerDocument.body,o=bn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=bn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Bk(e);const l=-n.scrollTop;return Un(r).direction==="rtl"&&(s+=bn(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:l}}function QN(e,t){const n=Cn(e),r=io(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,l=0,a=0;if(o){i=o.width,s=o.height;const c=_y();(!c||c&&t==="fixed")&&(l=o.offsetLeft,a=o.offsetTop)}return{width:i,height:s,x:l,y:a}}function ZN(e,t){const n=Ui(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Pr(e)?qs(e):Go(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,a=o*i.x,c=r*i.y;return{width:s,height:l,x:a,y:c}}function u1(e,t,n){let r;if(t==="viewport")r=QN(e,n);else if(t==="document")r=XN(io(e));else if(eo(t))r=ZN(t,n);else{const o=Fk(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return ld(r)}function zk(e,t){const n=al(e);return n===t||!eo(n)||ff(n)?!1:Un(n).position==="fixed"||zk(n,t)}function e2(e,t){const n=t.get(e);if(n)return n;let r=qa(e,[],!1).filter(l=>eo(l)&&Yo(l)!=="body"),o=null;const i=Un(e).position==="fixed";let s=i?al(e):e;for(;eo(s)&&!ff(s);){const l=Un(s),a=$y(s);!a&&l.position==="fixed"&&(o=null),(i?!a&&!o:!a&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||pc(s)&&!a&&zk(e,s))?r=r.filter(u=>u!==s):o=l,s=al(s)}return t.set(e,r),r}function t2(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?e2(t,this._c):[].concat(n),r],l=s[0],a=s.reduce((c,u)=>{const d=u1(t,u,o);return c.top=bn(d.top,c.top),c.right=Jo(d.right,c.right),c.bottom=Jo(d.bottom,c.bottom),c.left=bn(d.left,c.left),c},u1(t,l,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function n2(e){const{width:t,height:n}=Lk(e);return{width:t,height:n}}function r2(e,t,n){const r=Pr(t),o=io(t),i=n==="fixed",s=Ui(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const a=Go(0);if(r||!r&&!i)if((Yo(t)!=="body"||pc(o))&&(l=pf(t)),r){const d=Ui(t,!0,i,t);a.x=d.x+t.clientLeft,a.y=d.y+t.clientTop}else o&&(a.x=Bk(o));const c=s.left+l.scrollLeft-a.x,u=s.top+l.scrollTop-a.y;return{x:c,y:u,width:s.width,height:s.height}}function d1(e,t){return!Pr(e)||Un(e).position==="fixed"?null:t?t(e):e.offsetParent}function Vk(e,t){const n=Cn(e);if(!Pr(e)||jk(e))return n;let r=d1(e,t);for(;r&&HN(r)&&Un(r).position==="static";)r=d1(r,t);return r&&(Yo(r)==="html"||Yo(r)==="body"&&Un(r).position==="static"&&!$y(r))?n:r||WN(e)||n}const o2=async function(e){const t=this.getOffsetParent||Vk,n=this.getDimensions;return{reference:r2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function i2(e){return Un(e).direction==="rtl"}const s2={convertOffsetParentRelativeRectToViewportRelativeRect:GN,getDocumentElement:io,getClippingRect:t2,getOffsetParent:Vk,getElementRects:o2,getClientRects:YN,getDimensions:n2,getScale:qs,isElement:eo,isRTL:i2};function l2(e,t){let n=null,r;const o=io(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),i();const{left:c,top:u,width:d,height:f}=e.getBoundingClientRect();if(l||t(),!d||!f)return;const m=Wc(u),p=Wc(o.clientWidth-(c+d)),g=Wc(o.clientHeight-(u+f)),w=Wc(c),v={rootMargin:-m+"px "+-p+"px "+-g+"px "+-w+"px",threshold:bn(0,Jo(1,a))||1};let b=!0;function k(E){const S=E[0].intersectionRatio;if(S!==a){if(!b)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}b=!1}try{n=new IntersectionObserver(k,{...v,root:o.ownerDocument})}catch{n=new IntersectionObserver(k,v)}n.observe(e)}return s(!0),i}function a2(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,c=Iy(e),u=o||i?[...c?qa(c):[],...qa(t)]:[];u.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const d=c&&l?l2(c,n):null;let f=-1,m=null;s&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),n()}),c&&!a&&m.observe(c),m.observe(t));let p,g=a?Ui(e):null;a&&w();function w(){const y=Ui(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,p=requestAnimationFrame(w)}return n(),()=>{var y;u.forEach(v=>{o&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),d==null||d(),(y=m)==null||y.disconnect(),m=null,a&&cancelAnimationFrame(p)}}const c2=zN,u2=LN,d2=UN,f2=FN,f1=IN,p2=VN,h2=(e,t,n)=>{const r=new Map,o={platform:s2,...n},i={...o.platform,_c:r};return _N(e,t,{...o,platform:i})},m2=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?f1({element:r.current,padding:o}).fn(n):{}:r?f1({element:r,padding:o}).fn(n):{}}}};var Eu=typeof document<"u"?h.useLayoutEffect:h.useEffect;function ad(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ad(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!ad(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Uk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function p1(e,t){const n=Uk(e);return Math.round(t*n)/n}function h1(e){const t=h.useRef(e);return Eu(()=>{t.current=e}),t}function g2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:a,open:c}=e,[u,d]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=h.useState(r);ad(f,r)||m(r);const[p,g]=h.useState(null),[w,y]=h.useState(null),v=h.useCallback(X=>{X!==S.current&&(S.current=X,g(X))},[]),b=h.useCallback(X=>{X!==C.current&&(C.current=X,y(X))},[]),k=i||p,E=s||w,S=h.useRef(null),C=h.useRef(null),O=h.useRef(u),M=a!=null,I=h1(a),Z=h1(o),L=h.useCallback(()=>{if(!S.current||!C.current)return;const X={placement:t,strategy:n,middleware:f};Z.current&&(X.platform=Z.current),h2(S.current,C.current,X).then(F=>{const V={...F,isPositioned:!0};Y.current&&!ad(O.current,V)&&(O.current=V,ur.flushSync(()=>{d(V)}))})},[f,t,n,Z]);Eu(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,d(X=>({...X,isPositioned:!1})))},[c]);const Y=h.useRef(!1);Eu(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Eu(()=>{if(k&&(S.current=k),E&&(C.current=E),k&&E){if(I.current)return I.current(k,E,L);L()}},[k,E,L,I,M]);const H=h.useMemo(()=>({reference:S,floating:C,setReference:v,setFloating:b}),[v,b]),K=h.useMemo(()=>({reference:k,floating:E}),[k,E]),ae=h.useMemo(()=>{const X={position:n,left:0,top:0};if(!K.floating)return X;const F=p1(K.floating,u.x),V=p1(K.floating,u.y);return l?{...X,transform:"translate("+F+"px, "+V+"px)",...Uk(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:V}},[n,l,K.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:L,refs:H,elements:K,floatingStyles:ae}),[u,L,H,K,ae])}const y2=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return h.createElement(Le.svg,te({},i,{ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?n:h.createElement("polygon",{points:"0,0 30,0 15,10"}))}),v2=y2;function Ly(e){const[t,n]=h.useState(void 0);return mn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,l;if("borderBoxSize"in i){const a=i.borderBoxSize,c=Array.isArray(a)?a[0]:a;s=c.inlineSize,l=c.blockSize}else s=e.offsetWidth,l=e.offsetHeight;n({width:s,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const Hk="Popper",[Wk,El]=Ir(Hk),[w2,Kk]=Wk(Hk),b2=e=>{const{__scopePopper:t,children:n}=e,[r,o]=h.useState(null);return h.createElement(w2,{scope:t,anchor:r,onAnchorChange:o},n)},x2="PopperAnchor",S2=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=Kk(x2,n),s=h.useRef(null),l=lt(t,s);return h.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:h.createElement(Le.div,te({},o,{ref:l}))}),qk="PopperContent",[k2,E2]=Wk(qk),C2=h.forwardRef((e,t)=>{var n,r,o,i,s,l,a,c;const{__scopePopper:u,side:d="bottom",sideOffset:f=0,align:m="center",alignOffset:p=0,arrowPadding:g=0,avoidCollisions:w=!0,collisionBoundary:y=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:k=!1,updatePositionStrategy:E="optimized",onPlaced:S,...C}=e,O=Kk(qk,u),[M,I]=h.useState(null),Z=lt(t,ct=>I(ct)),[L,Y]=h.useState(null),H=Ly(L),K=(n=H==null?void 0:H.width)!==null&&n!==void 0?n:0,ae=(r=H==null?void 0:H.height)!==null&&r!==void 0?r:0,X=d+(m!=="center"?"-"+m:""),F=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},V=Array.isArray(y)?y:[y],ie=V.length>0,fe={padding:F,boundary:V.filter(M2),altBoundary:ie},{refs:be,floatingStyles:et,placement:Ee,isPositioned:Ve,middlewareData:ve}=g2({strategy:"fixed",placement:X,whileElementsMounted:(...ct)=>a2(...ct,{animationFrame:E==="always"}),elements:{reference:O.anchor},middleware:[BN({mainAxis:f+ae,alignmentAxis:p}),w&&c2({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?p2():void 0,...fe}),w&&u2({...fe}),d2({...fe,apply:({elements:ct,rects:Nn,availableWidth:Jt,availableHeight:T})=>{const{width:D,height:$}=Nn.reference,q=ct.floating.style;q.setProperty("--radix-popper-available-width",`${Jt}px`),q.setProperty("--radix-popper-available-height",`${T}px`),q.setProperty("--radix-popper-anchor-width",`${D}px`),q.setProperty("--radix-popper-anchor-height",`${$}px`)}}),L&&m2({element:L,padding:g}),D2({arrowWidth:K,arrowHeight:ae}),k&&f2({strategy:"referenceHidden",...fe})]}),[se,De]=Jk(Ee),Ue=Dr(S);mn(()=>{Ve&&(Ue==null||Ue())},[Ve,Ue]);const Pe=(o=ve.arrow)===null||o===void 0?void 0:o.x,ce=(i=ve.arrow)===null||i===void 0?void 0:i.y,he=((s=ve.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[tt,at]=h.useState();return mn(()=>{M&&at(window.getComputedStyle(M).zIndex)},[M]),h.createElement("div",{ref:be.setFloating,"data-radix-popper-content-wrapper":"",style:{...et,transform:Ve?et.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:tt,"--radix-popper-transform-origin":[(l=ve.transformOrigin)===null||l===void 0?void 0:l.x,(a=ve.transformOrigin)===null||a===void 0?void 0:a.y].join(" ")},dir:e.dir},h.createElement(k2,{scope:u,placedSide:se,onArrowChange:Y,arrowX:Pe,arrowY:ce,shouldHideArrow:he},h.createElement(Le.div,te({"data-side":se,"data-align":De},C,{ref:Z,style:{...C.style,animation:Ve?void 0:"none",opacity:(c=ve.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))}),T2="PopperArrow",O2={top:"bottom",right:"left",bottom:"top",left:"right"},R2=h.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=E2(T2,r),s=O2[i.placedSide];return h.createElement("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0}},h.createElement(v2,te({},o,{ref:n,style:{...o.style,display:"block"}})))});function M2(e){return e!==null}const D2=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,i,s;const{placement:l,rects:a,middlewareData:c}=t,d=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,f=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[p,g]=Jk(l),w={start:"0%",center:"50%",end:"100%"}[g],y=((r=(o=c.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+f/2,v=((i=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0)+m/2;let b="",k="";return p==="bottom"?(b=d?w:`${y}px`,k=`${-m}px`):p==="top"?(b=d?w:`${y}px`,k=`${a.floating.height+m}px`):p==="right"?(b=`${-m}px`,k=d?w:`${v}px`):p==="left"&&(b=`${a.floating.width+m}px`,k=d?w:`${v}px`),{data:{x:b,y:k}}}});function Jk(e){const[t,n="center"]=e.split("-");return[t,n]}const Gk=b2,Yk=S2,Xk=C2,P2=R2,Qk=h.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?sf.createPortal(h.createElement(Le.div,te({},o,{ref:t})),r):null});function A2(e,t){return h.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const hf=e=>{const{present:t,children:n}=e,r=N2(t),o=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=lt(r.ref,o.ref);return typeof n=="function"||r.isPresent?h.cloneElement(o,{ref:i}):null};hf.displayName="Presence";function N2(e){const[t,n]=h.useState(),r=h.useRef({}),o=h.useRef(e),i=h.useRef("none"),s=e?"mounted":"unmounted",[l,a]=A2(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=Kc(r.current);i.current=l==="mounted"?c:"none"},[l]),mn(()=>{const c=r.current,u=o.current;if(u!==e){const f=i.current,m=Kc(c);e?a("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?a("UNMOUNT"):a(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,a]),mn(()=>{if(t){const c=d=>{const m=Kc(r.current).includes(d.animationName);d.target===t&&m&&ur.flushSync(()=>a("ANIMATION_END"))},u=d=>{d.target===t&&(i.current=Kc(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Kc(e){return(e==null?void 0:e.animationName)||"none"}function to({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=$2({defaultProp:t,onChange:n}),i=e!==void 0,s=i?e:r,l=Dr(n),a=h.useCallback(c=>{if(i){const d=typeof c=="function"?c(e):c;d!==e&&l(d)}else o(c)},[i,e,o,l]);return[s,a]}function $2({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,o=h.useRef(r),i=Dr(t);return h.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}const _2=h.forwardRef((e,t)=>h.createElement(Le.span,te({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),[mf,mU]=Ir("Tooltip",[El]);El();const I2="TooltipProvider",L2=700,[F2,gU]=mf(I2),j2=e=>{const{__scopeTooltip:t,delayDuration:n=L2,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,[s,l]=h.useState(!0),a=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),h.createElement(F2,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),l(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:h.useCallback(u=>{a.current=u},[]),disableHoverableContent:o},i)},Zk="Tooltip";mf(Zk);const B2="TooltipPortal";mf(B2,{forceMount:void 0});mf(Zk,{isInside:!1});const z2=j2;/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eE=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...l},a)=>h.createElement("svg",{ref:a,...U2,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:eE("lucide",o),...l},[...s.map(([c,u])=>h.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const n=h.forwardRef(({className:r,...o},i)=>h.createElement(H2,{ref:i,iconNode:t,className:eE(`lucide-${V2(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=_e("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=_e("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=_e("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=_e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=_e("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=_e("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=_e("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=_e("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=_e("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=_e("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=_e("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=_e("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=_e("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=_e("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=_e("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=_e("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=_e("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g$=({type:e,message:t})=>x.jsxs("div",{className:`alert ${e}`,children:[x.jsx(q2,{width:20,height:20}),x.jsx("p",{children:t})]}),rE=h.createContext(null),y$=({children:e})=>{const[t,n]=h.useState({}),[r,o]=h.useState(0),i=s=>{const l=r;o(a=>++a),n(a=>({...a,[l]:s})),setTimeout(()=>{n(a=>{const{[l]:c,...u}=a;return u})},s.fadeOutAfter)};return x.jsxs(rE.Provider,{value:{displayMessage:i},children:[x.jsx("div",{className:"alert-stack-container",children:Object.keys(t).map(s=>x.jsx(g$,{type:t[+s].type,message:t[+s].message},s))}),e]})},ri=()=>{const e=h.useContext(rE);if(!e)throw new Error("useAlerts hook must be used within an AlertStackContextProvider.");return e};function jy(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const oE="Switch",[v$,yU]=Ir(oE),[w$,b$]=v$(oE),x$=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:i,required:s,disabled:l,value:a="on",onCheckedChange:c,...u}=e,[d,f]=h.useState(null),m=lt(t,v=>f(v)),p=h.useRef(!1),g=d?!!d.closest("form"):!0,[w=!1,y]=to({prop:o,defaultProp:i,onChange:c});return h.createElement(w$,{scope:n,checked:w,disabled:l},h.createElement(Le.button,te({type:"button",role:"switch","aria-checked":w,"aria-required":s,"data-state":iE(w),"data-disabled":l?"":void 0,disabled:l,value:a},u,{ref:m,onClick:Ne(e.onClick,v=>{y(b=>!b),g&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})})),g&&h.createElement(E$,{control:d,bubbles:!p.current,name:r,value:a,checked:w,required:s,disabled:l,style:{transform:"translateX(-100%)"}}))}),S$="SwitchThumb",k$=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=b$(S$,n);return h.createElement(Le.span,te({"data-state":iE(o.checked),"data-disabled":o.disabled?"":void 0},r,{ref:t}))}),E$=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,i=h.useRef(null),s=jy(n),l=Ly(t);return h.useEffect(()=>{const a=i.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&d){const f=new Event("click",{bubbles:r});d.call(a,n),a.dispatchEvent(f)}},[s,n,r]),h.createElement("input",te({type:"checkbox","aria-hidden":!0,defaultChecked:n},o,{tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function iE(e){return e?"checked":"unchecked"}const C$=x$,T$=k$,O$=()=>{const e=Hn(),t=ni();return x.jsxs(C$,{className:"page-switch floating interactive-element",checked:t.pathname.includes("shopping-lists"),onCheckedChange:()=>e(`/${t.pathname.includes("shopping-lists")?"recipes":"shopping-lists"}`),children:[x.jsxs("div",{className:"labels",children:[x.jsx("p",{children:"Recipes"}),x.jsx("p",{children:"Shopping"})]}),x.jsx(T$,{className:"switch-thumb"})]})},sE=h.createContext({theme:"light",switchTheme:()=>{}}),es=({onClick:e,children:t,disableShadow:n,className:r,type:o="outlined",shape:i="rounded-square"})=>x.jsx("button",{className:`button-${o} button-shape-${i} ${n?"":"floating"} ${r}`,onClick:e,children:t}),R$=()=>{const{theme:e,switchTheme:t}=h.useContext(sE);return x.jsx(es,{className:"floating theme-button",type:"filled",onClick:t,children:e==="light"?x.jsx(l$,{}):x.jsx(f$,{})})},M$=()=>x.jsxs("div",{className:"page main-page",children:[x.jsx(R$,{}),x.jsx(O$,{}),x.jsx(Rk,{})]});var D$={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function P$(e){if(typeof e=="number")return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();n.includes(".")?t=parseFloat(n):t=parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return D$[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function Ap(e){var t=P$(e);return"".concat(t.value).concat(t.unit)}var A$=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return r;var o=document.createElement("style");document.head.appendChild(o);var i=o.sheet,s=`
    @keyframes `.concat(r,` {
      `).concat(t,`
    }
  `);return i&&i.insertRule(s,0),r},cd=function(){return cd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},cd.apply(this,arguments)},N$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},$$=A$("SyncLoader",`33% {transform: translateY(10px)}
  66% {transform: translateY(-10px)}
  100% {transform: translateY(0)}`,"sync");function _$(e){var t=e.loading,n=t===void 0?!0:t,r=e.color,o=r===void 0?"#000000":r,i=e.speedMultiplier,s=i===void 0?1:i,l=e.cssOverride,a=l===void 0?{}:l,c=e.size,u=c===void 0?15:c,d=e.margin,f=d===void 0?2:d,m=N$(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),p=cd({display:"inherit"},a),g=function(w){return{backgroundColor:o,width:Ap(u),height:Ap(u),margin:Ap(f),borderRadius:"100%",display:"inline-block",animation:"".concat($$," ").concat(.6/s,"s ").concat(w*.07,"s infinite ease-in-out"),animationFillMode:"both"}};return n?h.createElement("span",cd({style:p},m),h.createElement("span",{style:g(1)}),h.createElement("span",{style:g(2)}),h.createElement("span",{style:g(3)})):null}const _m=({className:e})=>x.jsx(_$,{size:12,margin:4,speedMultiplier:.5,color:"var(--grass-9)",className:`loading-indicator ${e}`});function I$(){const e=TA(),[t,n]=h.useState("light");h.useLayoutEffect(()=>{const o=document.getElementsByTagName("body");o[0].classList.remove("light"),o[0].classList.remove("dark"),o[0].classList.add(t)},[t]),h.useLayoutEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)").matches;n(o?"dark":"light")},[]);const r=h.useCallback(()=>{n(o=>o==="light"?"dark":"light")},[n]);return x.jsx("div",{className:"app",children:x.jsxs(sE.Provider,{value:{theme:t,switchTheme:r},children:[x.jsx("div",{className:`navigation-loading-overlay ${e.state==="loading"?"":"hidden"}`,children:x.jsx(_m,{})}),x.jsx(Rk,{})]})})}const L$=()=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"current",height:"24",viewBox:"0 -960 960 960",width:"24",children:x.jsx("path",{d:"M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"})}),F$=({initialValue:e})=>{const[t,n]=h.useState(e);return x.jsxs("div",{className:"search-bar block floating interactive-element",children:[x.jsx("input",{type:"search",name:"name",maxLength:100,value:t,onChange:r=>n(r.target.value)}),x.jsx(L$,{})]})},j$=({category:e,checked:t,onChange:n})=>x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"checkbox",name:"category",id:e.name,value:e.name,checked:t,onChange:r=>{n(t?"":r.target.value)}}),x.jsxs("label",{className:"category-chip block floating interactive-element",style:{"--color":e.color},htmlFor:e.name,children:[e.name,x.jsx("span",{dangerouslySetInnerHTML:{__html:e.symbol}})]})]});function lE(e,t){return function(){return e.apply(t,arguments)}}const{toString:B$}=Object.prototype,{getPrototypeOf:By}=Object,gf=(e=>t=>{const n=B$.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fr=e=>(e=e.toLowerCase(),t=>gf(t)===e),yf=e=>t=>typeof t===e,{isArray:Cl}=Array,Ja=yf("undefined");function z$(e){return e!==null&&!Ja(e)&&e.constructor!==null&&!Ja(e.constructor)&&Tn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const aE=fr("ArrayBuffer");function V$(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&aE(e.buffer),t}const U$=yf("string"),Tn=yf("function"),cE=yf("number"),vf=e=>e!==null&&typeof e=="object",H$=e=>e===!0||e===!1,Cu=e=>{if(gf(e)!=="object")return!1;const t=By(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},W$=fr("Date"),K$=fr("File"),q$=fr("Blob"),J$=fr("FileList"),G$=e=>vf(e)&&Tn(e.pipe),Y$=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Tn(e.append)&&((t=gf(e))==="formdata"||t==="object"&&Tn(e.toString)&&e.toString()==="[object FormData]"))},X$=fr("URLSearchParams"),[Q$,Z$,e_,t_]=["ReadableStream","Request","Response","Headers"].map(fr),n_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Cl(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let l;for(r=0;r<s;r++)l=i[r],t.call(null,e[l],l,e)}}function uE(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const bi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dE=e=>!Ja(e)&&e!==bi;function Im(){const{caseless:e}=dE(this)&&this||{},t={},n=(r,o)=>{const i=e&&uE(t,o)||o;Cu(t[i])&&Cu(r)?t[i]=Im(t[i],r):Cu(r)?t[i]=Im({},r):Cl(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&hc(arguments[r],n);return t}const r_=(e,t,n,{allOwnKeys:r}={})=>(hc(t,(o,i)=>{n&&Tn(o)?e[i]=lE(o,n):e[i]=o},{allOwnKeys:r}),e),o_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),i_=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},s_=(e,t,n,r)=>{let o,i,s;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],(!r||r(s,e,t))&&!l[s]&&(t[s]=e[s],l[s]=!0);e=n!==!1&&By(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},l_=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},a_=e=>{if(!e)return null;if(Cl(e))return e;let t=e.length;if(!cE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},c_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&By(Uint8Array)),u_=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},d_=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},f_=fr("HTMLFormElement"),p_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),g1=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),h_=fr("RegExp"),fE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};hc(n,(o,i)=>{let s;(s=t(o,i,e))!==!1&&(r[i]=s||o)}),Object.defineProperties(e,r)},m_=e=>{fE(e,(t,n)=>{if(Tn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Tn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},g_=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Cl(e)?r(e):r(String(e).split(t)),n},y_=()=>{},v_=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Np="abcdefghijklmnopqrstuvwxyz",y1="0123456789",pE={DIGIT:y1,ALPHA:Np,ALPHA_DIGIT:Np+Np.toUpperCase()+y1},w_=(e=16,t=pE.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function b_(e){return!!(e&&Tn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const x_=e=>{const t=new Array(10),n=(r,o)=>{if(vf(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const i=Cl(r)?[]:{};return hc(r,(s,l)=>{const a=n(s,o+1);!Ja(a)&&(i[l]=a)}),t[o]=void 0,i}}return r};return n(e,0)},S_=fr("AsyncFunction"),k_=e=>e&&(vf(e)||Tn(e))&&Tn(e.then)&&Tn(e.catch),hE=((e,t)=>e?setImmediate:t?((n,r)=>(bi.addEventListener("message",({source:o,data:i})=>{o===bi&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),bi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Tn(bi.postMessage)),E_=typeof queueMicrotask<"u"?queueMicrotask.bind(bi):typeof process<"u"&&process.nextTick||hE,N={isArray:Cl,isArrayBuffer:aE,isBuffer:z$,isFormData:Y$,isArrayBufferView:V$,isString:U$,isNumber:cE,isBoolean:H$,isObject:vf,isPlainObject:Cu,isReadableStream:Q$,isRequest:Z$,isResponse:e_,isHeaders:t_,isUndefined:Ja,isDate:W$,isFile:K$,isBlob:q$,isRegExp:h_,isFunction:Tn,isStream:G$,isURLSearchParams:X$,isTypedArray:c_,isFileList:J$,forEach:hc,merge:Im,extend:r_,trim:n_,stripBOM:o_,inherits:i_,toFlatObject:s_,kindOf:gf,kindOfTest:fr,endsWith:l_,toArray:a_,forEachEntry:u_,matchAll:d_,isHTMLForm:f_,hasOwnProperty:g1,hasOwnProp:g1,reduceDescriptors:fE,freezeMethods:m_,toObjectSet:g_,toCamelCase:p_,noop:y_,toFiniteNumber:v_,findKey:uE,global:bi,isContextDefined:dE,ALPHABET:pE,generateString:w_,isSpecCompliantForm:b_,toJSONObject:x_,isAsyncFn:S_,isThenable:k_,setImmediate:hE,asap:E_};function ye(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}N.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const mE=ye.prototype,gE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{gE[e]={value:e}});Object.defineProperties(ye,gE);Object.defineProperty(mE,"isAxiosError",{value:!0});ye.from=(e,t,n,r,o,i)=>{const s=Object.create(mE);return N.toFlatObject(e,s,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),ye.call(s,e.message,t,n,r,o),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const C_=null;function Lm(e){return N.isPlainObject(e)||N.isArray(e)}function yE(e){return N.endsWith(e,"[]")?e.slice(0,-2):e}function v1(e,t,n){return e?e.concat(t).map(function(o,i){return o=yE(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function T_(e){return N.isArray(e)&&!e.some(Lm)}const O_=N.toFlatObject(N,{},null,function(t){return/^is[A-Z]/.test(t)});function wf(e,t,n){if(!N.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!N.isUndefined(w[g])});const r=n.metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(t);if(!N.isFunction(o))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(N.isDate(p))return p.toISOString();if(!a&&N.isBlob(p))throw new ye("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(p)||N.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,w){let y=p;if(p&&!w&&typeof p=="object"){if(N.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(N.isArray(p)&&T_(p)||(N.isFileList(p)||N.endsWith(g,"[]"))&&(y=N.toArray(p)))return g=yE(g),y.forEach(function(b,k){!(N.isUndefined(b)||b===null)&&t.append(s===!0?v1([g],k,i):s===null?g:g+"[]",c(b))}),!1}return Lm(p)?!0:(t.append(v1(w,g,i),c(p)),!1)}const d=[],f=Object.assign(O_,{defaultVisitor:u,convertValue:c,isVisitable:Lm});function m(p,g){if(!N.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(p),N.forEach(p,function(y,v){(!(N.isUndefined(y)||y===null)&&o.call(t,y,N.isString(v)?v.trim():v,g,f))===!0&&m(y,g?g.concat(v):[v])}),d.pop()}}if(!N.isObject(e))throw new TypeError("data must be an object");return m(e),t}function w1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function zy(e,t){this._pairs=[],e&&wf(e,this,t)}const vE=zy.prototype;vE.append=function(t,n){this._pairs.push([t,n])};vE.toString=function(t){const n=t?function(r){return t.call(this,r,w1)}:w1;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function R_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wE(e,t,n){if(!t)return e;const r=n&&n.encode||R_;N.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(o?i=o(t,n):i=N.isURLSearchParams(t)?t.toString():new zy(t,n).toString(r),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class b1{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){N.forEach(this.handlers,function(r){r!==null&&t(r)})}}const bE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M_=typeof URLSearchParams<"u"?URLSearchParams:zy,D_=typeof FormData<"u"?FormData:null,P_=typeof Blob<"u"?Blob:null,A_={isBrowser:!0,classes:{URLSearchParams:M_,FormData:D_,Blob:P_},protocols:["http","https","file","blob","url","data"]},Vy=typeof window<"u"&&typeof document<"u",Fm=typeof navigator=="object"&&navigator||void 0,N_=Vy&&(!Fm||["ReactNative","NativeScript","NS"].indexOf(Fm.product)<0),$_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",__=Vy&&window.location.href||"http://localhost",I_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vy,hasStandardBrowserEnv:N_,hasStandardBrowserWebWorkerEnv:$_,navigator:Fm,origin:__},Symbol.toStringTag,{value:"Module"})),Ht={...I_,...A_};function L_(e,t){return wf(e,new Ht.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Ht.isNode&&N.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function F_(e){return N.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function j_(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function xE(e){function t(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),a=i>=n.length;return s=!s&&N.isArray(o)?o.length:s,a?(N.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!l):((!o[s]||!N.isObject(o[s]))&&(o[s]=[]),t(n,r,o[s],i)&&N.isArray(o[s])&&(o[s]=j_(o[s])),!l)}if(N.isFormData(e)&&N.isFunction(e.entries)){const n={};return N.forEachEntry(e,(r,o)=>{t(F_(r),o,n,0)}),n}return null}function B_(e,t,n){if(N.isString(e))try{return(t||JSON.parse)(e),N.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const mc={transitional:bE,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=N.isObject(t);if(i&&N.isHTMLForm(t)&&(t=new FormData(t)),N.isFormData(t))return o?JSON.stringify(xE(t)):t;if(N.isArrayBuffer(t)||N.isBuffer(t)||N.isStream(t)||N.isFile(t)||N.isBlob(t)||N.isReadableStream(t))return t;if(N.isArrayBufferView(t))return t.buffer;if(N.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return L_(t,this.formSerializer).toString();if((l=N.isFileList(t))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return wf(l?{"files[]":t}:t,a&&new a,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),B_(t)):t}],transformResponse:[function(t){const n=this.transitional||mc.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(N.isResponse(t)||N.isReadableStream(t))return t;if(t&&N.isString(t)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(s)throw l.name==="SyntaxError"?ye.from(l,ye.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ht.classes.FormData,Blob:Ht.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],e=>{mc.headers[e]={}});const z_=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),V_=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||t[n]&&z_[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},x1=Symbol("internals");function Jl(e){return e&&String(e).trim().toLowerCase()}function Tu(e){return e===!1||e==null?e:N.isArray(e)?e.map(Tu):String(e)}function U_(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const H_=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $p(e,t,n,r,o){if(N.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!N.isString(t)){if(N.isString(r))return t.indexOf(r)!==-1;if(N.isRegExp(r))return r.test(t)}}function W_(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function K_(e,t){const n=N.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,s){return this[r].call(this,t,o,i,s)},configurable:!0})})}let pn=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(l,a,c){const u=Jl(a);if(!u)throw new Error("header name must be a non-empty string");const d=N.findKey(o,u);(!d||o[d]===void 0||c===!0||c===void 0&&o[d]!==!1)&&(o[d||a]=Tu(l))}const s=(l,a)=>N.forEach(l,(c,u)=>i(c,u,a));if(N.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(N.isString(t)&&(t=t.trim())&&!H_(t))s(V_(t),n);else if(N.isHeaders(t))for(const[l,a]of t.entries())i(a,l,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=Jl(t),t){const r=N.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return U_(o);if(N.isFunction(n))return n.call(this,o,r);if(N.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Jl(t),t){const r=N.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||$p(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(s){if(s=Jl(s),s){const l=N.findKey(r,s);l&&(!n||$p(r,r[l],l,n))&&(delete r[l],o=!0)}}return N.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||$p(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return N.forEach(this,(o,i)=>{const s=N.findKey(r,i);if(s){n[s]=Tu(o),delete n[i];return}const l=t?W_(i):String(i).trim();l!==i&&delete n[i],n[l]=Tu(o),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return N.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&N.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[x1]=this[x1]={accessors:{}}).accessors,o=this.prototype;function i(s){const l=Jl(s);r[l]||(K_(o,s),r[l]=!0)}return N.isArray(t)?t.forEach(i):i(t),this}};pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(pn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});N.freezeMethods(pn);function _p(e,t){const n=this||mc,r=t||n,o=pn.from(r.headers);let i=r.data;return N.forEach(e,function(l){i=l.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function SE(e){return!!(e&&e.__CANCEL__)}function Tl(e,t,n){ye.call(this,e??"canceled",ye.ERR_CANCELED,t,n),this.name="CanceledError"}N.inherits(Tl,ye,{__CANCEL__:!0});function kE(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ye("Request failed with status code "+n.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function q_(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function J_(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,s;return t=t!==void 0?t:1e3,function(a){const c=Date.now(),u=r[i];s||(s=c),n[o]=a,r[o]=c;let d=i,f=0;for(;d!==o;)f+=n[d++],d=d%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),c-s<t)return;const m=u&&c-u;return m?Math.round(f*1e3/m):void 0}}function G_(e,t){let n=0,r=1e3/t,o,i;const s=(c,u=Date.now())=>{n=u,o=null,i&&(clearTimeout(i),i=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?s(c,u):(o=c,i||(i=setTimeout(()=>{i=null,s(o)},r-d)))},()=>o&&s(o)]}const ud=(e,t,n=3)=>{let r=0;const o=J_(50,250);return G_(i=>{const s=i.loaded,l=i.lengthComputable?i.total:void 0,a=s-r,c=o(a),u=s<=l;r=s;const d={loaded:s,total:l,progress:l?s/l:void 0,bytes:a,rate:c||void 0,estimated:c&&l&&u?(l-s)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(d)},n)},S1=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},k1=e=>(...t)=>N.asap(()=>e(...t)),Y_=Ht.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ht.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ht.origin),Ht.navigator&&/(msie|trident)/i.test(Ht.navigator.userAgent)):()=>!0,X_=Ht.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const s=[e+"="+encodeURIComponent(t)];N.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),N.isString(r)&&s.push("path="+r),N.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Q_(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Z_(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function EE(e,t){return e&&!Q_(t)?Z_(e,t):t}const E1=e=>e instanceof pn?{...e}:e;function Hi(e,t){t=t||{};const n={};function r(c,u,d,f){return N.isPlainObject(c)&&N.isPlainObject(u)?N.merge.call({caseless:f},c,u):N.isPlainObject(u)?N.merge({},u):N.isArray(u)?u.slice():u}function o(c,u,d,f){if(N.isUndefined(u)){if(!N.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function i(c,u){if(!N.isUndefined(u))return r(void 0,u)}function s(c,u){if(N.isUndefined(u)){if(!N.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,d){if(d in t)return r(c,u);if(d in e)return r(void 0,c)}const a={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(c,u,d)=>o(E1(c),E1(u),d,!0)};return N.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=a[u]||o,f=d(e[u],t[u],u);N.isUndefined(f)&&d!==l||(n[u]=f)}),n}const CE=e=>{const t=Hi({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:l}=t;t.headers=s=pn.from(s),t.url=wE(EE(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let a;if(N.isFormData(n)){if(Ht.hasStandardBrowserEnv||Ht.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((a=s.getContentType())!==!1){const[c,...u]=a?a.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Ht.hasStandardBrowserEnv&&(r&&N.isFunction(r)&&(r=r(t)),r||r!==!1&&Y_(t.url))){const c=o&&i&&X_.read(i);c&&s.set(o,c)}return t},eI=typeof XMLHttpRequest<"u",tI=eI&&function(e){return new Promise(function(n,r){const o=CE(e);let i=o.data;const s=pn.from(o.headers).normalize();let{responseType:l,onUploadProgress:a,onDownloadProgress:c}=o,u,d,f,m,p;function g(){m&&m(),p&&p(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function y(){if(!w)return;const b=pn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:b,config:e,request:w};kE(function(C){n(C),g()},function(C){r(C),g()},E),w=null}"onloadend"in w?w.onloadend=y:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(y)},w.onabort=function(){w&&(r(new ye("Request aborted",ye.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new ye("Network Error",ye.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let k=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const E=o.transitional||bE;o.timeoutErrorMessage&&(k=o.timeoutErrorMessage),r(new ye(k,E.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,w)),w=null},i===void 0&&s.setContentType(null),"setRequestHeader"in w&&N.forEach(s.toJSON(),function(k,E){w.setRequestHeader(E,k)}),N.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),l&&l!=="json"&&(w.responseType=o.responseType),c&&([f,p]=ud(c,!0),w.addEventListener("progress",f)),a&&w.upload&&([d,m]=ud(a),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",m)),(o.cancelToken||o.signal)&&(u=b=>{w&&(r(!b||b.type?new Tl(null,e,w):b),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const v=q_(o.url);if(v&&Ht.protocols.indexOf(v)===-1){r(new ye("Unsupported protocol "+v+":",ye.ERR_BAD_REQUEST,e));return}w.send(i||null)})},nI=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const i=function(c){if(!o){o=!0,l();const u=c instanceof Error?c:this.reason;r.abort(u instanceof ye?u:new Tl(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{s=null,i(new ye(`timeout ${t} of ms exceeded`,ye.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:a}=r;return a.unsubscribe=()=>N.asap(l),a}},rI=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},oI=async function*(e,t){for await(const n of iI(e))yield*rI(n,t)},iI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},C1=(e,t,n,r)=>{const o=oI(e,t);let i=0,s,l=a=>{s||(s=!0,r&&r(a))};return new ReadableStream({async pull(a){try{const{done:c,value:u}=await o.next();if(c){l(),a.close();return}let d=u.byteLength;if(n){let f=i+=d;n(f)}a.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(a){return l(a),o.return()}},{highWaterMark:2})},bf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TE=bf&&typeof ReadableStream=="function",sI=bf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),OE=(e,...t)=>{try{return!!e(...t)}catch{return!1}},lI=TE&&OE(()=>{let e=!1;const t=new Request(Ht.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),T1=64*1024,jm=TE&&OE(()=>N.isReadableStream(new Response("").body)),dd={stream:jm&&(e=>e.body)};bf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!dd[t]&&(dd[t]=N.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ye(`Response type '${t}' is not supported`,ye.ERR_NOT_SUPPORT,r)})})})(new Response);const aI=async e=>{if(e==null)return 0;if(N.isBlob(e))return e.size;if(N.isSpecCompliantForm(e))return(await new Request(Ht.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(N.isArrayBufferView(e)||N.isArrayBuffer(e))return e.byteLength;if(N.isURLSearchParams(e)&&(e=e+""),N.isString(e))return(await sI(e)).byteLength},cI=async(e,t)=>{const n=N.toFiniteNumber(e.getContentLength());return n??aI(t)},uI=bf&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:l,onUploadProgress:a,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=CE(e);c=c?(c+"").toLowerCase():"text";let m=nI([o,i&&i.toAbortSignal()],s),p;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let w;try{if(a&&lI&&n!=="get"&&n!=="head"&&(w=await cI(u,r))!==0){let E=new Request(t,{method:"POST",body:r,duplex:"half"}),S;if(N.isFormData(r)&&(S=E.headers.get("content-type"))&&u.setContentType(S),E.body){const[C,O]=S1(w,ud(k1(a)));r=C1(E.body,T1,C,O)}}N.isString(d)||(d=d?"include":"omit");const y="credentials"in Request.prototype;p=new Request(t,{...f,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:y?d:void 0});let v=await fetch(p);const b=jm&&(c==="stream"||c==="response");if(jm&&(l||b&&g)){const E={};["status","statusText","headers"].forEach(M=>{E[M]=v[M]});const S=N.toFiniteNumber(v.headers.get("content-length")),[C,O]=l&&S1(S,ud(k1(l),!0))||[];v=new Response(C1(v.body,T1,C,()=>{O&&O(),g&&g()}),E)}c=c||"text";let k=await dd[N.findKey(dd,c)||"text"](v,e);return!b&&g&&g(),await new Promise((E,S)=>{kE(E,S,{data:k,headers:pn.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:p})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,e,p),{cause:y.cause||y}):ye.from(y,y&&y.code,e,p)}}),Bm={http:C_,xhr:tI,fetch:uI};N.forEach(Bm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const O1=e=>`- ${e}`,dI=e=>N.isFunction(e)||e===null||e===!1,RE={getAdapter:e=>{e=N.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){n=e[i];let s;if(r=n,!dI(n)&&(r=Bm[(s=String(n)).toLowerCase()],r===void 0))throw new ye(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([l,a])=>`adapter ${l} `+(a===!1?"is not supported by the environment":"is not available in the build"));let s=t?i.length>1?`since :
`+i.map(O1).join(`
`):" "+O1(i[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Bm};function Ip(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Tl(null,e)}function R1(e){return Ip(e),e.headers=pn.from(e.headers),e.data=_p.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),RE.getAdapter(e.adapter||mc.adapter)(e).then(function(r){return Ip(e),r.data=_p.call(e,e.transformResponse,r),r.headers=pn.from(r.headers),r},function(r){return SE(r)||(Ip(e),r&&r.response&&(r.response.data=_p.call(e,e.transformResponse,r.response),r.response.headers=pn.from(r.response.headers))),Promise.reject(r)})}const ME="1.7.9",xf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const M1={};xf.transitional=function(t,n,r){function o(i,s){return"[Axios v"+ME+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,l)=>{if(t===!1)throw new ye(o(s," has been removed"+(n?" in "+n:"")),ye.ERR_DEPRECATED);return n&&!M1[s]&&(M1[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,s,l):!0}};xf.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function fI(e,t,n){if(typeof e!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],s=t[i];if(s){const l=e[i],a=l===void 0||s(l,i,e);if(a!==!0)throw new ye("option "+i+" must be "+a,ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ye("Unknown option "+i,ye.ERR_BAD_OPTION)}}const Ou={assertOptions:fI,validators:xf},yr=Ou.validators;let Oi=class{constructor(t){this.defaults=t,this.interceptors={request:new b1,response:new b1}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Hi(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Ou.assertOptions(r,{silentJSONParsing:yr.transitional(yr.boolean),forcedJSONParsing:yr.transitional(yr.boolean),clarifyTimeoutError:yr.transitional(yr.boolean)},!1),o!=null&&(N.isFunction(o)?n.paramsSerializer={serialize:o}:Ou.assertOptions(o,{encode:yr.function,serialize:yr.function},!0)),Ou.assertOptions(n,{baseUrl:yr.spelling("baseURL"),withXsrfToken:yr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&N.merge(i.common,i[n.method]);i&&N.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=pn.concat(s,i);const l=[];let a=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(a=a&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,d=0,f;if(!a){const p=[R1.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);d<f;)u=u.then(p[d++],p[d++]);return u}f=l.length;let m=n;for(d=0;d<f;){const p=l[d++],g=l[d++];try{m=p(m)}catch(w){g.call(this,w);break}}try{u=R1.call(this,m)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=Hi(this.defaults,t);const n=EE(t.baseURL,t.url);return wE(n,t.params,t.paramsSerializer)}};N.forEach(["delete","get","head","options"],function(t){Oi.prototype[t]=function(n,r){return this.request(Hi(r||{},{method:t,url:n,data:(r||{}).data}))}});N.forEach(["post","put","patch"],function(t){function n(r){return function(i,s,l){return this.request(Hi(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Oi.prototype[t]=n(),Oi.prototype[t+"Form"]=n(!0)});let pI=class DE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(l=>{r.subscribe(l),i=l}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i,s,l){r.reason||(r.reason=new Tl(i,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new DE(function(o){t=o}),cancel:t}}};function hI(e){return function(n){return e.apply(null,n)}}function mI(e){return N.isObject(e)&&e.isAxiosError===!0}const zm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zm).forEach(([e,t])=>{zm[t]=e});function PE(e){const t=new Oi(e),n=lE(Oi.prototype.request,t);return N.extend(n,Oi.prototype,t,{allOwnKeys:!0}),N.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return PE(Hi(e,o))},n}const Ge=PE(mc);Ge.Axios=Oi;Ge.CanceledError=Tl;Ge.CancelToken=pI;Ge.isCancel=SE;Ge.VERSION=ME;Ge.toFormData=wf;Ge.AxiosError=ye;Ge.Cancel=Ge.CanceledError;Ge.all=function(t){return Promise.all(t)};Ge.spread=hI;Ge.isAxiosError=mI;Ge.mergeConfig=Hi;Ge.AxiosHeaders=pn;Ge.formToJSON=e=>xE(N.isHTMLForm(e)?new FormData(e):e);Ge.getAdapter=RE.getAdapter;Ge.HttpStatusCode=zm;Ge.default=Ge;const{Axios:bU,AxiosError:xU,CanceledError:SU,isCancel:kU,CancelToken:EU,VERSION:CU,all:TU,Cancel:OU,isAxiosError:gI,spread:RU,toFormData:MU,AxiosHeaders:DU,HttpStatusCode:PU,formToJSON:AU,getAdapter:NU,mergeConfig:$U}=Ge,xs=[{id:1,name:"main",color:"#E28930",symbol:String.raw`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cooking-pot"><path d="M2 12h20"/><path d="M20 12v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8"/><path d="m4 8 16-4"/><path d="m8.86 6.78-.45-1.81a2 2 0 0 1 1.45-2.43l1.94-.48a2 2 0 0 1 2.43 1.46l.45 1.8"/></svg>`},{id:2,name:"dessert",color:"#D785DB",symbol:String.raw`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ice-cream-bowl"><path d="M12 17c5 0 8-2.69 8-6H4c0 3.31 3 6 8 6m-4 4h8m-4-3v3M5.14 11a3.5 3.5 0 1 1 6.71 0"/><path d="M12.14 11a3.5 3.5 0 1 1 6.71 0"/><path d="M15.5 6.5a3.5 3.5 0 1 0-7 0"/></svg>`},{id:3,name:"breakfast/supper",color:"#55B5C6",symbol:String.raw`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sandwich"><path d="m2.37 11.223 8.372-6.777a2 2 0 0 1 2.516 0l8.371 6.777"/><path d="M21 15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-5.25"/><path d="M3 15a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9"/><path d="m6.67 15 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2"/><rect width="20" height="4" x="2" y="11" rx="1"/></svg>`},{id:4,name:"soup",color:"#DAB436",symbol:String.raw`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-soup"><path d="M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z"/><path d="M7 21h10"/><path d="M19.5 12 22 6"/><path d="M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62"/><path d="M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62"/><path d="M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62"/></svg>`},{id:5,name:"sauce",color:"#CB4F39",symbol:String.raw`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-dessert"><circle cx="12" cy="4" r="2"/><path d="M10.2 3.2C5.5 4 2 8.1 2 13a2 2 0 0 0 4 0v-1a2 2 0 0 1 4 0v4a2 2 0 0 0 4 0v-4a2 2 0 0 1 4 0v1a2 2 0 0 0 4 0c0-4.9-3.5-9-8.2-9.8"/><path d="M3.2 14.8a9 9 0 0 0 17.6 0"/></svg>`},{id:6,name:"alcohol",color:"#5D69E4",symbol:String.raw`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-wine"><path d="M8 22h8"/><path d="M7 10h10"/><path d="M12 15v7"/><path d="M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z"/></svg>`},{id:7,name:"other",color:"#9F9F9F",symbol:String.raw`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-croissant"><path d="m4.6 13.11 5.79-3.21c1.89-1.05 4.79 1.78 3.71 3.71l-3.22 5.81C8.8 23.16.79 15.23 4.6 13.11Z"/><path d="m10.5 9.5-1-2.29C9.2 6.48 8.8 6 8 6H4.5C2.79 6 2 6.5 2 8.5a7.71 7.71 0 0 0 2 4.83"/><path d="M8 6c0-1.55.24-4-2-4-2 0-2.5 2.17-2.5 4"/><path d="m14.5 13.5 2.29 1c.73.3 1.21.7 1.21 1.5v3.5c0 1.71-.5 2.5-2.5 2.5a7.71 7.71 0 0 1-4.83-2"/><path d="M18 16c1.55 0 4-.24 4 2 0 2-2.17 2.5-4 2.5"/></svg>`}],Dt=[{id:1,name:"vegan"},{id:2,name:"vegetarian"},{id:3,name:"sweet"},{id:4,name:"spicy"},{id:5,name:"sour"},{id:6,name:"chicken"},{id:7,name:"beef"},{id:8,name:"pork"},{id:9,name:"light"},{id:10,name:"heavy"},{id:11,name:"fast"},{id:12,name:"healthy"},{id:13,name:"low-sugar"},{id:14,name:"mexican"},{id:15,name:"italian"},{id:16,name:"polish"},{id:17,name:"drink"},{id:18,name:"shots"}],yI=[{id:1,name:"Beef burritos",category:xs[0],tags:[Dt[3],Dt[6],Dt[13]],imageSrc:"assets/images/1-beef-burrito.jpg",ingredients:[{id:1,name:"sunflower oil",amount:{value:"2",unit:"tbsp"},checked:!1},{id:2,name:"onion",amount:{value:"1",unit:null},checked:!1},{id:3,name:"garlic cloves",amount:{value:"4",unit:null},checked:!1},{id:4,name:"ground cumin",amount:{value:"1",unit:"tbsp"},checked:!1},{id:5,name:"ground coriander",amount:{value:"1",unit:"tbsp"},checked:!1},{id:6,name:"cayenne pepper",amount:{value:"pinch",unit:null},checked:!1},{id:7,name:"dried oregano",amount:{value:"1",unit:"tsp"},checked:!1},{id:8,name:"beef mince",amount:{value:"500",unit:"g"},checked:!1},{id:9,name:"golden caster sugar",amount:{value:"pinch",unit:null},checked:!1},{id:10,name:"wine vinegar",amount:{value:"1",unit:"tbsp"},checked:!1},{id:11,name:"chopped tomatoes",amount:{value:"400",unit:"g"},checked:!1},{id:12,name:"black beans",amount:{value:"400",unit:"g"},checked:!1},{id:13,name:"flour or corn tortillas",amount:{value:"8",unit:null},checked:!1},{id:14,name:"cooked rice",amount:{value:"500",unit:"g"},checked:!1},{id:15,name:"sliced avocado",amount:{value:"some",unit:null},checked:!1}],description:'<h1 class="heading-1">Step 1</h1><p></p><p>Heat the oil in a large pan – a casserole is ideal. Fry the onions for 8 mins, then add the garlic, spices and oregano and cook for 1 min. Crumble over the mince and sizzle for 5 mins, stirring, until browned. Stir in the sugar and leave for a minute, then splash in the vinegar and pour in the tomatoes.</p><p></p><h1 class="heading-1">Step 2</h1><p></p><p>Simmer for 5 mins then tip in the beans and the water from the can. Season, stir and simmer everything for 20 mins until the beef is in a thick gravy. The sauce can be prepared up to 2 days ahead, chilled and reheated with a splash of water or frozen for 6 months.</p><p></p><h1 class="heading-1">Step 3</h1><p></p><p>To make the burritos, heat the tortillas following pack instructions. Pile some rice and beef sauce along each tortilla and scatter over your choice of topping. Fold over the ends and roll up to seal. Secure by wrapping with foil if you want. Eat immediately.</p><p></p><p></p><p><em>Source: https://www.bbcgoodfood.com/recipes/easy-beef-burritos</em></p>',creationDate:"03-01-2025",updateDate:"04-01-2025"},{id:2,name:"Carbonara",category:xs[0],tags:[Dt[7],Dt[10],Dt[14]],imageSrc:"assets/images/2-carbonara.jpg",ingredients:[{id:16,name:"pancetta",amount:{value:"100",unit:"g"},checked:!1},{id:17,name:"pecorino cheese",amount:{value:"50",unit:"g"},checked:!1},{id:18,name:"parmesan",amount:{value:"50",unit:"g"},checked:!1},{id:19,name:"large eggs",amount:{value:"3",unit:null},checked:!1},{id:20,name:"spaghetti",amount:{value:"350",unit:"g"},checked:!1},{id:21,name:"plump garlic cloves",amount:{value:"2",unit:null},checked:!1},{id:22,name:"unsalted butter",amount:{value:"50",unit:"g"},checked:!1},{id:23,name:"sea salt",amount:{value:"pinch",unit:null},checked:!1},{id:24,name:"ground black pepper",amount:{value:"pinch",unit:null},checked:!1}],description:'<h1 class="heading-1"><strong>Step 1</strong></h1><p></p><p>Put a large <u>saucepan</u> of water on to boil.</p><p></p><h1 class="heading-1"><strong>Step 2</strong></h1><p></p><p>Finely <u>chop</u> the 100g pancetta, having first removed any rind. Finely grate 50g pecorino cheese and 50g parmesan and mix them together.</p><p></p><h1 class="heading-1"><strong>Step 3</strong></h1><p></p><p><u>Beat</u> the 3 large eggs in a medium bowl and season with a little freshly grated black pepper. Set everything aside.</p><p></p><h1 class="heading-1"><strong>Step 4</strong></h1><p></p><p>Add 1 tsp salt to the boiling water, add 350g spaghetti and when the water comes back to the boil, cook at a constant simmer, covered, for 10 minutes or until al dente (just cooked).</p><p></p><h1 class="heading-1"><strong>Step 5</strong></h1><p></p><p><u>Squash</u> 2 peeled plump garlic cloves with the blade of a knife, just to bruise it.</p><p></p><h1 class="heading-1"><strong>Step 6</strong></h1><p></p><p>While the spaghetti is cooking, fry the pancetta with the garlic. Drop 50g unsalted butter into a large frying pan or wok and, as soon as the butter has melted, tip in the pancetta and garlic.</p><p></p><h1 class="heading-1"><strong>Step 7</strong></h1><p></p><p>Leave to cook on a medium heat for about 5 minutes, stirring often, until the pancetta is golden and crisp. The garlic has now imparted its flavour, so take it out with a slotted spoon and discard.</p><p></p><h1 class="heading-1"><strong>Step 8</strong></h1><p></p><p>Keep the heat under the pancetta on low. When the pasta is ready, lift it from the water with a pasta fork or tongs and put it in the frying pan with the pancetta. Don’t worry if a little water drops in the pan as well (you want this to happen) and don’t throw the pasta water away yet.</p><p></p><h1 class="heading-1"><strong>Step 9</strong></h1><p></p><p>Mix most of the cheese in with the eggs, keeping a small handful back for sprinkling over later.</p><p></p><h1 class="heading-1"><strong>Step 10</strong></h1><p></p><p>Take the pan of spaghetti and pancetta off the heat. Now quickly pour in the eggs and cheese. Using the tongs or a long fork, lift up the spaghetti so it mixes easily with the egg mixture, which thickens but doesn’t scramble, and everything is coated.</p><p></p><h1 class="heading-1"><strong>Step 11</strong></h1><p></p><p>Add extra pasta cooking water to keep it saucy (several tablespoons should do it). You don’t want it wet, just moist. Season with a little salt, if needed.</p><p></p><h1 class="heading-1"><strong>Step 12</strong></h1><p></p><p>Use a long-pronged fork to twist the pasta on to the serving plate or bowl. Serve immediately with a little sprinkling of the remaining cheese and a grating of black pepper. If the dish does get a little dry before serving, splash in some more hot pasta water and the glossy sauciness will be revived.</p><p></p><p><em>Source: https://www.bbcgoodfood.com/recipes/ultimate-spaghetti-carbonara-recipe</em></p>',creationDate:"03-01-2025",updateDate:"04-01-2025"},{id:3,name:"Margarita",category:xs[5],tags:[Dt[4],Dt[16]],imageSrc:"assets/images/3-margarita.jpg",ingredients:[{id:25,name:"ice",amount:{value:null,unit:null},checked:!1},{id:26,name:"tequila",amount:{value:"50",unit:"ml"},checked:!1},{id:27,name:"lime juice",amount:{value:"25",unit:"ml"},checked:!1},{id:28,name:"triple sec",amount:{value:"20",unit:"ml"},checked:!1},{id:29,name:"salt",amount:{value:null,unit:null},checked:!1},{id:30,name:"lime wedges",amount:{value:"2",unit:null},checked:!1}],description:'<h1 class="heading-1"><strong>Step 1</strong></h1><p></p><p>Sprinkle a few teaspoons of salt over the surface of a small plate or saucer. Rub one wedge of lime along the rim of a tumbler and then dip it into the salt so</p><p>that the entire rim is covered.</p><p></p><h1 class="heading-1"><strong>Step 2</strong></h1><p></p><p>Fill a cocktail shaker with ice, then add the tequila, lime juice and triple sec. Shake until the outside of the shaker feels cold.</p><p></p><h1 class="heading-1"><strong>Step 3</strong></h1><p></p><p>Strain the mix into the prepared glass over fresh ice. Serve with a wedge of lime.</p><p></p><p><em>Source: https://www.bbcgoodfood.com/recipes/tequila-classic-margarita</em></p>',creationDate:"03-01-2025",updateDate:"04-01-2025"},{id:4,name:"Oatmeal",category:xs[2],tags:[Dt[1],Dt[2],Dt[8],Dt[10],Dt[11]],imageSrc:"assets/images/4-oatmeal.jpg",ingredients:[{id:31,name:"water",amount:{value:"1",unit:"cup"},checked:!1},{id:32,name:"whole rolled oats",amount:{value:"1/2",unit:"cup"},checked:!1},{id:33,name:"sea salt",amount:{value:"pinch",unit:null},checked:!1},{id:34,name:"cinnamon",amount:{value:null,unit:null},checked:!1},{id:35,name:"honey",amount:{value:null,unit:null},checked:!1},{id:36,name:"nuts",amount:{value:null,unit:null},checked:!1},{id:37,name:"fruits",amount:{value:null,unit:null},checked:!1}],description:'<h1 class="heading-1">Step 1</h1><p></p><p>In a small pot, stir together the water, oats, and salt. Bring to a boil over medium-high heat, then reduce the heat to medium-low. Cook, stirring occasionally, for 2 to 5 minutes, or until the oatmeal is thick and creamy. Stir in a pinch of cinnamon, nutmeg, and/or cardamom, if desired. Remove from heat and let stand for 1 minute. Serve hot with honey or maple syrup, if desired.</p><p></p><h1 class="heading-1">Step 2</h1><p></p><p>To make the Apple &amp; Tart Cherry variation, top with sliced apples, tart cherries, and almonds.</p><p></p><h1 class="heading-1">Step 3</h1><p></p><p>To make the Blueberry &amp; Coconut variation, top with blueberries, orange zest, a scoop of Greek yogurt, chia seeds, and coconut flakes.</p><p></p><p><em>Source: https://www.loveandlemons.com/how-to-make-oatmeal/</em></p>',creationDate:"03-01-2025",updateDate:"04-01-2025"},{id:5,name:"Cheesecake",category:xs[1],tags:[Dt[1],Dt[2],Dt[15]],imageSrc:"assets/images/5-cheesecake.jpg",ingredients:[{id:38,name:"wholewheat flour",amount:{value:"250",unit:"g"},checked:!1},{id:39,name:"sour cream 18%",amount:{value:"1",unit:"tbsp"},checked:!1},{id:40,name:"Farmer’s Cheese, full fat",amount:{value:"1",unit:"kg"},checked:!1},{id:41,name:"eggs",amount:{value:"5",unit:null},checked:!1},{id:42,name:"sugar",amount:{value:"200",unit:"g"},checked:!1},{id:43,name:"vanilla extract",amount:{value:"2",unit:"tbsp"},checked:!1},{id:44,name:"butter",amount:{value:"220",unit:"g"},checked:!1},{id:45,name:"potato starch (optional)",amount:{value:"2",unit:"tbsp"},checked:!1},{id:46,name:"candied orange peel chopped",amount:{value:"2",unit:"tbsp"},checked:!1},{id:47,name:"raisins (optional)",amount:{value:"2",unit:"tbsp"},checked:!1},{id:48,name:"powdered/icing sugar",amount:{value:"4",unit:"tbsp"},checked:!1}],description:'<h1 class="heading-1">Step 1</h1><p></p><p>Take the ingredients (for the cheese layer only!) out of the fridge 2-3 hours before baking. They should be at a room temperature.</p><p></p><h1 class="heading-1">Step 2</h1><p></p><p>Grab a large bowl. Drop in all the shortcrust ingredients. Chop the butter roughly with a knife. Knead until all the ingredients are combined and you can’t feel any major lumps. Form a dough ball.</p><p></p><h1 class="heading-1">Step 3</h1><p></p><p>Wrap the bowl with cling film and place in the fridge for 20-30 minutes.</p><p></p><h1 class="heading-1">Step 4</h1><p></p><p>In the meantime, let’s make the cheese layer. Grind the farmer’s cheese with a tool of your choice: meat grinder (smallest holes), potato ricer or a blender. When using a meat grinder, grind the cheese at least 2 times. The mass should be smooth and lump-free. Set the cheese aside, you’ll need it in a minute.</p><p></p><h1 class="heading-1">Step 5</h1><p></p><p>Preheat the oven to 360°F (180°C). Line a round baking tin (I’ve used 10 inch / 25cm in diameter, with a loose base) with parchment paper. Grease the edges.&nbsp;</p><p></p><h1 class="heading-1">Step 6</h1><p></p><p>Remove the dough from the fridge. Roll it out to fit the baking tin. I just grab small chunks of dough and line the pan by hand, pressing with my fingers as I go, until I have an even layer of pastry.</p><p></p><h1 class="heading-1">Step 7</h1><p></p><p>Bake for 15 minutes until lightly golden, then remove from the oven - but keep the oven on.</p><p></p><h1 class="heading-1">Step 8</h1><p></p><p>Grab a large bowl (sized at 2 quart / 2 litre should be enough). Add 1 cup (200 g) sugar, 2 teaspoons of vanilla extract and 3 egg yolks and mix with an electric mixer for 3 minutes until combined.&nbsp;</p><p></p><h1 class="heading-1">Step 9</h1><p></p><p>Add ground cheese to the bowl, add softened butter. (Optional step) If you feel that the cheese mass is loose, add 2 tablespoons of potato starch. Mix again with a mixer for 3-4 minutes.</p><p></p><h1 class="heading-1">Step 10</h1><p></p><p>In a separate container, beat 5 egg whites until stiff. I use a mixer, but you can do it by hand if you’re brave.</p><p></p><h1 class="heading-1">Step 11</h1><p></p><p>Grab a spoon or a spatula and gently blend the egg whites with our cheese mass. The key is not to over-mix it.</p><p></p><h1 class="heading-1">Step 12</h1><p></p><p>Add 2 tablespoons of chopped candied orange peel, together with 2 tablespoons of raisins. Blend them in for a few seconds.&nbsp;</p><p></p><h1 class="heading-1">Step 13</h1><p></p><p>Pour the cheese mass on top of the pre-baked shortcrust pastry. Bake for 60 minutes at 360°F (180°C), switching off any fan-assisted functions.&nbsp;</p><p></p><h1 class="heading-1">Step 14</h1><p></p><p>Once the time is up, switch off the heat, but leave the cheesecake inside for another 30 minutes. After that time, open the oven slightly and leave the cake inside until the oven is completely cooled.</p><p></p><h1 class="heading-1">Step 15</h1><p></p><p>Once cooled, sprinkle with powdered sugar.&nbsp;</p><p></p><p><em>Source: https://www.polonist.com/polish-cheesecake-sernik/</em></p>',creationDate:"03-01-2025",updateDate:"04-01-2025"}],qc=e=>{const t=new Date;return t.setDate(new Date().getDate()+e),t.toString()},vI=[{id:1,name:"groceries",autoDelete:!0,creationDate:new Date().toString(),updateDate:new Date().toString(),sublists:[{id:1,name:"Manual sublist",recipeId:null,count:1,items:[{id:1,name:"carrots",amount:{value:"0.5",unit:"kg"},checked:!1},{id:2,name:"onion",amount:{value:"3",unit:null},checked:!1},{id:3,name:"cheese",amount:{value:"1",unit:"pack"},checked:!1},{id:4,name:"bread",amount:{value:"1",unit:null},checked:!1}]},{id:2,name:"Beef burritos",recipeId:1,count:1,items:[{id:16,name:"sunflower oil",amount:{value:"2",unit:"tbsp"},checked:!1},{id:17,name:"onion",amount:{value:"1",unit:null},checked:!1},{id:18,name:"garlic cloves",amount:{value:"4",unit:null},checked:!1},{id:19,name:"ground cumin",amount:{value:"1",unit:"tbsp"},checked:!1},{id:5,name:"ground coriander",amount:{value:"1",unit:"tbsp"},checked:!1},{id:6,name:"cayenne pepper",amount:{value:"pinch",unit:null},checked:!1},{id:7,name:"dried oregano",amount:{value:"1",unit:"tsp"},checked:!1},{id:8,name:"beef mince",amount:{value:"500",unit:"g"},checked:!1},{id:9,name:"golden caster sugar",amount:{value:"pinch",unit:null},checked:!1},{id:10,name:"wine vinegar",amount:{value:"1",unit:"tbsp"},checked:!1},{id:11,name:"chopped tomatoes",amount:{value:"400",unit:"g"},checked:!1},{id:12,name:"black beans",amount:{value:"400",unit:"g"},checked:!1},{id:13,name:"flour or corn tortillas",amount:{value:"8",unit:null},checked:!1},{id:14,name:"cooked rice",amount:{value:"500",unit:"g"},checked:!1},{id:15,name:"sliced avocado",amount:{value:"some",unit:null},checked:!1}]}]},{id:2,name:"christmas presents",autoDelete:!1,creationDate:qc(-20),updateDate:qc(-20),sublists:[{id:1,name:"Manual sublist",recipeId:null,count:1,items:[{id:1,name:"christmas jumper",amount:{value:null,unit:null},checked:!1},{id:2,name:"Nintendo game",amount:{value:null,unit:null},checked:!1},{id:3,name:"Thermos",amount:{value:null,unit:null},checked:!1},{id:4,name:"Electric kettle",amount:{value:null,unit:null},checked:!1}]}]},{id:3,name:"groceries - older list",autoDelete:!0,creationDate:qc(-10),updateDate:qc(-10),sublists:[{id:1,name:"Manual sublist",recipeId:null,count:1,items:[{id:1,name:"carrots",amount:{value:"0.5",unit:"kg"},checked:!1},{id:2,name:"onion",amount:{value:"3",unit:null},checked:!1},{id:3,name:"cheese",amount:{value:"1",unit:"pack"},checked:!1},{id:4,name:"bread",amount:{value:"1",unit:null},checked:!1}]},{id:2,name:"Beef burritos",recipeId:1,count:1,items:[{id:38,name:"wholewheat flour",amount:{value:"250",unit:"g"},checked:!1},{id:39,name:"sour cream 18%",amount:{value:"1",unit:"tbsp"},checked:!1},{id:40,name:"Farmer’s Cheese, full fat",amount:{value:"1",unit:"kg"},checked:!1},{id:41,name:"eggs",amount:{value:"5",unit:null},checked:!1},{id:42,name:"sugar",amount:{value:"200",unit:"g"},checked:!1},{id:43,name:"vanilla extract",amount:{value:"2",unit:"tbsp"},checked:!1},{id:44,name:"butter",amount:{value:"220",unit:"g"},checked:!1},{id:45,name:"potato starch (optional)",amount:{value:"2",unit:"tbsp"},checked:!1},{id:46,name:"candied orange peel chopped",amount:{value:"2",unit:"tbsp"},checked:!1},{id:47,name:"raisins (optional)",amount:{value:"2",unit:"tbsp"},checked:!1},{id:48,name:"powdered/icing sugar",amount:{value:"4",unit:"tbsp"},checked:!1}]},{id:3,name:"Margarita",recipeId:3,count:1,items:[{id:25,name:"ice",amount:{value:null,unit:null},checked:!1},{id:26,name:"tequila",amount:{value:"50",unit:"ml"},checked:!1},{id:27,name:"lime juice",amount:{value:"25",unit:"ml"},checked:!1},{id:28,name:"triple sec",amount:{value:"20",unit:"ml"},checked:!1},{id:29,name:"salt",amount:{value:null,unit:null},checked:!1},{id:30,name:"lime wedges",amount:{value:"2",unit:null},checked:!1}]}]}],Se={categories:xs,tags:Dt,recipes:yI,shoppingLists:vI},wI=async()=>[...Se.categories],bI=async()=>[...Se.tags],xI=async e=>{var r,o;let t=[...Se.recipes];const n={name:((r=e.query.match(new RegExp("(?<=name=)[^&]*","g")))==null?void 0:r[0])??null,category:((o=e.query.match(new RegExp("(?<=category=)[^&]*","g")))==null?void 0:o[0])??null,tags:e.query.match(new RegExp("(?<=tags=)[^&]*","g"))??null};return n.name&&(t=t.filter(i=>i.name.toLowerCase().includes(n.name.toLowerCase()))),n.category&&(t=t.filter(i=>i.category.name===n.category)),n.tags&&(t=t.filter(i=>n.tags.every(s=>i.tags.some(l=>l.name===s)))),{nextPage:null,recipes:t}},SI=async e=>{const t=Se.recipes.find(n=>n.id===e);if(t===void 0)throw new Error("Recipe not found");return t},kI=async()=>[...Se.shoppingLists],EI=async e=>{const t=Se.shoppingLists.find(n=>n.id===e);if(t===void 0)throw new Error("List not found");return t},CI=async e=>(await Ge.get(e,{responseType:"blob"})).data,TI=Object.freeze(Object.defineProperty({__proto__:null,getCategories:wI,getImage:CI,getRecipe:SI,getRecipes:xI,getShoppingList:EI,getShoppingLists:kI,getTags:bI},Symbol.toStringTag,{value:"Module"})),OI=async(e,t)=>{const n=Se.shoppingLists.find(s=>s.id===e),r=Se.recipes.find(s=>s.id===t),o=r.ingredients.map(s=>({...s,checked:!1})),i={id:n.sublists.length+1,name:r.name,recipeId:t,count:1,items:o};Se.shoppingLists=Se.shoppingLists.map(s=>s.id===e?{...s,sublists:[...s.sublists,i]}:s)},RI=async e=>{const t={id:Se.shoppingLists.length+1,name:e,creationDate:new Date().toLocaleDateString(),updateDate:new Date().toLocaleDateString(),autoDelete:!0,sublists:[{id:1,name:"Manual sublist",recipeId:null,count:1,items:[]}]};return Se.shoppingLists=[t,...Se.shoppingLists],t},MI=async e=>{const t=e.tagIds.map(o=>Se.tags.find(i=>i.id===o));for(const o of e.newTags){const i={id:Se.tags.length+1,name:o.name};Se.tags=[i,...Se.tags],t.push(i)}const n=e.ingredients.map((o,i)=>({id:i+1,name:o.name,amount:o.amount,checked:!1})),r={id:Se.recipes.length+1,name:e.name,description:e.description,category:Se.categories.find(o=>o.id===e.categoryId),creationDate:new Date().toLocaleDateString(),updateDate:new Date().toLocaleDateString(),tags:t,ingredients:n,imageSrc:e.image?URL.createObjectURL(e.image):void 0};return Se.recipes=[r,...Se.recipes],r},DI=Object.freeze(Object.defineProperty({__proto__:null,createRecipe:MI,createShoppingList:RI,createShoppingListSublist:OI},Symbol.toStringTag,{value:"Module"})),PI=async(e,t,n)=>{const r=n.tagIds.map(s=>Se.tags.find(l=>l.id===s));for(const s of n.newTags){const l={id:Se.tags.length+1,name:s.name};Se.tags=[l,...Se.tags],r.push(l)}const o=n.ingredients.map((s,l)=>({id:l+1,name:s.name,amount:s.amount,checked:!1})),i={id:e,name:n.name,description:n.description,category:Se.categories.find(s=>s.id===n.categoryId),creationDate:new Date().toLocaleDateString(),updateDate:new Date().toLocaleDateString(),tags:r,ingredients:o,imageSrc:n.image?URL.createObjectURL(n.image):void 0};return Se.recipes=Se.recipes.map(s=>s.id===e?i:s),i},AI=async(e,t,n)=>{const o=(()=>{const l={};return c=>{if(l[c.id]===void 0){const u=c.items.length>0?Math.max(...c.items.map(d=>d.id)):0;l[c.id]=u}return++l[c.id]}})(),i=Se.shoppingLists.find(l=>l.id===e),s={id:e,name:n.name,creationDate:i.creationDate,updateDate:new Date().toLocaleDateString(),autoDelete:n.autoDelete,sublists:n.sublists.map(l=>({id:l.id,name:l.name,recipeId:i.sublists.find(a=>a.id===l.id).recipeId,count:l.count,items:l.items.map(a=>({...a,id:a.id??o(i.sublists.find(c=>c.id===l.id))}))}))};return Se.shoppingLists=[s,...Se.shoppingLists],s},NI=async(e,t,n)=>{const r=Se.shoppingLists.find(i=>i.id===e),o={id:e,name:n.name,creationDate:r.creationDate,updateDate:new Date().toLocaleDateString(),autoDelete:n.autoDelete,sublists:n.sublists.map(i=>({id:i.id,name:i.name,recipeId:r.sublists.find(s=>s.id===i.id).recipeId,count:i.count,items:i.items.map(s=>({...s,id:s.id??Math.max(...r.sublists.find(l=>l.id===i.id).items.map(l=>l.id))+1}))}))};return Se.shoppingLists=[o,...Se.shoppingLists],o},$I=Object.freeze(Object.defineProperty({__proto__:null,updateRecipe:PI,updateShoppingList:AI,updateShoppingListWithFetch:NI},Symbol.toStringTag,{value:"Module"})),_I=async(e,t)=>{if(Se.shoppingLists.find(r=>r.id===e)===void 0)throw new Error("List not found");return Se.shoppingLists=Se.shoppingLists.filter(r=>r.id!==e),Promise.resolve()},II=Object.freeze(Object.defineProperty({__proto__:null,deleteShoppingList:_I},Symbol.toStringTag,{value:"Module"}));var Zb;const AE=(Zb=window.__APP_CONFIG__)==null?void 0:Zb.API_BASE_URL;if(AE===void 0)throw new Error("API_BASE_URL is not defined in the configuration file.");const LI=AE,Zt={BaseUrl:LI,get:{...TI},post:{...DI},put:{...$I},delete:{...II}},FI=({category:e})=>{const[t,n]=h.useState(!1);return x.jsxs("div",{className:"category-indicator-interaction-space",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onTouchStart:()=>n(r=>!r),onClick:r=>r.stopPropagation(),children:[x.jsx("span",{className:"svg-space",dangerouslySetInnerHTML:{__html:e.symbol}}),x.jsx("div",{style:{"--color":e.color},className:`category-indicator ${t?"show":""}`,children:x.jsx("p",{children:e.name})})]})},NE=({tagName:e,size:t,disableShadow:n=!1})=>x.jsx("div",{className:`block tag-chip ${n?"":"floating"} ${t}`,children:e}),$E="Checkbox",[jI,_U]=Ir($E),[BI,zI]=jI($E),VI=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:i,required:s,disabled:l,value:a="on",onCheckedChange:c,...u}=e,[d,f]=h.useState(null),m=lt(t,b=>f(b)),p=h.useRef(!1),g=d?!!d.closest("form"):!0,[w=!1,y]=to({prop:o,defaultProp:i,onChange:c}),v=h.useRef(w);return h.useEffect(()=>{const b=d==null?void 0:d.form;if(b){const k=()=>y(v.current);return b.addEventListener("reset",k),()=>b.removeEventListener("reset",k)}},[d,y]),h.createElement(BI,{scope:n,state:w,disabled:l},h.createElement(Le.button,te({type:"button",role:"checkbox","aria-checked":Ri(w)?"mixed":w,"aria-required":s,"data-state":_E(w),"data-disabled":l?"":void 0,disabled:l,value:a},u,{ref:m,onKeyDown:Ne(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Ne(e.onClick,b=>{y(k=>Ri(k)?!0:!k),g&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})})),g&&h.createElement(WI,{control:d,bubbles:!p.current,name:r,value:a,checked:w,required:s,disabled:l,style:{transform:"translateX(-100%)"}}))}),UI="CheckboxIndicator",HI=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,i=zI(UI,n);return h.createElement(hf,{present:r||Ri(i.state)||i.state===!0},h.createElement(Le.span,te({"data-state":_E(i.state),"data-disabled":i.disabled?"":void 0},o,{ref:t,style:{pointerEvents:"none",...e.style}})))}),WI=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,i=h.useRef(null),s=jy(n),l=Ly(t);return h.useEffect(()=>{const a=i.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&d){const f=new Event("click",{bubbles:r});a.indeterminate=Ri(n),d.call(a,Ri(n)?!1:n),a.dispatchEvent(f)}},[s,n,r]),h.createElement("input",te({type:"checkbox","aria-hidden":!0,defaultChecked:Ri(n)?!1:n},o,{tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function Ri(e){return e==="indeterminate"}function _E(e){return Ri(e)?"indeterminate":e?"checked":"unchecked"}const IE=VI,KI=HI,qI=({tag:e,size:t,checked:n,onCheckedChange:r,disableShadow:o})=>x.jsxs(x.Fragment,{children:[x.jsx(IE,{name:"tags",value:e.name,id:e.name,checked:n,onCheckedChange:i=>r(!!i)}),x.jsx("label",{className:`tag-chip tag-chip-interactive block ${o?"":"floating"} ${t}`,htmlFor:e.name,children:e.name})]}),JI=({minWidth:e,...t})=>x.jsxs("span",{className:"input-sizing-wrapper",children:[x.jsx("p",{style:{minWidth:e},children:t.value}),x.jsx("input",{...t})]}),GI=({width:e="100%",height:t="100%",thickness:n=4})=>x.jsxs("svg",{width:e,height:t,children:[x.jsx("rect",{width:n,height:"100%",x:"50%",transform:`translate(-${n/2}, 0)`}),x.jsx("rect",{width:"100%",height:n,y:"50%",transform:`translate(0, -${n/2})`})]}),YI=({onCreate:e,size:t})=>{const[n,r]=h.useState(!1),[o,i]=h.useState(""),s=()=>{r(!1),o&&e(o.trim()),i("")};return n?x.jsx("form",{onSubmit:l=>{l.preventDefault(),s()},children:x.jsx(JI,{className:"floating tag-chip-interactive tag-creation",minWidth:"15ch",autoFocus:!0,maxLength:20,value:o,onChange:l=>{i(l.target.value)},onBlur:()=>s()})}):x.jsxs(es,{className:`tag-chip tag-chip-interactive ${t} tag-creation`,onClick:()=>r(!0),children:["new tag ",x.jsx(GI,{width:"16px",height:"16px",thickness:2})]})};let Lp=0;function LE(){h.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:D1()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:D1()),Lp++,()=>{Lp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Lp--}},[])}function D1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const Fp="focusScope.autoFocusOnMount",jp="focusScope.autoFocusOnUnmount",P1={bubbles:!1,cancelable:!0},FE=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=e,[l,a]=h.useState(null),c=Dr(o),u=Dr(i),d=h.useRef(null),f=lt(t,g=>a(g)),m=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let v=function(S){if(m.paused||!l)return;const C=S.target;l.contains(C)?d.current=C:ho(d.current,{select:!0})},b=function(S){if(m.paused||!l)return;const C=S.relatedTarget;C!==null&&(l.contains(C)||ho(d.current,{select:!0}))},k=function(S){if(document.activeElement===document.body)for(const O of S)O.removedNodes.length>0&&ho(l)};var g=v,w=b,y=k;document.addEventListener("focusin",v),document.addEventListener("focusout",b);const E=new MutationObserver(k);return l&&E.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),E.disconnect()}}},[r,l,m.paused]),h.useEffect(()=>{if(l){N1.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(Fp,P1);l.addEventListener(Fp,c),l.dispatchEvent(y),y.defaultPrevented||(XI(nL(jE(l)),{select:!0}),document.activeElement===g&&ho(l))}return()=>{l.removeEventListener(Fp,c),setTimeout(()=>{const y=new CustomEvent(jp,P1);l.addEventListener(jp,u),l.dispatchEvent(y),y.defaultPrevented||ho(g??document.body,{select:!0}),l.removeEventListener(jp,u),N1.remove(m)},0)}}},[l,c,u,m]);const p=h.useCallback(g=>{if(!n&&!r||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const v=g.currentTarget,[b,k]=QI(v);b&&k?!g.shiftKey&&y===k?(g.preventDefault(),n&&ho(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),n&&ho(k,{select:!0})):y===v&&g.preventDefault()}},[n,r,m.paused]);return h.createElement(Le.div,te({tabIndex:-1},s,{ref:f,onKeyDown:p}))});function XI(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ho(r,{select:t}),document.activeElement!==n)return}function QI(e){const t=jE(e),n=A1(t,e),r=A1(t.reverse(),e);return[n,r]}function jE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function A1(e,t){for(const n of e)if(!ZI(n,{upTo:t}))return n}function ZI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function eL(e){return e instanceof HTMLInputElement&&"select"in e}function ho(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&eL(e)&&t&&e.select()}}const N1=tL();function tL(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=$1(e,t),e.unshift(t)},remove(t){var n;e=$1(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function $1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function nL(e){return e.filter(t=>t.tagName!=="A")}var rL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ps=new WeakMap,Jc=new WeakMap,Gc={},Bp=0,BE=function(e){return e&&(e.host||BE(e.parentNode))},oL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=BE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},iL=function(e,t,n,r){var o=oL(t,Array.isArray(e)?e:[e]);Gc[n]||(Gc[n]=new WeakMap);var i=Gc[n],s=[],l=new Set,a=new Set(o),c=function(d){!d||l.has(d)||(l.add(d),c(d.parentNode))};o.forEach(c);var u=function(d){!d||a.has(d)||Array.prototype.forEach.call(d.children,function(f){if(l.has(f))u(f);else try{var m=f.getAttribute(r),p=m!==null&&m!=="false",g=(ps.get(f)||0)+1,w=(i.get(f)||0)+1;ps.set(f,g),i.set(f,w),s.push(f),g===1&&p&&Jc.set(f,!0),w===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),l.clear(),Bp++,function(){s.forEach(function(d){var f=ps.get(d)-1,m=i.get(d)-1;ps.set(d,f),i.set(d,m),f||(Jc.has(d)||d.removeAttribute(r),Jc.delete(d)),m||d.removeAttribute(n)}),Bp--,Bp||(ps=new WeakMap,ps=new WeakMap,Jc=new WeakMap,Gc={})}},Uy=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=rL(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),iL(r,o,n,"aria-hidden")):function(){return null}},Wt=function(){return Wt=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wt.apply(this,arguments)};function Hy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Ol(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{c(r.next(u))}catch(d){s(d)}}function a(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(l,a)}c((r=r.apply(e,t||[])).next())})}function Rl(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(u){return a([c,u])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function _1(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(l){s={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function fd(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var ya="right-scroll-bar-position",va="width-before-scroll-bar",sL="with-scroll-bars-hidden",lL="--removed-body-scroll-bar-size";function zp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aL(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var cL=typeof window<"u"?h.useLayoutEffect:h.useEffect,I1=new WeakMap;function zE(e,t){var n=aL(null,function(r){return e.forEach(function(o){return zp(o,r)})});return cL(function(){var r=I1.get(n);if(r){var o=new Set(r),i=new Set(e),s=n.current;o.forEach(function(l){i.has(l)||zp(l,null)}),i.forEach(function(l){o.has(l)||zp(l,s)})}I1.set(n,e)},[e]),n}function uL(e){return e}function dL(e,t){t===void 0&&(t=uL);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(l){return l!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var l=n;n=[],l.forEach(i),s=n}var a=function(){var u=s;s=[],u.forEach(i)},c=function(){return Promise.resolve().then(a)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return o}function VE(e){e===void 0&&(e={});var t=dL(null);return t.options=Wt({async:!0,ssr:!1},e),t}var UE=function(e){var t=e.sideCar,n=Hy(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Wt({},n))};UE.isSideCarExport=!0;function HE(e,t){return e.useMedium(t),UE}var WE=VE(),Vp=function(){},Sf=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Vp,onWheelCapture:Vp,onTouchMoveCapture:Vp}),o=r[0],i=r[1],s=e.forwardProps,l=e.children,a=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,m=e.noIsolation,p=e.inert,g=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,v=Hy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=f,k=zE([n,t]),E=Wt(Wt({},v),o);return h.createElement(h.Fragment,null,u&&h.createElement(b,{sideCar:WE,removeScrollBar:c,shards:d,noIsolation:m,inert:p,setCallbacks:i,allowPinchZoom:!!g,lockRef:n}),s?h.cloneElement(h.Children.only(l),Wt(Wt({},E),{ref:k})):h.createElement(y,Wt({},E,{className:a,ref:k}),l))});Sf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sf.classNames={fullWidth:va,zeroRight:ya};var fL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fL();return t&&e.setAttribute("nonce",t),e}function hL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var gL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=pL())&&(hL(t,n),mL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yL=function(){var e=gL();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Wy=function(){var e=yL(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},vL={left:0,top:0,right:0,gap:0},Up=function(e){return parseInt(e||"",10)||0},wL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Up(n),Up(r),Up(o)]},bL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return vL;var t=wL(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},xL=Wy(),Js="data-scroll-locked",SL=function(e,t,n,r){var o=e.left,i=e.top,s=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(sL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Js,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ya,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(va,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ya," .").concat(ya,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(va," .").concat(va,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Js,`] {
    `).concat(lL,": ").concat(l,`px;
  }
`)},L1=function(){var e=parseInt(document.body.getAttribute(Js)||"0",10);return isFinite(e)?e:0},kL=function(){h.useEffect(function(){return document.body.setAttribute(Js,(L1()+1).toString()),function(){var e=L1()-1;e<=0?document.body.removeAttribute(Js):document.body.setAttribute(Js,e.toString())}},[])},KE=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;kL();var i=h.useMemo(function(){return bL(o)},[o]);return h.createElement(xL,{styles:SL(i,!t,o,n?"":"!important")})},Vm=!1;if(typeof window<"u")try{var Yc=Object.defineProperty({},"passive",{get:function(){return Vm=!0,!0}});window.addEventListener("test",Yc,Yc),window.removeEventListener("test",Yc,Yc)}catch{Vm=!1}var hs=Vm?{passive:!1}:!1,EL=function(e){return e.tagName==="TEXTAREA"},qE=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!EL(e)&&n[t]==="visible")},CL=function(e){return qE(e,"overflowY")},TL=function(e){return qE(e,"overflowX")},F1=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=JE(e,n);if(r){var o=GE(e,n),i=o[1],s=o[2];if(i>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},OL=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},RL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},JE=function(e,t){return e==="v"?CL(t):TL(t)},GE=function(e,t){return e==="v"?OL(t):RL(t)},ML=function(e,t){return e==="h"&&t==="rtl"?-1:1},DL=function(e,t,n,r,o){var i=ML(e,window.getComputedStyle(t).direction),s=i*r,l=n.target,a=t.contains(l),c=!1,u=s>0,d=0,f=0;do{var m=GE(e,l),p=m[0],g=m[1],w=m[2],y=g-w-i*p;(p||y)&&JE(e,l)&&(d+=y,f+=p),l=l.parentNode}while(!a&&l!==document.body||a&&(t.contains(l)||t===l));return(u&&(d===0||!o)||!u&&(f===0||!o))&&(c=!0),c},Xc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},j1=function(e){return[e.deltaX,e.deltaY]},B1=function(e){return e&&"current"in e?e.current:e},PL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},AL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},NL=0,ms=[];function $L(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),o=h.useState(NL++)[0],i=h.useState(function(){return Wy()})[0],s=h.useRef(e);h.useEffect(function(){s.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=fd([e.lockRef.current],(e.shards||[]).map(B1),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2)return!s.current.allowPinchZoom;var y=Xc(g),v=n.current,b="deltaX"in g?g.deltaX:v[0]-y[0],k="deltaY"in g?g.deltaY:v[1]-y[1],E,S=g.target,C=Math.abs(b)>Math.abs(k)?"h":"v";if("touches"in g&&C==="h"&&S.type==="range")return!1;var O=F1(C,S);if(!O)return!0;if(O?E=C:(E=C==="v"?"h":"v",O=F1(C,S)),!O)return!1;if(!r.current&&"changedTouches"in g&&(b||k)&&(r.current=E),!E)return!0;var M=r.current||E;return DL(M,w,g,M==="h"?b:k,!0)},[]),a=h.useCallback(function(g){var w=g;if(!(!ms.length||ms[ms.length-1]!==i)){var y="deltaY"in w?j1(w):Xc(w),v=t.current.filter(function(E){return E.name===w.type&&E.target===w.target&&PL(E.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(s.current.shards||[]).map(B1).filter(Boolean).filter(function(E){return E.contains(w.target)}),k=b.length>0?l(w,b[0]):!s.current.noIsolation;k&&w.cancelable&&w.preventDefault()}}},[]),c=h.useCallback(function(g,w,y,v){var b={name:g,delta:w,target:y,should:v};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(k){return k!==b})},1)},[]),u=h.useCallback(function(g){n.current=Xc(g),r.current=void 0},[]),d=h.useCallback(function(g){c(g.type,j1(g),g.target,l(g,e.lockRef.current))},[]),f=h.useCallback(function(g){c(g.type,Xc(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return ms.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",a,hs),document.addEventListener("touchmove",a,hs),document.addEventListener("touchstart",u,hs),function(){ms=ms.filter(function(g){return g!==i}),document.removeEventListener("wheel",a,hs),document.removeEventListener("touchmove",a,hs),document.removeEventListener("touchstart",u,hs)}},[]);var m=e.removeScrollBar,p=e.inert;return h.createElement(h.Fragment,null,p?h.createElement(i,{styles:AL(o)}):null,m?h.createElement(KE,{gapMode:"margin"}):null)}const _L=HE(WE,$L);var Ky=h.forwardRef(function(e,t){return h.createElement(Sf,Wt({},e,{ref:t,sideCar:_L}))});Ky.classNames=Sf.classNames;const YE="Popover",[XE,IU]=Ir(YE,[El]),kf=El(),[IL,Ml]=XE(YE),LL=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!1}=e,l=kf(t),a=h.useRef(null),[c,u]=h.useState(!1),[d=!1,f]=to({prop:r,defaultProp:o,onChange:i});return h.createElement(Gk,l,h.createElement(IL,{scope:t,contentId:df(),triggerRef:a,open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:c,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:s},n))},FL="PopoverTrigger",jL=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Ml(FL,n),i=kf(n),s=lt(t,o.triggerRef),l=h.createElement(Le.button,te({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":eC(o.open)},r,{ref:s,onClick:Ne(e.onClick,o.onOpenToggle)}));return o.hasCustomAnchor?l:h.createElement(Yk,te({asChild:!0},i),l)}),QE="PopoverPortal",[BL,zL]=XE(QE,{forceMount:void 0}),VL=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=Ml(QE,t);return h.createElement(BL,{scope:t,forceMount:n},h.createElement(hf,{present:n||i.open},h.createElement(Qk,{asChild:!0,container:o},r)))},Ga="PopoverContent",UL=h.forwardRef((e,t)=>{const n=zL(Ga,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=Ml(Ga,e.__scopePopover);return h.createElement(hf,{present:r||i.open},i.modal?h.createElement(HL,te({},o,{ref:t})):h.createElement(WL,te({},o,{ref:t})))}),HL=h.forwardRef((e,t)=>{const n=Ml(Ga,e.__scopePopover),r=h.useRef(null),o=lt(t,r),i=h.useRef(!1);return h.useEffect(()=>{const s=r.current;if(s)return Uy(s)},[]),h.createElement(Ky,{as:ll,allowPinchZoom:!0},h.createElement(ZE,te({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),i.current||(l=n.triggerRef.current)===null||l===void 0||l.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,a=l.button===0&&l.ctrlKey===!0,c=l.button===2||a;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ne(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})))}),WL=h.forwardRef((e,t)=>{const n=Ml(Ga,e.__scopePopover),r=h.useRef(!1),o=h.useRef(!1);return h.createElement(ZE,te({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,i),!i.defaultPrevented){var l;r.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),i.preventDefault()}r.current=!1,o.current=!1},onInteractOutside:i=>{var s,l;(s=e.onInteractOutside)===null||s===void 0||s.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=i.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}}))}),ZE=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,...d}=e,f=Ml(Ga,n),m=kf(n);return LE(),h.createElement(FE,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i},h.createElement(Ak,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1)},h.createElement(Xk,te({"data-state":eC(f.open),role:"dialog",id:f.contentId},m,d,{ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}),KL=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=kf(n);return h.createElement(P2,te({},o,r,{ref:t}))});function eC(e){return e?"open":"closed"}const qL=LL,JL=jL,GL=VL,YL=UL,XL=KL,tC=({children:e,onConfirm:t,text:n,side:r="top"})=>x.jsxs(qL,{children:[x.jsx(JL,{asChild:!0,children:x.jsx("span",{style:{display:"flex"},children:e})}),x.jsx(GL,{children:x.jsxs(YL,{className:"confirmation-popover-content floating",side:r,sideOffset:2,children:[x.jsx("p",{children:n}),x.jsx(es,{onClick:t,className:"confirmation-popover-button",disableShadow:!0,children:"yes"}),x.jsx(XL,{className:"popover-arrow"})]})})]}),QL=({tagName:e,size:t,onDelete:n})=>x.jsx(tC,{text:"Delete tag?",onConfirm:n,children:x.jsx(NE,{tagName:e,size:t})}),Ef=({tags:e,tagSize:t,disableShadow:n,selection:r={disabled:!0},tagCreationEnabled:o=!1,align:i="center"})=>{const[s,l]=h.useState(r.initiallySelected?ZL(r.initiallySelected,e):[]);h.useEffect(()=>{r.onSelectionChange&&r.onSelectionChange([...s])},[s,r]);const a=s.filter(c=>c.id===void 0).map(c=>c.name);return x.jsxs("div",{className:"tag-set",style:{justifyContent:i},children:[e.map(c=>r.disabled?x.jsx(NE,{tagName:c.name,size:t,disableShadow:n},c.id):x.jsx(qI,{tag:c,size:t,disableShadow:n,checked:s.find(u=>u.id===c.id)!==void 0,onCheckedChange:u=>{l(u?d=>[...d,{id:c.id,name:c.name}]:d=>d.filter(f=>f.id!==c.id))}},c.id)),o&&x.jsxs(x.Fragment,{children:[a.map(c=>x.jsx(QL,{tagName:c,size:t,onDelete:()=>{l(u=>u.filter(d=>d.name!==c))}},c)),x.jsx(YI,{size:t,onCreate:c=>{a.includes(c)===!1&&e.find(u=>u.name===c)===void 0&&l(u=>[...u,{name:c}])}})]})]})},ZL=(e,t)=>e.map(r=>{var o;return{name:r,id:(o=t.find(i=>i.name===r))==null?void 0:o.id}}),eF=({recipe:e})=>{const t=Hn();return x.jsxs("article",{className:"recipe-list-item block floating interactive-element",onClick:()=>t(`./${e.id}`,{relative:"path"}),children:[x.jsx("div",{className:"image-wrapper",children:e.imageSrc?x.jsx("img",{src:e.imageSrc}):x.jsx("div",{className:"image-placeholder",dangerouslySetInnerHTML:{__html:e.category.symbol}})}),x.jsx("h2",{children:e.name}),x.jsx(Ef,{tags:e.tags,tagSize:"small",disableShadow:!0,align:"start"}),x.jsx(FI,{category:e.category})]})},nC=({onClick:e})=>x.jsx(es,{className:"add-button floating",type:"filled",onClick:e,children:x.jsx(c$,{width:"100%",height:"100%"})}),rC=()=>x.jsx("div",{className:"bottom-page-fadeout"});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Um=function(e,t){return Um=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},Um(e,t)};function tF(e,t){Um(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var wa=function(){return wa=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wa.apply(this,arguments)};function nF(e,t,n,r){var o,i=!1,s=0;function l(){o&&clearTimeout(o)}function a(){l(),i=!0}typeof t!="boolean"&&(r=n,n=t,t=void 0);function c(){var u=this,d=Date.now()-s,f=arguments;if(i)return;function m(){s=Date.now(),n.apply(u,f)}function p(){o=void 0}r&&!o&&m(),l(),r===void 0&&d>e?m():t!==!0&&(o=setTimeout(r?p:m,r===void 0?e-d:e))}return c.cancel=a,c}var Gs={Pixel:"Pixel",Percent:"Percent"},z1={unit:Gs.Percent,value:.8};function V1(e){return typeof e=="number"?{unit:Gs.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:Gs.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:Gs.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),z1):(console.warn("scrollThreshold should be string or number"),z1)}var rF=function(e){tF(t,e);function t(n){var r=e.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(o){r.lastScrollTop||(r.dragging=!0,o instanceof MouseEvent?r.startY=o.pageY:o instanceof TouchEvent&&(r.startY=o.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(o){r.dragging&&(o instanceof MouseEvent?r.currentY=o.pageY:o instanceof TouchEvent&&(r.currentY=o.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(o){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(o)},0);var i=r.props.height||r._scrollableNode?o.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var s=r.props.inverse?r.isElementAtTop(i,r.props.scrollThreshold):r.isElementAtBottom(i,r.props.scrollThreshold);s&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=i.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=nF(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return t.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(n,r){var o=n.dataLength!==r.prevDataLength;return o?wa(wa({},r),{prevDataLength:n.dataLength}):null},t.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var o=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=V1(r);return i.unit===Gs.Pixel?n.scrollTop<=i.value+o-n.scrollHeight+1:n.scrollTop<=i.value/100+o-n.scrollHeight+1},t.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var o=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=V1(r);return i.unit===Gs.Pixel?n.scrollTop+o>=n.scrollHeight-i.value:n.scrollTop+o>=i.value/100*n.scrollHeight},t.prototype.render=function(){var n=this,r=wa({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),o=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return J.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},J.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(s){return n._infScroll=s},style:r},this.props.pullDownToRefresh&&J.createElement("div",{style:{position:"relative"},ref:function(s){return n._pullDown=s}},J.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!o&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(h.Component);const oF=({hidden:e=!1})=>x.jsx(es,{className:`scrollup-button floating ${e?"hidden":""}`,type:"filled",shape:"round",onClick:()=>window.scrollTo({behavior:"smooth",top:0}),children:x.jsx(tE,{width:"100%",height:"100%"})});function At(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iF=typeof Symbol=="function"&&Symbol.observable||"@@observable",U1=iF,Hp=()=>Math.random().toString(36).substring(7).split("").join("."),sF={INIT:`@@redux/INIT${Hp()}`,REPLACE:`@@redux/REPLACE${Hp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hp()}`},pd=sF;function qy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function oC(e,t,n){if(typeof e!="function")throw new Error(At(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(At(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(At(1));return n(oC)(e,t)}let r=e,o=t,i=new Map,s=i,l=0,a=!1;function c(){s===i&&(s=new Map,i.forEach((w,y)=>{s.set(y,w)}))}function u(){if(a)throw new Error(At(3));return o}function d(w){if(typeof w!="function")throw new Error(At(4));if(a)throw new Error(At(5));let y=!0;c();const v=l++;return s.set(v,w),function(){if(y){if(a)throw new Error(At(6));y=!1,c(),s.delete(v),i=null}}}function f(w){if(!qy(w))throw new Error(At(7));if(typeof w.type>"u")throw new Error(At(8));if(typeof w.type!="string")throw new Error(At(17));if(a)throw new Error(At(9));try{a=!0,o=r(o,w)}finally{a=!1}return(i=s).forEach(v=>{v()}),w}function m(w){if(typeof w!="function")throw new Error(At(10));r=w,f({type:pd.REPLACE})}function p(){const w=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(At(11));function v(){const k=y;k.next&&k.next(u())}return v(),{unsubscribe:w(v)}},[U1](){return this}}}return f({type:pd.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:m,[U1]:p}}function lF(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:pd.INIT})>"u")throw new Error(At(12));if(typeof n(void 0,{type:pd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(At(13))})}function aF(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let o;try{lF(n)}catch(i){o=i}return function(s={},l){if(o)throw o;let a=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],f=n[d],m=s[d],p=f(m,l);if(typeof p>"u")throw l&&l.type,new Error(At(14));c[d]=p,a=a||p!==m}return a=a||r.length!==Object.keys(s).length,a?c:s}}function hd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function cF(...e){return t=>(n,r)=>{const o=t(n,r);let i=()=>{throw new Error(At(15))};const s={getState:o.getState,dispatch:(a,...c)=>i(a,...c)},l=e.map(a=>a(s));return i=hd(...l)(o.dispatch),{...o,dispatch:i}}}function uF(e){return qy(e)&&"type"in e&&typeof e.type=="string"}var iC=Symbol.for("immer-nothing"),H1=Symbol.for("immer-draftable"),Mn=Symbol.for("immer-state");function Zn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cl=Object.getPrototypeOf;function Wi(e){return!!e&&!!e[Mn]}function no(e){var t;return e?sC(e)||Array.isArray(e)||!!e[H1]||!!((t=e.constructor)!=null&&t[H1])||Tf(e)||Of(e):!1}var dF=Object.prototype.constructor.toString();function sC(e){if(!e||typeof e!="object")return!1;const t=cl(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===dF}function md(e,t){Cf(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Cf(e){const t=e[Mn];return t?t.type_:Array.isArray(e)?1:Tf(e)?2:Of(e)?3:0}function Hm(e,t){return Cf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function lC(e,t,n){const r=Cf(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function fF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Tf(e){return e instanceof Map}function Of(e){return e instanceof Set}function di(e){return e.copy_||e.base_}function Wm(e,t){if(Tf(e))return new Map(e);if(Of(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=sC(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Mn];let o=Reflect.ownKeys(r);for(let i=0;i<o.length;i++){const s=o[i],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(cl(e),r)}else{const r=cl(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function Jy(e,t=!1){return Rf(e)||Wi(e)||!no(e)||(Cf(e)>1&&(e.set=e.add=e.clear=e.delete=pF),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Jy(r,!0))),e}function pF(){Zn(2)}function Rf(e){return Object.isFrozen(e)}var hF={};function Ki(e){const t=hF[e];return t||Zn(0,e),t}var Ya;function aC(){return Ya}function mF(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function W1(e,t){t&&(Ki("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Km(e){qm(e),e.drafts_.forEach(gF),e.drafts_=null}function qm(e){e===Ya&&(Ya=e.parent_)}function K1(e){return Ya=mF(Ya,e)}function gF(e){const t=e[Mn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function q1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Mn].modified_&&(Km(t),Zn(4)),no(e)&&(e=gd(t,e),t.parent_||yd(t,e)),t.patches_&&Ki("Patches").generateReplacementPatches_(n[Mn].base_,e,t.patches_,t.inversePatches_)):e=gd(t,n,[]),Km(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==iC?e:void 0}function gd(e,t,n){if(Rf(t))return t;const r=t[Mn];if(!r)return md(t,(o,i)=>J1(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return yd(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),md(i,(l,a)=>J1(e,r,o,l,a,n,s)),yd(e,o,!1),n&&e.patches_&&Ki("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function J1(e,t,n,r,o,i,s){if(Wi(o)){const l=i&&t&&t.type_!==3&&!Hm(t.assigned_,r)?i.concat(r):void 0,a=gd(e,o,l);if(lC(n,r,a),Wi(a))e.canAutoFreeze_=!1;else return}else s&&n.add(o);if(no(o)&&!Rf(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;gd(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&yd(e,o)}}function yd(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Jy(t,n)}function yF(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:aC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=Gy;n&&(o=[r],i=Xa);const{revoke:s,proxy:l}=Proxy.revocable(o,i);return r.draft_=l,r.revoke_=s,l}var Gy={get(e,t){if(t===Mn)return e;const n=di(e);if(!Hm(n,t))return vF(e,n,t);const r=n[t];return e.finalized_||!no(r)?r:r===Wp(e.base_,t)?(Kp(e),e.copy_[t]=Gm(r,e)):r},has(e,t){return t in di(e)},ownKeys(e){return Reflect.ownKeys(di(e))},set(e,t,n){const r=cC(di(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=Wp(di(e),t),i=o==null?void 0:o[Mn];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(fF(n,o)&&(n!==void 0||Hm(e.base_,t)))return!0;Kp(e),Jm(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Wp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Kp(e),Jm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=di(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Zn(11)},getPrototypeOf(e){return cl(e.base_)},setPrototypeOf(){Zn(12)}},Xa={};md(Gy,(e,t)=>{Xa[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xa.deleteProperty=function(e,t){return Xa.set.call(this,e,t,void 0)};Xa.set=function(e,t,n){return Gy.set.call(this,e[0],t,n,e[0])};function Wp(e,t){const n=e[Mn];return(n?di(n):e)[t]}function vF(e,t,n){var o;const r=cC(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function cC(e,t){if(!(t in e))return;let n=cl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=cl(n)}}function Jm(e){e.modified_||(e.modified_=!0,e.parent_&&Jm(e.parent_))}function Kp(e){e.copy_||(e.copy_=Wm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var wF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const s=this;return function(a=i,...c){return s.produce(a,u=>n.call(this,u,...c))}}typeof n!="function"&&Zn(6),r!==void 0&&typeof r!="function"&&Zn(7);let o;if(no(t)){const i=K1(this),s=Gm(t,void 0);let l=!0;try{o=n(s),l=!1}finally{l?Km(i):qm(i)}return W1(i,r),q1(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===iC&&(o=void 0),this.autoFreeze_&&Jy(o,!0),r){const i=[],s=[];Ki("Patches").generateReplacementPatches_(t,o,i,s),r(i,s)}return o}else Zn(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,a=>t(a,...l));let r,o;return[this.produce(t,n,(s,l)=>{r=s,o=l}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){no(e)||Zn(8),Wi(e)&&(e=bF(e));const t=K1(this),n=Gm(e,void 0);return n[Mn].isManual_=!0,qm(t),n}finishDraft(e,t){const n=e&&e[Mn];(!n||!n.isManual_)&&Zn(9);const{scope_:r}=n;return W1(r,t),q1(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=Ki("Patches").applyPatches_;return Wi(e)?r(e,t):this.produce(e,o=>r(o,t))}};function Gm(e,t){const n=Tf(e)?Ki("MapSet").proxyMap_(e,t):Of(e)?Ki("MapSet").proxySet_(e,t):yF(e,t);return(t?t.scope_:aC()).drafts_.push(n),n}function bF(e){return Wi(e)||Zn(10,e),uC(e)}function uC(e){if(!no(e)||Rf(e))return e;const t=e[Mn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Wm(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Wm(e,!0);return md(n,(r,o)=>{lC(n,r,uC(o))}),t&&(t.finalized_=!1),n}var Dn=new wF,dC=Dn.produce;Dn.produceWithPatches.bind(Dn);Dn.setAutoFreeze.bind(Dn);Dn.setUseStrictShallowCopy.bind(Dn);Dn.applyPatches.bind(Dn);Dn.createDraft.bind(Dn);Dn.finishDraft.bind(Dn);function fC(e){return({dispatch:n,getState:r})=>o=>i=>typeof i=="function"?i(n,r,e):o(i)}var xF=fC(),SF=fC,kF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hd:hd.apply(null,arguments)},EF=e=>e&&typeof e.match=="function";function ba(e,t){function n(...r){if(t){let o=t(...r);if(!o)throw new Error(Mr(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>uF(r)&&r.type===e,n}var pC=class na extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,na.prototype)}static get[Symbol.species](){return na}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new na(...t[0].concat(this)):new na(...t.concat(this))}};function G1(e){return no(e)?dC(e,()=>{}):e}function Y1(e,t,n){if(e.has(t)){let o=e.get(t);return n.update&&(o=n.update(o,t,e),e.set(t,o)),o}if(!n.insert)throw new Error(Mr(10));const r=n.insert(t,e);return e.set(t,r),r}function CF(e){return typeof e=="boolean"}var TF=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:i=!0}=t??{};let s=new pC;return n&&(CF(n)?s.push(xF):s.push(SF(n.extraArgument))),s},OF="RTK_autoBatch",hC=e=>t=>{setTimeout(t,e)},RF=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:hC(10),MF=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let o=!0,i=!1,s=!1;const l=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?RF:e.type==="callback"?e.queueNotification:hC(e.timeout),c=()=>{s=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>o&&u(),f=r.subscribe(d);return l.add(u),()=>{f(),l.delete(u)}},dispatch(u){var d;try{return o=!((d=u==null?void 0:u.meta)!=null&&d[OF]),i=!o,i&&(s||(s=!0,a(c))),r.dispatch(u)}finally{o=!0}}})},DF=e=>function(n){const{autoBatch:r=!0}=n??{};let o=new pC(e);return r&&o.push(MF(typeof r=="object"?r:void 0)),o};function PF(e){const t=TF(),{reducer:n=void 0,middleware:r,devTools:o=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(qy(n))l=aF(n);else throw new Error(Mr(1));let a;typeof r=="function"?a=r(t):a=t();let c=hd;o&&(c=kF({trace:!1,...typeof o=="object"&&o}));const u=cF(...a),d=DF(u);let f=typeof s=="function"?s(d):d();const m=c(...f);return oC(l,i,m)}function mC(e){const t={},n=[];let r;const o={addCase(i,s){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Mr(28));if(l in t)throw new Error(Mr(29));return t[l]=s,o},addMatcher(i,s){return n.push({matcher:i,reducer:s}),o},addDefaultCase(i){return r=i,o}};return e(o),[t,n,r]}function AF(e){return typeof e=="function"}function NF(e,t){let[n,r,o]=mC(t),i;if(AF(e))i=()=>G1(e());else{const l=G1(e);i=()=>l}function s(l=i(),a){let c=[n[a.type],...r.filter(({matcher:u})=>u(a)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[o]),c.reduce((u,d)=>{if(d)if(Wi(u)){const m=d(u,a);return m===void 0?u:m}else{if(no(u))return dC(u,f=>d(f,a));{const f=d(u,a);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},l)}return s.getInitialState=i,s}var $F=(e,t)=>EF(e)?e.match(t):e(t);function _F(...e){return t=>e.some(n=>$F(n,t))}var IF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",LF=(e=21)=>{let t="",n=e;for(;n--;)t+=IF[Math.random()*64|0];return t},FF=["name","message","stack","code"],qp=class{constructor(e,t){$l(this,"_type");this.payload=e,this.meta=t}},X1=class{constructor(e,t){$l(this,"_type");this.payload=e,this.meta=t}},jF=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of FF)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},gc=(()=>{function e(t,n,r){const o=ba(t+"/fulfilled",(a,c,u,d)=>({payload:a,meta:{...d||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),i=ba(t+"/pending",(a,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:a,requestStatus:"pending"}})),s=ba(t+"/rejected",(a,c,u,d,f)=>({payload:d,error:(r&&r.serializeError||jF)(a||"Rejected"),meta:{...f||{},arg:u,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(a==null?void 0:a.name)==="AbortError",condition:(a==null?void 0:a.name)==="ConditionError"}}));function l(a){return(c,u,d)=>{const f=r!=null&&r.idGenerator?r.idGenerator(a):LF(),m=new AbortController;let p,g;function w(v){g=v,m.abort()}const y=async function(){var k,E;let v;try{let S=(k=r==null?void 0:r.condition)==null?void 0:k.call(r,a,{getState:u,extra:d});if(zF(S)&&(S=await S),S===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((O,M)=>{p=()=>{M({name:"AbortError",message:g||"Aborted"})},m.signal.addEventListener("abort",p)});c(i(f,a,(E=r==null?void 0:r.getPendingMeta)==null?void 0:E.call(r,{requestId:f,arg:a},{getState:u,extra:d}))),v=await Promise.race([C,Promise.resolve(n(a,{dispatch:c,getState:u,extra:d,requestId:f,signal:m.signal,abort:w,rejectWithValue:(O,M)=>new qp(O,M),fulfillWithValue:(O,M)=>new X1(O,M)})).then(O=>{if(O instanceof qp)throw O;return O instanceof X1?o(O.payload,f,a,O.meta):o(O,f,a)})])}catch(S){v=S instanceof qp?s(null,f,a,S.payload,S.meta):s(S,f,a)}finally{p&&m.signal.removeEventListener("abort",p)}return r&&!r.dispatchConditionRejection&&s.match(v)&&v.meta.condition||c(v),v}();return Object.assign(y,{abort:w,requestId:f,arg:a,unwrap(){return y.then(BF)}})}}return Object.assign(l,{pending:i,rejected:s,fulfilled:o,settled:_F(s,o),typePrefix:t})}return e.withTypes=()=>e,e})();function BF(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function zF(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var VF=Symbol.for("rtk-slice-createasyncthunk");function UF(e,t){return`${e}/${t}`}function HF({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[VF];return function(o){const{name:i,reducerPath:s=i}=o;if(!i)throw new Error(Mr(11));typeof process<"u";const l=(typeof o.reducers=="function"?o.reducers(KF()):o.reducers)||{},a=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(b,k){const E=typeof b=="string"?b:b.type;if(!E)throw new Error(Mr(12));if(E in c.sliceCaseReducersByType)throw new Error(Mr(13));return c.sliceCaseReducersByType[E]=k,u},addMatcher(b,k){return c.sliceMatchers.push({matcher:b,reducer:k}),u},exposeAction(b,k){return c.actionCreators[b]=k,u},exposeCaseReducer(b,k){return c.sliceCaseReducersByName[b]=k,u}};a.forEach(b=>{const k=l[b],E={reducerName:b,type:UF(i,b),createNotation:typeof o.reducers=="function"};JF(k)?YF(E,k,u,t):qF(E,k,u)});function d(){const[b={},k=[],E=void 0]=typeof o.extraReducers=="function"?mC(o.extraReducers):[o.extraReducers],S={...b,...c.sliceCaseReducersByType};return NF(o.initialState,C=>{for(let O in S)C.addCase(O,S[O]);for(let O of c.sliceMatchers)C.addMatcher(O.matcher,O.reducer);for(let O of k)C.addMatcher(O.matcher,O.reducer);E&&C.addDefaultCase(E)})}const f=b=>b,m=new Map;let p;function g(b,k){return p||(p=d()),p(b,k)}function w(){return p||(p=d()),p.getInitialState()}function y(b,k=!1){function E(C){let O=C[b];return typeof O>"u"&&k&&(O=w()),O}function S(C=f){const O=Y1(m,k,{insert:()=>new WeakMap});return Y1(O,C,{insert:()=>{const M={};for(const[I,Z]of Object.entries(o.selectors??{}))M[I]=WF(Z,C,w,k);return M}})}return{reducerPath:b,getSelectors:S,get selectors(){return S(E)},selectSlice:E}}const v={name:i,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,...y(s),injectInto(b,{reducerPath:k,...E}={}){const S=k??s;return b.inject({reducerPath:S,reducer:g},E),{...v,...y(S,!0)}}};return v}}function WF(e,t,n,r){function o(i,...s){let l=t(i);return typeof l>"u"&&r&&(l=n()),e(l,...s)}return o.unwrapped=e,o}var Mf=HF();function KF(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function qF({type:e,reducerName:t,createNotation:n},r,o){let i,s;if("reducer"in r){if(n&&!GF(r))throw new Error(Mr(17));i=r.reducer,s=r.prepare}else i=r;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?ba(e,s):ba(e))}function JF(e){return e._reducerDefinitionType==="asyncThunk"}function GF(e){return e._reducerDefinitionType==="reducerWithPrepare"}function YF({type:e,reducerName:t},n,r,o){if(!o)throw new Error(Mr(18));const{payloadCreator:i,fulfilled:s,pending:l,rejected:a,settled:c,options:u}=n,d=o(e,i,u);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),l&&r.addCase(d.pending,l),a&&r.addCase(d.rejected,a),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(t,{fulfilled:s||Qc,pending:l||Qc,rejected:a||Qc,settled:c||Qc})}function Qc(){}function Mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const XF={categories:[]},gC=gc("categories/fetchCategories",async(e,{getState:t,rejectWithValue:n})=>{const r=t();if(r.categories.categories.length>0)return r.categories.categories;try{return await Zt.get.getCategories()}catch(o){return n(o)}}),yC=Mf({name:"categories",initialState:XF,reducers:{},extraReducers:e=>{e.addCase(gC.fulfilled,(t,n)=>{t.categories=n.payload})}}),QF={...yC.actions,async:{fetchCategories:gC}},ZF=yC.reducer,e3={tags:[]},vC=gc("tags/fetchTags",async(e,{getState:t,rejectWithValue:n})=>{const r=t();if(r.tags.tags.length>0)return r.tags.tags;try{return await Zt.get.getTags()}catch(o){return n(o)}}),wC=Mf({name:"tags",initialState:e3,reducers:{invalidateTags:e=>{e.tags=[]}},extraReducers:e=>{e.addCase(vC.fulfilled,(t,n)=>{t.tags=n.payload})}}),t3={...wC.actions,async:{fetchTags:vC}},n3=wC.reducer;class r3 extends Error{constructor(n,r){super(r);$l(this,"status");$l(this,"isCookbookError");this.status=n,this.isCookbookError=!0}}const o3=e=>typeof e=="object"&&e!==null&&"isCookbookError"in e,i3={shoppingLists:[]},bC=gc("shoppingLists/fetchShoppingLists",async(e,{getState:t,rejectWithValue:n})=>{const r=t();if(r.shoppingLists.shoppingLists.length>0)return r.shoppingLists.shoppingLists;try{return await Zt.get.getShoppingLists()}catch(o){return n(o)}}),xC=gc("shoppingLists/fetchShoppingListDetails",async(e,{getState:t,rejectWithValue:n})=>{const o=t().shoppingLists.shoppingLists.find(i=>i.id===e);if(o===void 0)return n(new r3(404,"Shopping list was not found in storage."));if(o.sublists)return null;try{return await Zt.get.getShoppingList(e)}catch(i){return n(i)}}),SC=Mf({name:"shoppingLists",initialState:i3,reducers:{updateCachedShoppingList(e,t){const n=t.payload,r=e.shoppingLists.findIndex(o=>o.id===n.id);if(r===-1)throw Error("Shopping list was not found in storage.");e.shoppingLists.splice(r,1),e.shoppingLists.unshift(n)},removeShoppingList(e,t){const n=e.shoppingLists.findIndex(r=>r.id===t.payload);if(n===-1)throw Error("Shopping list was not found in storage.");e.shoppingLists.splice(n,1)},addShoppingList(e,t){const n=t.payload;e.shoppingLists.unshift(n)}},extraReducers:e=>{e.addCase(bC.fulfilled,(t,n)=>{t.shoppingLists=n.payload}).addCase(xC.fulfilled,(t,n)=>{if(n.payload===null)return;const r=n.payload;t.shoppingLists=t.shoppingLists.map(o=>o.id===r.id?r:o)})}}),s3={...SC.actions,async:{fetchShoppingLists:bC,fetchShoppingListDetails:xC}},l3=SC.reducer,a3={recipes:{}},kC=gc("recipes/fetchRecipe",async(e,{getState:t,rejectWithValue:n})=>{if(t().recipes.recipes[e]!==void 0)return null;try{return await Zt.get.getRecipe(e)}catch(o){return n(o)}}),EC=Mf({name:"recipes",initialState:a3,reducers:{setRecipeInCache(e,t){const n=t.payload;e.recipes[t.payload.id]=n}},extraReducers:e=>{e.addCase(kC.fulfilled,(t,n)=>{if(n.payload===null)return;const r=n.payload;t.recipes[r.id]=r})}}),c3={...EC.actions,async:{fetchRecipe:kC}},u3=EC.reducer,On=PF({reducer:{categories:ZF,tags:n3,shoppingLists:l3,recipes:u3},devTools:!1});var CC={exports:{}},TC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=h;function d3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var f3=typeof Object.is=="function"?Object.is:d3,p3=yc.useSyncExternalStore,h3=yc.useRef,m3=yc.useEffect,g3=yc.useMemo,y3=yc.useDebugValue;TC.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=h3(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=g3(function(){function a(m){if(!c){if(c=!0,u=m,m=r(m),o!==void 0&&s.hasValue){var p=s.value;if(o(p,m))return d=p}return d=m}if(p=d,f3(u,m))return p;var g=r(m);return o!==void 0&&o(p,g)?p:(u=m,d=g)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,o]);var l=p3(e,i[0],i[1]);return m3(function(){s.hasValue=!0,s.value=l},[l]),y3(l),l};CC.exports=TC;var v3=CC.exports,kn="default"in Oa?J:Oa,Q1=Symbol.for("react-redux-context"),Z1=typeof globalThis<"u"?globalThis:{};function w3(){if(!kn.createContext)return{};const e=Z1[Q1]??(Z1[Q1]=new Map);let t=e.get(kn.createContext);return t||(t=kn.createContext(null),e.set(kn.createContext,t)),t}var Xo=w3(),b3=()=>{throw new Error("uSES not initialized!")};function Yy(e=Xo){return function(){return kn.useContext(e)}}var OC=Yy(),RC=b3,x3=e=>{RC=e},S3=(e,t)=>e===t;function k3(e=Xo){const t=e===Xo?OC:Yy(e),n=(r,o={})=>{const{equalityFn:i=S3,devModeChecks:s={}}=typeof o=="function"?{equalityFn:o}:o,{store:l,subscription:a,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=t();kn.useRef(!0);const f=kn.useCallback({[r.name](p){return r(p)}}[r.name],[r,u,s.stabilityCheck]),m=RC(a.addNestedSub,l.getState,c||l.getState,f,i);return kn.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var E3=k3();function C3(e){e()}function T3(){let e=null,t=null;return{clear(){e=null,t=null},notify(){C3(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var ew={notify(){},get:()=>[]};function O3(e,t){let n,r=ew,o=0,i=!1;function s(g){u();const w=r.subscribe(g);let y=!1;return()=>{y||(y=!0,w(),d())}}function l(){r.notify()}function a(){p.onStateChange&&p.onStateChange()}function c(){return i}function u(){o++,n||(n=e.subscribe(a),r=T3())}function d(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=ew)}function f(){i||(i=!0,u())}function m(){i&&(i=!1,d())}const p={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:c,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return p}var R3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M3=typeof navigator<"u"&&navigator.product==="ReactNative",D3=R3||M3?kn.useLayoutEffect:kn.useEffect;function P3({store:e,context:t,children:n,serverState:r,stabilityCheck:o="once",identityFunctionCheck:i="once"}){const s=kn.useMemo(()=>{const c=O3(e);return{store:e,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:o,identityFunctionCheck:i}},[e,r,o,i]),l=kn.useMemo(()=>e.getState(),[e]);D3(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,l]);const a=t||Xo;return kn.createElement(a.Provider,{value:s},n)}var A3=P3;function MC(e=Xo){const t=e===Xo?OC:Yy(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var N3=MC();function $3(e=Xo){const t=e===Xo?N3:MC(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var _3=$3();x3(v3.useSyncExternalStoreWithSelector);const ts=()=>_3(),ir=E3,ht={shoppingLists:s3,categories:QF,tags:t3,recipes:c3};async function I3({request:e}){const t=new URL(e.url);return await On.dispatch(ht.categories.async.fetchCategories()).unwrap(),await On.dispatch(ht.tags.async.fetchTags()).unwrap(),{getRecipesResponse:await Zt.get.getRecipes({type:"Query",query:t.search})}}const L3=()=>{const e=Hn(),{getRecipesResponse:t}=OA(),n=ir(y=>y.categories.categories),r=ir(y=>y.tags.tags),[o,i]=h.useState(t.recipes),s=h.useRef(t.nextPage),[l,a]=h.useState(!1),[c,u]=h.useState(!1),d=h.useRef(),[f]=lN(),m=Dk(),[p,g]=h.useState(f.get("category")||""),w=async()=>{s.current!==null&&u(!0)};return h.useEffect(()=>{i(t.recipes),s.current=t.nextPage},[t]),h.useEffect(()=>{const y=()=>{a(window.scrollY>1e3)};return window.addEventListener("scroll",y),()=>{window.removeEventListener("scroll",y)}},[]),x.jsxs("div",{className:"recipe-list-page",children:[x.jsxs(oN,{className:"search-section",onChange:y=>{clearTimeout(d.current),d.current=window.setTimeout(()=>{m(y.target.form,{replace:!0})},1e3)},children:[x.jsx(F$,{initialValue:f.get("name")||""}),x.jsx("div",{className:"category-list",children:n.map(y=>x.jsx(j$,{category:y,checked:p===y.name,onChange:g},y.id))}),x.jsx(Ef,{tags:r,tagSize:"big",selection:{disabled:!1,initiallySelected:r.filter(y=>f.getAll("tags").includes(y.name)).map(y=>y.name)}})]}),x.jsxs(rF,{className:"recipe-list",dataLength:o.length,next:w,hasMore:!1,loader:x.jsx(_m,{className:"loading"}),endMessage:x.jsx("p",{style:{textAlign:"center",margin:"0.5rem 0 1rem 0"},children:o.length===0?"No recipe matches the criteria":"No more recipes to load"}),children:[c&&x.jsx(_m,{className:"loading"}),o.map(y=>x.jsx(eF,{recipe:y},y.id))]}),x.jsx(rC,{}),x.jsx(nC,{onClick:()=>e("./new",{relative:"path"})}),x.jsx(oF,{hidden:l==!1})]})},Mi=({children:e,title:t,noDivider:n=!1})=>x.jsxs("section",{className:"titled-section",children:[typeof t=="string"?x.jsx("h2",{children:t}):t,n===!1&&x.jsx("div",{className:"divider"}),e]}),Pt=[];for(let e=0;e<256;++e)Pt.push((e+256).toString(16).slice(1));function F3(e,t=0){return(Pt[e[t+0]]+Pt[e[t+1]]+Pt[e[t+2]]+Pt[e[t+3]]+"-"+Pt[e[t+4]]+Pt[e[t+5]]+"-"+Pt[e[t+6]]+Pt[e[t+7]]+"-"+Pt[e[t+8]]+Pt[e[t+9]]+"-"+Pt[e[t+10]]+Pt[e[t+11]]+Pt[e[t+12]]+Pt[e[t+13]]+Pt[e[t+14]]+Pt[e[t+15]]).toLowerCase()}let Jp;const j3=new Uint8Array(16);function B3(){if(!Jp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Jp=crypto.getRandomValues.bind(crypto)}return Jp(j3)}const z3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tw={randomUUID:z3};function V3(e,t,n){if(tw.randomUUID&&!t&&!e)return tw.randomUUID();e=e||{};const r=e.random||(e.rng||B3)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,F3(r)}const DC=({checked:e,onChange:t,label:n,id:r,className:o})=>{const i=h.useRef(r??V3());return x.jsxs("span",{className:`checkbox-wrapper ${o}`,children:[x.jsx(IE,{checked:e,onCheckedChange:s=>{s!=="indeterminate"&&(t==null||t(s))},className:"checkbox-root",id:i.current,children:x.jsx(KI,{className:"indicator"})}),n&&x.jsx("label",{htmlFor:i.current,children:n})]})},nw=({item:e,action:t,isLeftSide:n=!1})=>x.jsx("span",{className:`action-button ${n?"left-side-action":""}`,onClick:()=>t.callback(e),children:t.type==="check"?x.jsx(DC,{checked:e.checked}):x.jsx("button",{className:"icon-only-button",children:x.jsx(Fy,{})})}),U3=({data:e,leftSideAction:t,rightSideAction:n})=>{const r=o=>o.unit?x.jsxs(x.Fragment,{children:[x.jsx("p",{style:{width:"6ch"},children:o.value}),x.jsx("p",{style:{width:"5ch"},children:o.unit})]}):x.jsx("p",{style:{width:"12ch"},children:o.value});return x.jsxs(x.Fragment,{children:[t&&x.jsx(nw,{item:e,action:t,isLeftSide:!0}),x.jsxs("div",{className:`quantifiable-data ${e.checked?"checked":""}`,children:[x.jsx("p",{children:e.name}),r(e.amount),n&&x.jsx(nw,{item:e,action:n})]})]})},H3=({isHighlighted:e,handleTouchStart:t,dataKey:n,children:r})=>{const o=h.useRef(null);return h.useEffect(()=>{const i=o.current,s=()=>t(n);return i==null||i.addEventListener("touchstart",s,{passive:!1}),()=>{i==null||i.removeEventListener("touchstart",s)}},[t,n]),x.jsx("li",{ref:o,"data-key":n,className:`list-item ${e?"highlighted":""}`,children:r})},PC=({items:e,render:t,className:n="",noMarkers:r=!1})=>{const[o,i]=h.useState(),s=h.useRef(null),l=h.useRef(),[a,c]=h.useState(!1),u=d=>{l.current=setTimeout(()=>{i(d),c(!0)},200)};return h.useEffect(()=>{const d=p=>{if(a===!1){clearTimeout(l.current);return}p.preventDefault();const g=p.touches[0],w=document.elementFromPoint(g.clientX,g.clientY);if(w){const y=W3(w);y&&i(y.dataset.key)}},f=()=>{if(a===!1){clearTimeout(l.current);return}c(!1),i(void 0)},m=s.current;return m==null||m.addEventListener("touchmove",d,{passive:!1}),m==null||m.addEventListener("touchend",f,{passive:!1}),()=>{m==null||m.removeEventListener("touchmove",d),m==null||m.removeEventListener("touchend",f)}},[a]),x.jsx("ol",{ref:s,className:`highlighting-list ${n} ${r?"no-markers":""}`,children:e.map(d=>x.jsx(H3,{dataKey:d.key,isHighlighted:o!==void 0&&+o==+d.key,handleTouchStart:u,children:t(d)},d.key))})},W3=e=>{let t=e;for(;t&&!t.dataset.key;)t=t.parentElement;return t},Xy=({items:e,leftSideAction:t,rightSideAction:n})=>x.jsx(PC,{className:"quantifiable-items-list",items:e.toSorted((r,o)=>+r.checked-+o.checked),render:r=>x.jsx(U3,{data:r,rightSideAction:n,leftSideAction:t},r.key)}),K3=({ingredients:e,setIngredients:t})=>x.jsx(Xy,{items:e,rightSideAction:{type:"check",callback:n=>{t(e.map(r=>r.key===n.key?{...n,checked:!n.checked}:r))}}});function $t(e){this.content=e}$t.prototype={constructor:$t,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return o==-1?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new $t(i)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new $t(n)},addToStart:function(e,t){return new $t([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new $t(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(i==-1?o.length:i,0,t,n),new $t(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=$t.from(e),e.size?new $t(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=$t.from(e),e.size?new $t(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=$t.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};$t.from=function(e){if(e instanceof $t)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new $t(t)};function AC(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){let s=AC(o.content,i.content,n+1);if(s!=null)return s}n+=o.nodeSize}}function NC(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};let s=e.child(--o),l=t.child(--i),a=s.nodeSize;if(s==l){n-=a,r-=a;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let c=0,u=Math.min(s.text.length,l.text.length);for(;c<u&&s.text[s.text.length-c-1]==l.text[l.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let c=NC(s.content,l.content,n-1,r-1);if(c)return c}n-=a,r-=a}}class j{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,o=0,i){for(let s=0,l=0;l<n;s++){let a=this.content[s],c=l+a.nodeSize;if(c>t&&r(a,o+l,i||null,s)!==!1&&a.content.size){let u=l+1;a.nodesBetween(Math.max(0,t-u),Math.min(a.content.size,n-u),r,o+u)}l=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,o){let i="",s=!0;return this.nodesBetween(t,n,(l,a)=>{let c=l.isText?l.text.slice(Math.max(t,a)-a,n-a):l.isLeaf?o?typeof o=="function"?o(l):o:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&c||l.isTextblock)&&r&&(s?s=!1:i+=r),i+=c},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)o.push(t.content[i]);return new j(o,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],o=0;if(n>t)for(let i=0,s=0;s<n;i++){let l=this.content[i],a=s+l.nodeSize;a>t&&((s<t||a>n)&&(l.isText?l=l.cut(Math.max(0,t-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,t-s-1),Math.min(l.content.size,n-s-1))),r.push(l),o+=l.nodeSize),s=a}return new j(r,o)}cutByIndex(t,n){return t==n?j.empty:t==0&&n==this.content.length?this:new j(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[t]=n,new j(o,i)}addToStart(t){return new j([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new j(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];t(o,r,n),r+=o.nodeSize}}findDiffStart(t,n=0){return AC(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return NC(this,t,n,r)}findIndex(t,n=-1){if(t==0)return Zc(0,t);if(t==this.size)return Zc(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,o=0;;r++){let i=this.child(r),s=o+i.nodeSize;if(s>=t)return s==t||n>0?Zc(r+1,s):Zc(r,o);o=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return j.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new j(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return j.empty;let n,r=0;for(let o=0;o<t.length;o++){let i=t[o];r+=i.nodeSize,o&&i.isText&&t[o-1].sameMarkup(i)?(n||(n=t.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new j(n||t,r)}static from(t){if(!t)return j.empty;if(t instanceof j)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new j([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}j.empty=new j([],0);const Gp={index:0,offset:0};function Zc(e,t){return Gp.index=e,Gp.offset=t,Gp}function vd(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!vd(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!vd(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let je=class Ym{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let o=0;o<t.length;o++){let i=t[o];if(this.eq(i))return t;if(this.type.excludes(i.type))n||(n=t.slice(0,o));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(n||(n=t.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&vd(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Ym.none;if(t instanceof Ym)return[t];let n=t.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};je.none=[];class wd extends Error{}class ee{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=_C(this.content,t+this.openStart,n);return r&&new ee(r,this.openStart,this.openEnd)}removeBetween(t,n){return new ee($C(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return ee.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ee(j.fromJSON(t,n.content),r,o)}static maxOpen(t,n=!0){let r=0,o=0;for(let i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=t.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)o++;return new ee(t,r,o)}}ee.empty=new ee(j.empty,0,0);function $C(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:s,offset:l}=e.findIndex(n);if(o==t||i.isText){if(l!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy($C(i.content,t-o-1,n-o-1)))}function _C(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),s=e.maybeChild(o);if(i==t||s.isText)return e.cut(0,t).append(n).append(e.cut(t));let l=_C(s.content,t-i-1,n);return l&&e.replaceChild(o,s.copy(l))}function q3(e,t,n){if(n.openStart>e.depth)throw new wd("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new wd("Inconsistent open depths");return IC(e,t,n,0)}function IC(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let s=IC(e,t,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,l=s.content;return Pi(s,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}else{let{start:s,end:l}=J3(n,e);return Pi(i,FC(e,s,l,t,r))}else return Pi(i,bd(e,t,r))}function LC(e,t){if(!t.type.compatibleContent(e.type))throw new wd("Cannot join "+t.type.name+" onto "+e.type.name)}function Xm(e,t,n){let r=e.node(n);return LC(r,t.node(n)),r}function Di(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function xa(e,t,n,r){let o=(t||e).node(n),i=0,s=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Di(e.nodeAfter,r),i++));for(let l=i;l<s;l++)Di(o.child(l),r);t&&t.depth==n&&t.textOffset&&Di(t.nodeBefore,r)}function Pi(e,t){return e.type.checkContent(t),e.copy(t)}function FC(e,t,n,r,o){let i=e.depth>o&&Xm(e,t,o+1),s=r.depth>o&&Xm(n,r,o+1),l=[];return xa(null,e,o,l),i&&s&&t.index(o)==n.index(o)?(LC(i,s),Di(Pi(i,FC(e,t,n,r,o+1)),l)):(i&&Di(Pi(i,bd(e,t,o+1)),l),xa(t,n,o,l),s&&Di(Pi(s,bd(n,r,o+1)),l)),xa(r,null,o,l),new j(l)}function bd(e,t,n){let r=[];if(xa(null,e,n,r),e.depth>n){let o=Xm(e,t,n+1);Di(Pi(o,bd(e,t,n+1)),r)}return xa(t,null,n,r),new j(r)}function J3(e,t){let n=t.depth-e.openStart,o=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)o=t.node(i).copy(j.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}class Qa{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=t.child(n);return r?t.child(n).cut(r):o}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let i=0;i<t;i++)o+=r.child(i).nodeSize;return o}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return je.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),o=t.maybeChild(n);if(!r){let l=r;r=o,o=l}let i=r.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!o||!i[s].isInSet(o.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new xd(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,i=n;for(let s=t;;){let{index:l,offset:a}=s.content.findIndex(i),c=i-a;if(r.push(s,l,o+a),!c||(s=s.child(l),s.isText))break;i=c-1,o+=a+1}return new Qa(n,r,i)}static resolveCached(t,n){let r=rw.get(t);if(r)for(let i=0;i<r.elts.length;i++){let s=r.elts[i];if(s.pos==n)return s}else rw.set(t,r=new G3);let o=r.elts[r.i]=Qa.resolve(t,n);return r.i=(r.i+1)%Y3,o}}class G3{constructor(){this.elts=[],this.i=0}}const Y3=12,rw=new WeakMap;class xd{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const X3=Object.create(null);let Ai=class Qm{constructor(t,n,r,o=je.none){this.type=t,this.attrs=n,this.marks=o,this.content=r||j.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,o=0){this.content.nodesBetween(t,n,r,o,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,o){return this.content.textBetween(t,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&vd(this.attrs,n||t.defaultAttrs||X3)&&je.sameSet(this.marks,r||je.none)}copy(t=null){return t==this.content?this:new Qm(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Qm(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return ee.empty;let o=this.resolve(t),i=this.resolve(n),s=r?0:o.sharedDepth(n),l=o.start(s),c=o.node(s).content.cut(o.pos-l,i.pos-l);return new ee(c,o.depth-s,i.depth-s)}replace(t,n,r){return q3(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(o==t||n.isText)return n;t-=o+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(t){return Qa.resolveCached(this,t)}resolveNoCache(t){return Qa.resolve(this,t)}rangeHasMark(t,n,r){let o=!1;return n>t&&this.nodesBetween(t,n,i=>(r.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),jC(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=j.empty,o=0,i=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,o,i),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=o;a<i;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(t,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(t).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=je.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!je.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let o=j.fromJSON(t,n.content),i=t.nodeType(n.type).create(n.attrs,o,r);return i.type.checkAttrs(i.attrs),i}};Ai.prototype.text=void 0;class Sd extends Ai{constructor(t,n,r,o){if(super(t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):jC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Sd(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Sd(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function jC(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class qi{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Q3(t,n);if(r.next==null)return qi.empty;let o=BC(r);r.next&&r.err("Unexpected trailing text");let i=ij(oj(o));return sj(i,r),i}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let o=this;for(let i=n;o&&i<r;i++)o=o.matchType(t.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let o=[this];function i(s,l){let a=s.matchFragment(t,r);if(a&&(!n||a.validEnd))return j.from(l.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&o.indexOf(d)==-1){o.push(d);let f=i(d,l.concat(u));if(f)return f}}return null}return i(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),i=o.match;if(i.matchType(t)){let s=[];for(let l=o;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:l,next:a}=i.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!o.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:o}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let o=0;o<r.next.length;o++)t.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),t.map((r,o)=>{let i=o+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)i+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return i}).join(`
`)}}qi.empty=new qi(!0);class Q3{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function BC(e){let t=[];do t.push(Z3(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Z3(e){let t=[];do t.push(ej(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function ej(e){let t=rj(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=tj(e,t);else break;return t}function ow(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function tj(e,t){let n=ow(e),r=n;return e.eat(",")&&(e.next!="}"?r=ow(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function nj(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let i in n){let s=n[i];s.groups.indexOf(t)>-1&&o.push(s)}return o.length==0&&e.err("No node type or group '"+t+"' found"),o}function rj(e){if(e.eat("(")){let t=BC(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=nj(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function oj(e){let t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(s,l,a){let c={term:a,to:l};return t[s].push(c),c}function o(s,l){s.forEach(a=>a.to=l)}function i(s,l){if(s.type=="choice")return s.exprs.reduce((a,c)=>a.concat(i(c,l)),[]);if(s.type=="seq")for(let a=0;;a++){let c=i(s.exprs[a],l);if(a==s.exprs.length-1)return c;o(c,l=n())}else if(s.type=="star"){let a=n();return r(l,a),o(i(s.expr,a),a),[r(a)]}else if(s.type=="plus"){let a=n();return o(i(s.expr,l),a),o(i(s.expr,a),a),[r(a)]}else{if(s.type=="opt")return[r(l)].concat(i(s.expr,l));if(s.type=="range"){let a=l;for(let c=0;c<s.min;c++){let u=n();o(i(s.expr,a),u),a=u}if(s.max==-1)o(i(s.expr,a),a);else for(let c=s.min;c<s.max;c++){let u=n();r(a,u),o(i(s.expr,a),u),a=u}return[r(a)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function zC(e,t){return t-e}function iw(e,t){let n=[];return r(t),n.sort(zC);function r(o){let i=e[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(let s=0;s<i.length;s++){let{term:l,to:a}=i[s];!l&&n.indexOf(a)==-1&&r(a)}}}function ij(e){let t=Object.create(null);return n(iw(e,0));function n(r){let o=[];r.forEach(s=>{e[s].forEach(({term:l,to:a})=>{if(!l)return;let c;for(let u=0;u<o.length;u++)o[u][0]==l&&(c=o[u][1]);iw(e,a).forEach(u=>{c||o.push([l,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=t[r.join(",")]=new qi(r.indexOf(e.length-1)>-1);for(let s=0;s<o.length;s++){let l=o[s][1].sort(zC);i.next.push({type:o[s][0],next:t[l.join(",")]||n(l)})}return i}}function sj(e,t){for(let n=0,r=[e];n<r.length;n++){let o=r[n],i=!o.validEnd,s=[];for(let l=0;l<o.next.length;l++){let{type:a,next:c}=o.next[l];s.push(a.name),i&&!(a.isText||a.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function VC(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function UC(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(o===void 0){let i=e[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function HC(e,t,n,r){for(let o in t)if(!(o in e))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in e){let i=e[o];i.validate&&i.validate(t[o])}}function WC(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new aj(e[n]);return t}let sw=class KC{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=WC(r.attrs),this.defaultAttrs=VC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==qi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:UC(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ai(this,this.computeAttrs(t),j.from(n),je.setFrom(r))}createChecked(t=null,n,r){return n=j.from(n),this.checkContent(n),new Ai(this,this.computeAttrs(t),n,je.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=j.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let o=this.contentMatch.matchFragment(n),i=o&&o.fillBefore(j.empty,!0);return i?new Ai(this,t,n.append(i),je.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){HC(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:je.none:t}static compile(t,n){let r=Object.create(null);t.forEach((i,s)=>r[i]=new KC(i,n,s));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function lj(e){let t=e.split("|");return n=>{let r=n===null?"null":typeof n;if(t.indexOf(r)<0)throw new RangeError(`Expected value of type ${t}, got ${r}`)}}class aj{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default,this.validate=typeof t.validate=="string"?lj(t.validate):t.validate}get isRequired(){return!this.hasDefault}}class Df{constructor(t,n,r,o){this.name=t,this.rank=n,this.schema=r,this.spec=o,this.attrs=WC(o.attrs),this.excluded=null;let i=VC(this.attrs);this.instance=i?new je(this,i):null}create(t=null){return!t&&this.instance?this.instance:new je(this,UC(this.attrs,t))}static compile(t,n){let r=Object.create(null),o=0;return t.forEach((i,s)=>r[i]=new Df(i,o++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){HC(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class qC{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in t)n[o]=t[o];n.nodes=$t.from(t.nodes),n.marks=$t.from(t.marks||{}),this.nodes=sw.compile(this.spec.nodes,this),this.marks=Df.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],s=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=r[s]||(r[s]=qi.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?lw(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:lw(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,o){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof sw){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,o)}text(t,n){let r=this.nodes.text;return new Sd(r,r.defaultAttrs,t,je.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return Ai.fromJSON(this,t)}markFromJSON(t){return je.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function lw(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],s=i;if(i)n.push(i);else for(let l in e.marks){let a=e.marks[l];(o=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function cj(e){return e.tag!=null}function uj(e){return e.style!=null}class ul{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(cj(o))this.tags.push(o);else if(uj(o)){let i=/[^=]*/.exec(o.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=t.nodes[o.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new cw(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new cw(this,n,!0);return r.addAll(t,n.from,n.to),ee.maxOpen(r.finish())}matchTag(t,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(pj(t,i.tag)&&(i.namespace===void 0||t.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(t);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(t,n,r,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let s=this.styles[i],l=s.style;if(!(l.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(t){let n=[];function r(o){let i=o.priority==null?50:o.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<i)break}n.splice(s,0,o)}for(let o in t.marks){let i=t.marks[o].spec.parseDOM;i&&i.forEach(s=>{r(s=uw(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in t.nodes){let i=t.nodes[o].spec.parseDOM;i&&i.forEach(s=>{r(s=uw(s)),s.node||s.ignore||s.mark||(s.node=o)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new ul(t,ul.schemaRules(t)))}}const JC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},dj={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},GC={ol:!0,ul:!0},kd=1,Ed=2,Sa=4;function aw(e,t,n){return t!=null?(t?kd:0)|(t==="full"?Ed:0):e&&e.whitespace=="pre"?kd|Ed:n&~Sa}class eu{constructor(t,n,r,o,i,s,l){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=o,this.solid=i,this.options=l,this.content=[],this.activeMarks=je.none,this.stashMarks=[],this.match=s||(l&Sa?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(j.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(t.type))?(this.match=r,o):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&kd)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let n=j.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(j.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let o=r[n];(this.type?this.type.allowsMarkType(o.type):hj(o.type,t))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!JC.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class cw{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let o=n.topNode,i,s=aw(null,n.preserveWhitespace,0)|(r?Sa:0);o?i=new eu(o.type,o.attrs,je.none,je.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new eu(null,null,je.none,je.none,!0,null,s):i=new eu(t.schema.topNodeType,null,je.none,je.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){t.nodeType==3?this.addTextNode(t):t.nodeType==1&&this.addElement(t)}withStyleRules(t,n){let r=t.style;if(!r||!r.length)return n();let o=this.readStyles(t.style);if(!o)return;let[i,s]=o,l=this.top;for(let a=0;a<s.length;a++)this.removePendingMark(s[a],l);for(let a=0;a<i.length;a++)this.addPendingMark(i[a]);n();for(let a=0;a<i.length;a++)this.removePendingMark(i[a],l);for(let a=0;a<s.length;a++)this.addPendingMark(s[a])}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&Ed||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&kd)r.options&Ed?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=r.content[r.content.length-1],i=t.previousSibling;(!o||i&&i.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),o;GC.hasOwnProperty(r)&&this.parser.normalizeLists&&fj(t);let i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(o=this.parser.matchTag(t,this,n));if(i?i.ignore:dj.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);let s,l=this.top,a=this.needsBlock;if(JC.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),s=!0,l.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}i&&i.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),s&&this.sync(l),this.needsBlock=a}else this.withStyleRules(t,()=>{this.addElementByRule(t,i,i.consuming===!1?o:void 0)})}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=je.none,r=je.none;if(t.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],s=t.getPropertyValue(i);if(s)for(let l=void 0;;){let a=this.parser.matchStyle(i,s,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(c=>{a.clearMark(c)&&(r=c.addToSet(r))}):n=this.parser.schema.marks[a.mark].create(a.attrs).addToSet(n),a.consuming===!1)l=a;else break}}return[n,r]}addElementByRule(t,n,r){let o,i,s;n.node?(i=this.parser.schema.nodes[n.node],i.isLeaf?this.insertNode(i.create(n.attrs))||this.leafFallback(t):o=this.enter(i,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(i&&i.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=t;typeof n.contentElement=="string"?a=t.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(t):n.contentElement&&(a=n.contentElement),this.findAround(t,a,!0),this.addAll(a)}o&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(t,n,r){let o=n||0;for(let i=n?t.childNodes[n]:t.firstChild,s=r==null?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i);this.findAtPoint(t,o)}findPlace(t){let n,r;for(let o=this.open;o>=0;o--){let i=this.nodes[o],s=i.findWrapping(t);if(s&&(!n||n.length>s.length)&&(n=s,r=i,!s.length)||i.solid)break}if(!n)return!1;this.sync(r);for(let o=0;o<n.length;o++)this.enterInner(n[o],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let o=0;o<t.marks.length;o++)(!n.type||n.type.allowsMarkType(t.marks[o].type))&&(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let o=this.findPlace(t.create(n));return o&&this.enterInner(t,n,!0,r),o}enterInner(t,n=null,r=!1,o){this.closeExtra();let i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t);let s=aw(t,o,i.options);i.options&Sa&&i.content.length==0&&(s|=Sa),this.nodes.push(new eu(t,n,i.activeMarks,i.pendingMarks,r,null,s)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)t+=r[o].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&t.nodeType==1&&t.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=(l,a)=>{for(;l>=0;l--){let c=n[l];if(c==""){if(l==n.length-1||l==0)continue;for(;a>=i;a--)if(s(l-1,a))return!0;return!1}else{let u=a>0||a==0&&o?this.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=mj(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let o=this.nodes[r];if(o.pendingMarks.lastIndexOf(t)>-1)o.pendingMarks=t.removeFromSet(o.pendingMarks);else{o.activeMarks=t.removeFromSet(o.activeMarks);let s=o.popFromStashMark(t);s&&o.type&&o.type.allowsMarkType(s.type)&&(o.activeMarks=s.addToSet(o.activeMarks))}if(o==n)break}}}function fj(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&GC.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function pj(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function uw(e){let t={};for(let n in e)t[n]=e[n];return t}function hj(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],s=l=>{i.push(l);for(let a=0;a<l.edgeCount;a++){let{type:c,next:u}=l.edge(a);if(c==t||i.indexOf(u)<0&&s(u))return!0}};if(s(o.contentMatch))return!0}}function mj(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class ns{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=Yp(n).createDocumentFragment());let o=r,i=[];return t.forEach(s=>{if(i.length||s.marks.length){let l=0,a=0;for(;l<i.length&&a<s.marks.length;){let c=s.marks[a];if(!this.marks[c.type.name]){a++;continue}if(!c.eq(i[l][0])||c.type.spec.spanning===!1)break;l++,a++}for(;l<i.length;)o=i.pop()[1];for(;a<s.marks.length;){let c=s.marks[a++],u=this.serializeMark(c,s.isInline,n);u&&(i.push([c,o]),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:o}=Ru(Yp(n),this.nodes[t.type.name](t),null,t.attrs);if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,o)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let o=t.marks.length-1;o>=0;o--){let i=this.serializeMark(t.marks[o],t.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,n,r={}){let o=this.marks[t.type.name];return o&&Ru(Yp(r),o(t,n),null,t.attrs)}static renderSpec(t,n,r=null){return Ru(t,n,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new ns(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=dw(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return dw(t.marks)}}function dw(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Yp(e){return e.document||window.document}const fw=new WeakMap;function gj(e){let t=fw.get(e);return t===void 0&&fw.set(e,t=yj(e)),t}function yj(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(e),t}function Ru(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let o=t[0],i;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=gj(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));let l,a=n?e.createElementNS(n,o):e.createElement(o),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?a.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):a.setAttribute(d,c[d])}}for(let d=u;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:m,contentDOM:p}=Ru(e,f,n,r);if(a.appendChild(m),p){if(l)throw new RangeError("Multiple content holes");l=p}}}return{dom:a,contentDOM:l}}const YC=65535,XC=Math.pow(2,16);function vj(e,t){return e+t*XC}function pw(e){return e&YC}function wj(e){return(e-(e&YC))/XC}const QC=1,ZC=2,Mu=4,eT=8;class Zm{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&eT)>0}get deletedBefore(){return(this.delInfo&(QC|Mu))>0}get deletedAfter(){return(this.delInfo&(ZC|Mu))>0}get deletedAcross(){return(this.delInfo&Mu)>0}}class xn{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&xn.empty)return xn.empty}recover(t){let n=0,r=pw(t);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+wj(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?o:0);if(a>t)break;let c=this.ranges[l+i],u=this.ranges[l+s],d=a+c;if(t<=d){let f=c?t==a?-1:t==d?1:n:n,m=a+o+(f<0?0:u);if(r)return m;let p=t==(n<0?a:d)?null:vj(l/3,t-a),g=t==a?ZC:t==d?QC:Mu;return(n<0?t!=a:t!=d)&&(g|=eT),new Zm(m,g,p)}o+=u-c}return r?t+o:new Zm(t+o,0,null)}touches(t,n){let r=0,o=pw(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>t)break;let c=this.ranges[l+i],u=a+c;if(t<=u&&l==o*3)return!0;r+=this.ranges[l+s]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],l=s-(this.inverted?i:0),a=s+(this.inverted?0:i),c=this.ranges[o+n],u=this.ranges[o+r];t(l,l+c,a,a+u),i+=u-c}}invert(){return new xn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?xn.empty:new xn(t<0?[0,-t,0]:[0,0,t])}}xn.empty=new xn([]);class Ys{constructor(t=[],n,r=0,o=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=o}slice(t=0,n=this.maps.length){return new Ys(this.maps,this.mirror,t,n)}copy(){return new Ys(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let o=t.getMirror(n);this.appendMap(t.maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let o=t.getMirror(n);this.appendMap(t.maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let t=new Ys;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let o=0;for(let i=this.from;i<this.to;i++){let s=this.maps[i],l=s.mapResult(t,n);if(l.recover!=null){let a=this.getMirror(i);if(a!=null&&a>i&&a<this.to){i=a,t=this.maps[a].recover(l.recover);continue}}o|=l.delInfo,t=l.pos}return r?t:new Zm(t,o,null)}}const Xp=Object.create(null);class qt{getMap(){return xn.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Xp[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Xp)throw new RangeError("Duplicate use of step JSON ID "+t);return Xp[t]=n,n.prototype.jsonID=t,n}}class pt{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new pt(t,null)}static fail(t){return new pt(null,t)}static fromReplace(t,n,r,o){try{return pt.ok(t.replace(n,r,o))}catch(i){if(i instanceof wd)return pt.fail(i.message);throw i}}}function Qy(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(Qy(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return j.fromArray(r)}class Oo extends qt{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new ee(Qy(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return pt.fromReplace(t,this.from,this.to,i)}invert(){return new Er(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Oo(n.pos,r.pos,this.mark)}merge(t){return t instanceof Oo&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Oo(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Oo(n.from,n.to,t.markFromJSON(n.mark))}}qt.jsonID("addMark",Oo);class Er extends qt{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new ee(Qy(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),t),n.openStart,n.openEnd);return pt.fromReplace(t,this.from,this.to,r)}invert(){return new Oo(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Er(n.pos,r.pos,this.mark)}merge(t){return t instanceof Er&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Er(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Er(n.from,n.to,t.markFromJSON(n.mark))}}qt.jsonID("removeMark",Er);class Ro extends qt{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return pt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return pt.fromReplace(t,this.pos,this.pos+1,new ee(j.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new Ro(this.pos,n.marks[o]);return new Ro(this.pos,this.mark)}}return new dl(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ro(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ro(n.pos,t.markFromJSON(n.mark))}}qt.jsonID("addNodeMark",Ro);class dl extends qt{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return pt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return pt.fromReplace(t,this.pos,this.pos+1,new ee(j.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ro(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new dl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new dl(n.pos,t.markFromJSON(n.mark))}}qt.jsonID("removeNodeMark",dl);class Et extends qt{constructor(t,n,r,o=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=o}apply(t){return this.structure&&eg(t,this.from,this.to)?pt.fail("Structure replace would overwrite content"):pt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new xn([this.from,this.to-this.from,this.slice.size])}invert(t){return new Et(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Et(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof Et)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?ee.empty:new ee(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Et(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?ee.empty:new ee(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Et(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Et(n.from,n.to,ee.fromJSON(t,n.slice),!!n.structure)}}qt.jsonID("replace",Et);class Tt extends qt{constructor(t,n,r,o,i,s,l=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=l}apply(t){if(this.structure&&(eg(t,this.from,this.gapFrom)||eg(t,this.gapTo,this.to)))return pt.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return pt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?pt.fromReplace(t,this.from,this.to,r):pt.fail("Content does not fit in gap")}getMap(){return new xn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Tt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new Tt(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Tt(n.from,n.to,n.gapFrom,n.gapTo,ee.fromJSON(t,n.slice),n.insert,!!n.structure)}}qt.jsonID("replaceAround",Tt);function eg(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let s=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function bj(e,t,n,r){let o=[],i=[],s,l;e.doc.nodesBetween(t,n,(a,c,u)=>{if(!a.isInline)return;let d=a.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,t),m=Math.min(c+a.nodeSize,n),p=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(s&&s.to==f&&s.mark.eq(d[g])?s.to=m:o.push(s=new Er(f,m,d[g])));l&&l.to==f?l.to=m:i.push(l=new Oo(f,m,r))}}),o.forEach(a=>e.step(a)),i.forEach(a=>e.step(a))}function xj(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,(s,l)=>{if(!s.isInline)return;i++;let a=null;if(r instanceof Df){let c=s.marks,u;for(;u=r.isInSet(c);)(a||(a=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(a=[r]):a=s.marks;if(a&&a.length){let c=Math.min(l+s.nodeSize,n);for(let u=0;u<a.length;u++){let d=a[u],f;for(let m=0;m<o.length;m++){let p=o[m];p.step==i-1&&d.eq(o[m].style)&&(f=p)}f?(f.to=c,f.step=i):o.push({style:d,from:Math.max(l,t),to:c,step:i})}}}),o.forEach(s=>e.step(new Er(s.from,s.to,s.style)))}function tT(e,t,n,r=n.contentMatch,o=!0){let i=e.doc.nodeAt(t),s=[],l=t+1;for(let a=0;a<i.childCount;a++){let c=i.child(a),u=l+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new Et(l,u,ee.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||e.step(new Er(l,u,c.marks[f]));if(o&&c.isText&&n.whitespace!="pre"){let f,m=/\r?\n|\r/g,p;for(;f=m.exec(c.text);)p||(p=new ee(j.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new Et(l+f.index,l+f.index+f[0].length,p))}}l=u}if(!r.validEnd){let a=r.fillBefore(j.empty,!0);e.replace(l,l,new ee(a,0,0))}for(let a=s.length-1;a>=0;a--)e.step(s[a])}function Sj(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Dl(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let o=e.$from.node(r),i=e.$from.index(r),s=e.$to.indexAfter(r);if(r<e.depth&&o.canReplace(i,s,n))return r;if(r==0||o.type.spec.isolating||!Sj(o,i,s))break}return null}function kj(e,t,n){let{$from:r,$to:o,depth:i}=t,s=r.before(i+1),l=o.after(i+1),a=s,c=l,u=j.empty,d=0;for(let p=i,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=j.from(r.node(p).copy(u)),d++):a--;let f=j.empty,m=0;for(let p=i,g=!1;p>n;p--)g||o.after(p+1)<o.end(p)?(g=!0,f=j.from(o.node(p).copy(f)),m++):c++;e.step(new Tt(a,c,s,l,new ee(u.append(f),d,m),u.size-d,!0))}function Zy(e,t,n=null,r=e){let o=Ej(e,t),i=o&&Cj(r,t);return i?o.map(hw).concat({type:t,attrs:n}).concat(i.map(hw)):null}function hw(e){return{type:e,attrs:null}}function Ej(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let s=i.length?i[0]:t;return n.canReplaceWith(r,o,s)?i:null}function Cj(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),s=t.contentMatch.findWrapping(i.type);if(!s)return null;let a=(s.length?s[s.length-1]:t).contentMatch;for(let c=r;a&&c<o;c++)a=a.matchType(n.child(c).type);return!a||!a.validEnd?null:s}function Tj(e,t,n){let r=j.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=j.from(n[s].type.create(n[s].attrs,r))}let o=t.start,i=t.end;e.step(new Tt(o,i,o,i,new ee(r,0,0),n.length,!0))}function Oj(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(r,o)&&Dj(e.doc,e.mapping.slice(i).map(l),r)){let a=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!m?a=!1:!f&&m&&(a=!0)}a===!1&&Mj(e,s,l,i),tT(e,e.mapping.slice(i).map(l,1),r,void 0,a===null);let c=e.mapping.slice(i),u=c.map(l,1),d=c.map(l+s.nodeSize,1);return e.step(new Tt(u,d,u+1,d-1,new ee(j.from(r.create(o,null,s.marks)),0,0),1,!0)),a===!0&&Rj(e,s,l,i),!1}})}function Rj(e,t,n,r){t.forEach((o,i)=>{if(o.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(o.text);){let a=e.mapping.slice(r).map(n+1+i+s.index);e.replaceWith(a,a+1,t.type.schema.linebreakReplacement.create())}}})}function Mj(e,t,n,r){t.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let s=e.mapping.slice(r).map(n+1+i);e.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function Dj(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function Pj(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Tt(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new ee(j.from(s),0,0),1,!0))}function Xs(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>i;c--,u--){let d=o.node(c),f=o.index(c);if(d.type.spec.isolating)return!1;let m=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(m=m.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(m))return!1}let l=o.indexAfter(i),a=r&&r[0];return o.node(i).canReplaceWith(l,l,a?a.type:o.node(i+1).type)}function Aj(e,t,n=1,r){let o=e.doc.resolve(t),i=j.empty,s=j.empty;for(let l=o.depth,a=o.depth-n,c=n-1;l>a;l--,c--){i=j.from(o.node(l).copy(i));let u=r&&r[c];s=j.from(u?u.type.create(u.attrs,s):o.node(l).copy(s))}e.step(new Et(t,t,new ee(i.append(s),n,n),!0))}function oi(e,t){let n=e.resolve(t),r=n.index();return nT(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function nT(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function Pf(e,t,n=-1){let r=e.resolve(t);for(let o=r.depth;;o--){let i,s,l=r.index(o);if(o==r.depth?(i=r.nodeBefore,s=r.nodeAfter):n>0?(i=r.node(o+1),l++,s=r.node(o).maybeChild(l)):(i=r.node(o).maybeChild(l-1),s=r.node(o+1)),i&&!i.isTextblock&&nT(i,s)&&r.node(o).canReplace(l,l+1))return t;if(o==0)break;t=n<0?r.before(o):r.after(o)}}function Nj(e,t,n){let r=new Et(t-n,t+n,ee.empty,!0);e.step(r)}function $j(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,n))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function _j(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,a=r.index(s)+(l>0?1:0),c=r.node(s),u=!1;if(i==1)u=c.canReplace(a,a,o);else{let d=c.contentMatchAt(a).findWrapping(o.firstChild.type);u=d&&c.canReplaceWith(a,a,d[0])}if(u)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function Af(e,t,n=t,r=ee.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return rT(o,i,r)?new Et(t,n,r):new Ij(o,i,r).fit()}function rT(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class Ij{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=j.empty;for(let o=0;o<=t.depth;o++){let i=t.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(o))})}for(let o=t.depth;o>0;o--)this.placed=j.from(t.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let i=this.placed,s=r.depth,l=o.depth;for(;s&&l&&i.childCount==1;)i=i.firstChild.content,s--,l--;let a=new ee(i,s,l);return t>-1?new Tt(r.pos,t,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new Et(r.pos,o.pos,a):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<t;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){t=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=Qp(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:c}=this.frontier[l],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(j.from(s),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=Qp(t,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new ee(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=Qp(t,n);if(o.childCount<=1&&n>0){let i=t.size-n<=n+o.size;this.unplaced=new ee(ra(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new ee(ra(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let s=this.unplaced,l=r?r.content:s.content,a=s.openStart-t,c=0,u=[],{match:d,type:f}=this.frontier[n];if(o){for(let g=0;g<o.childCount;g++)u.push(o.child(g));d=d.matchFragment(o)}let m=l.size+t-(s.content.size-s.openEnd);for(;c<l.childCount;){let g=l.child(c),w=d.matchType(g.type);if(!w)break;c++,(c>1||a==0||g.content.size)&&(d=w,u.push(oT(g.mark(f.allowedMarks(g.marks)),c==1?a:0,c==l.childCount?m:-1)))}let p=c==l.childCount;p||(m=-1),this.placed=oa(this.placed,n,j.from(u)),this.frontier[n].match=d,p&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,w=l;g<m;g++){let y=w.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),w=y.content}this.unplaced=p?t==0?ee.empty:new ee(ra(s.content,t-1,1),t-1,m<0?s.openEnd:t-1):new ee(ra(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Zp(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=Zp(t,n,o,r,i);if(s){for(let l=n-1;l>=0;l--){let{match:a,type:c}=this.frontier[l],u=Zp(t,l,c,a,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:i?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=oa(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let o=t.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,t.index(r));this.openFrontierNode(o.type,o.attrs,i)}return t}openFrontierNode(t,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=oa(this.placed,this.depth,j.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(j.empty,!0);n.childCount&&(this.placed=oa(this.placed,this.frontier.length,n))}}function ra(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(ra(e.firstChild.content,t-1,n)))}function oa(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(oa(e.lastChild.content,t-1,n)))}function Qp(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function oT(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,oT(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(j.empty,!0)))),e.copy(r)}function Zp(e,t,n,r,o){let i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,s);return l&&!Lj(n,i.content,s)?l:null}function Lj(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function Fj(e){return e.spec.defining||e.spec.definingForContent}function jj(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(rT(o,i,r))return e.step(new Et(t,n,r));let s=sT(o,e.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(o.depth+1);s.unshift(l);for(let f=o.depth,m=o.pos-1;f>0;f--,m--){let p=o.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(f)>-1?l=f:o.before(f)==m&&s.splice(1,0,-f)}let a=s.indexOf(l),c=[],u=r.openStart;for(let f=r.content,m=0;;m++){let p=f.firstChild;if(c.push(p),m==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let m=c[f],p=Fj(m.type);if(p&&!m.sameMarkup(o.node(Math.abs(l)-1)))u=f;else if(p||!m.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let m=(f+u+1)%(r.openStart+1),p=c[m];if(p)for(let g=0;g<s.length;g++){let w=s[(g+a)%s.length],y=!0;w<0&&(y=!1,w=-w);let v=o.node(w-1),b=o.index(w-1);if(v.canReplaceWith(b,b,p.type,p.marks))return e.replace(o.before(w),y?i.after(w):n,new ee(iT(r.content,0,r.openStart,m),m,r.openEnd))}}let d=e.steps.length;for(let f=s.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let m=s[f];m<0||(t=o.before(m),n=i.after(m))}}function iT(e,t,n,r,o){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(iT(i.content,t+1,n,r,i)))}if(t>r){let i=o.contentMatchAt(0),s=i.fillBefore(e).append(e);e=s.append(i.matchFragment(s).fillBefore(j.empty,!0))}return e}function Bj(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=$j(e.doc,t,r.type);o!=null&&(t=n=o)}e.replaceRange(t,n,new ee(j.from(r),0,0))}function zj(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=sT(r,o);for(let s=0;s<i.length;s++){let l=i[s],a=s==i.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return e.delete(r.start(l),o.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),o.indexAfter(l-1))))return e.delete(r.before(l),o.after(l))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s)return e.delete(r.before(s),n);e.delete(t,n)}function sT(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let o=r;o>=0;o--){let i=e.start(o);if(i<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(i==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==i-1)&&n.push(o)}return n}class Qs extends qt{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return pt.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return pt.fromReplace(t,this.pos,this.pos+1,new ee(j.from(o),0,n.isLeaf?0:1))}getMap(){return xn.empty}invert(t){return new Qs(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Qs(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Qs(n.pos,n.attr,n.value)}}qt.jsonID("attr",Qs);class Za extends qt{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return pt.ok(r)}getMap(){return xn.empty}invert(t){return new Za(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Za(n.attr,n.value)}}qt.jsonID("docAttr",Za);let fl=class extends Error{};fl=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};fl.prototype=Object.create(Error.prototype);fl.prototype.constructor=fl;fl.prototype.name="TransformError";class Vj{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Ys}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new fl(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=ee.empty){let o=Af(this.doc,t,n,r);return o&&this.step(o),this}replaceWith(t,n,r){return this.replace(t,n,new ee(j.from(r),0,0))}delete(t,n){return this.replace(t,n,ee.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return jj(this,t,n,r),this}replaceRangeWith(t,n,r){return Bj(this,t,n,r),this}deleteRange(t,n){return zj(this,t,n),this}lift(t,n){return kj(this,t,n),this}join(t,n=1){return Nj(this,t,n),this}wrap(t,n){return Tj(this,t,n),this}setBlockType(t,n=t,r,o=null){return Oj(this,t,n,r,o),this}setNodeMarkup(t,n,r=null,o){return Pj(this,t,n,r,o),this}setNodeAttribute(t,n,r){return this.step(new Qs(t,n,r)),this}setDocAttribute(t,n){return this.step(new Za(t,n)),this}addNodeMark(t,n){return this.step(new Ro(t,n)),this}removeNodeMark(t,n){if(!(n instanceof je)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new dl(t,n)),this}split(t,n=1,r){return Aj(this,t,n,r),this}addMark(t,n,r){return bj(this,t,n,r),this}removeMark(t,n,r){return xj(this,t,n,r),this}clearIncompatible(t,n,r){return tT(this,t,n,r),this}}const eh=Object.create(null);class Oe{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new Uj(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=ee.empty){let r=n.content.lastChild,o=null;for(let l=0;l<n.openEnd;l++)o=r,r=r.lastChild;let i=t.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:c}=s[l],u=t.mapping.slice(i);t.replaceRange(u.map(a.pos),u.map(c.pos),l?ee.empty:n),l==0&&yw(t,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:s,$to:l}=o[i],a=t.mapping.slice(r),c=a.map(s.pos),u=a.map(l.pos);i?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),yw(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let o=t.parent.inlineContent?new ke(t):Ss(t.node(0),t.parent,t.pos,t.index(),n,r);if(o)return o;for(let i=t.depth-1;i>=0;i--){let s=n<0?Ss(t.node(0),t.node(i),t.before(i+1),t.index(i),n,r):Ss(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new sr(t.node(0))}static atStart(t){return Ss(t,t,0,0,1)||new sr(t)}static atEnd(t){return Ss(t,t,t.content.size,t.childCount,-1)||new sr(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=eh[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in eh)throw new RangeError("Duplicate use of selection JSON ID "+t);return eh[t]=n,n.prototype.jsonID=t,n}getBookmark(){return ke.between(this.$anchor,this.$head).getBookmark()}}Oe.prototype.visible=!0;class Uj{constructor(t,n){this.$from=t,this.$to=n}}let mw=!1;function gw(e){!mw&&!e.parent.inlineContent&&(mw=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class ke extends Oe{constructor(t,n=t){gw(t),gw(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Oe.near(r);let o=t.resolve(n.map(this.anchor));return new ke(o.parent.inlineContent?o:r,r)}replace(t,n=ee.empty){if(super.replace(t,n),n==ee.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof ke&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Nf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ke(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let o=t.resolve(n);return new this(o,r==n?o:t.resolve(r))}static between(t,n,r){let o=t.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let i=Oe.findFrom(n,r,!0)||Oe.findFrom(n,-r,!0);if(i)n=i.$head;else return Oe.near(n,r)}return t.parent.inlineContent||(o==0?t=n:(t=(Oe.findFrom(t,-r,!0)||Oe.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=o<0&&(t=n))),new ke(t,n)}}Oe.jsonID("text",ke);class Nf{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Nf(t.map(this.anchor),t.map(this.head))}resolve(t){return ke.between(t.resolve(this.anchor),t.resolve(this.head))}}class de extends Oe{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),i=t.resolve(o);return r?Oe.near(i):new de(i)}content(){return new ee(j.from(this.node),0,0)}eq(t){return t instanceof de&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ev(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new de(t.resolve(n.anchor))}static create(t,n){return new de(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}de.prototype.visible=!1;Oe.jsonID("node",de);class ev{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Nf(r,r):new ev(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&de.isSelectable(r)?new de(n):Oe.near(n)}}class sr extends Oe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=ee.empty){if(n==ee.empty){t.delete(0,t.doc.content.size);let r=Oe.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new sr(t)}map(t){return new sr(t)}eq(t){return t instanceof sr}getBookmark(){return Hj}}Oe.jsonID("all",sr);const Hj={map(){return this},resolve(e){return new sr(e)}};function Ss(e,t,n,r,o,i=!1){if(t.inlineContent)return ke.create(e,n);for(let s=r-(o>0?0:1);o>0?s<t.childCount:s>=0;s+=o){let l=t.child(s);if(l.isAtom){if(!i&&de.isSelectable(l))return de.create(e,n-(o<0?l.nodeSize:0))}else{let a=Ss(e,l,n+o,o<0?l.childCount:0,o,i);if(a)return a}n+=l.nodeSize*o}return null}function yw(e,t,n){let r=e.steps.length-1;if(r<t)return;let o=e.steps[r];if(!(o instanceof Et||o instanceof Tt))return;let i=e.mapping.maps[r],s;i.forEach((l,a,c,u)=>{s==null&&(s=u)}),e.setSelection(Oe.near(e.doc.resolve(s),n))}const vw=1,tu=2,ww=4;class Wj extends Vj{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|vw)&~tu,this.storedMarks=null,this}get selectionSet(){return(this.updated&vw)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=tu,this}ensureMarks(t){return je.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&tu)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~tu,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||je.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let o=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(o.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let s=this.doc.resolve(n);i=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(t,i)),this.selection.empty||this.setSelection(Oe.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ww,this}get scrolledIntoView(){return(this.updated&ww)>0}}function bw(e,t){return!t||!e?e:e.bind(t)}class ia{constructor(t,n,r){this.name=t,this.init=bw(n.init,r),this.apply=bw(n.apply,r)}}const Kj=[new ia("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new ia("selection",{init(e,t){return e.selection||Oe.atStart(t.doc)},apply(e){return e.selection}}),new ia("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new ia("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class th{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Kj.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ia(r.key,r.spec.state,r))})}}class Fs{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),o=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=o?o[s].n:0,c=o?o[s].state:this,u=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",t),!o){o=[];for(let d=0;d<this.config.plugins.length;d++)o.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Fs(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let i=r[o];n[i.name]=i.apply(t,this[i.name],this,n)}return n}get tr(){return new Wj(this)}static create(t){let n=new th(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Fs(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(t,r);return r}reconfigure(t){let n=new th(this.schema,t.plugins),r=n.fields,o=new Fs(n);for(let i=0;i<r.length;i++){let s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(t,o)}return o}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=t[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let o=new th(t.schema,t.plugins),i=new Fs(o);return o.fields.forEach(s=>{if(s.name=="doc")i.doc=Ai.fromJSON(t.schema,n.doc);else if(s.name=="selection")i.selection=Oe.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],c=a.spec.state;if(a.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[s.name]=c.fromJSON.call(a,t,n[l],i);return}}i[s.name]=s.init(t,i)}}),i}}function lT(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):r=="handleDOMEvents"&&(o=lT(o,t,{})),n[r]=o}return n}class so{constructor(t){this.spec=t,this.props={},t.props&&lT(t.props,this,this.props),this.key=t.key?t.key.key:aT("plugin")}getState(t){return t[this.key]}}const nh=Object.create(null);function aT(e){return e in nh?e+"$"+ ++nh[e]:(nh[e]=0,e+"$")}class rs{constructor(t="key"){this.key=aT(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const _t=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},ec=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let tg=null;const zr=function(e,t,n){let r=tg||(tg=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},qj=function(){tg=null},Ji=function(e,t,n,r){return n&&(xw(e,t,n,r,-1)||xw(e,t,n,r,1))},Jj=/^(img|br|input|textarea|hr)$/i;function xw(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:kr(e))){let i=e.parentNode;if(!i||i.nodeType!=1||vc(e)||Jj.test(e.nodeName)||e.contentEditable=="false")return!1;t=_t(e)+(o<0?0:1),e=i}else if(e.nodeType==1){if(e=e.childNodes[t+(o<0?-1:0)],e.contentEditable=="false")return!1;t=o<0?kr(e):0}else return!1}}function kr(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Gj(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=kr(e)}else if(e.parentNode&&!vc(e))t=_t(e),e=e.parentNode;else return null}}function Yj(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!vc(e))t=_t(e)+1,e=e.parentNode;else return null}}function Xj(e,t,n){for(let r=t==0,o=t==kr(e);r||o;){if(e==n)return!0;let i=_t(e);if(e=e.parentNode,!e)return!1;r=r&&i==0,o=o&&i==kr(e)}}function vc(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const $f=function(e){return e.focusNode&&Ji(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function fi(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Qj(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Zj(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Ar=typeof navigator<"u"?navigator:null,Sw=typeof document<"u"?document:null,ii=Ar&&Ar.userAgent||"",ng=/Edge\/(\d+)/.exec(ii),cT=/MSIE \d/.exec(ii),rg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ii),hn=!!(cT||rg||ng),jo=cT?document.documentMode:rg?+rg[1]:ng?+ng[1]:0,ar=!hn&&/gecko\/(\d+)/i.test(ii);ar&&+(/Firefox\/(\d+)/.exec(ii)||[0,0])[1];const og=!hn&&/Chrome\/(\d+)/.exec(ii),Xt=!!og,e4=og?+og[1]:0,en=!hn&&!!Ar&&/Apple Computer/.test(Ar.vendor),pl=en&&(/Mobile\/\w+/.test(ii)||!!Ar&&Ar.maxTouchPoints>2),_n=pl||(Ar?/Mac/.test(Ar.platform):!1),t4=Ar?/Win/.test(Ar.platform):!1,Xn=/Android \d/.test(ii),wc=!!Sw&&"webkitFontSmoothing"in Sw.documentElement.style,n4=wc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function r4(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Fr(e,t){return typeof e=="number"?e:e[t]}function o4(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function kw(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;s;s=ec(s)){if(s.nodeType!=1)continue;let l=s,a=l==i.body,c=a?r4(i):o4(l),u=0,d=0;if(t.top<c.top+Fr(r,"top")?d=-(c.top-t.top+Fr(o,"top")):t.bottom>c.bottom-Fr(r,"bottom")&&(d=t.bottom-t.top>c.bottom-c.top?t.top+Fr(o,"top")-c.top:t.bottom-c.bottom+Fr(o,"bottom")),t.left<c.left+Fr(r,"left")?u=-(c.left-t.left+Fr(o,"left")):t.right>c.right-Fr(r,"right")&&(u=t.right-c.right+Fr(o,"right")),u||d)if(a)i.defaultView.scrollBy(u,d);else{let f=l.scrollLeft,m=l.scrollTop;d&&(l.scrollTop+=d),u&&(l.scrollLeft+=u);let p=l.scrollLeft-f,g=l.scrollTop-m;t={left:t.left-p,top:t.top-g,right:t.right-p,bottom:t.bottom-g}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function i4(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,o;for(let i=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let l=e.root.elementFromPoint(i,s);if(!l||l==e.dom||!e.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,o=a.top;break}}return{refDOM:r,refTop:o,stack:uT(e.dom)}}function uT(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=ec(r));return t}function s4({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;dT(n,r==0?0:r-t)}function dT(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let gs=null;function l4(e){if(e.setActive)return e.setActive();if(gs)return e.focus(gs);let t=uT(e);e.focus(gs==null?{get preventScroll(){return gs={preventScroll:!0},!0}}:void 0),gs||(gs=!1,dT(t,0))}function fT(e,t){let n,r=2e8,o,i=0,s=t.top,l=t.top,a,c;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=zr(u).getClientRects();else continue;for(let m=0;m<f.length;m++){let p=f[m];if(p.top<=s&&p.bottom>=l){s=Math.max(p.bottom,s),l=Math.min(p.top,l);let g=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(g<r){n=u,r=g,o=g&&n.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,u.nodeType==1&&g&&(i=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!a&&p.left<=t.left&&p.right>=t.left&&(a=u,c={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=d+1)}}return!n&&a&&(n=a,o=c,r=0),n&&n.nodeType==3?a4(n,o):!n||r&&n.nodeType==1?{node:e,offset:i}:fT(n,o)}function a4(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let i=mo(r,1);if(i.top!=i.bottom&&tv(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}function tv(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function c4(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function u4(e,t,n){let{node:r,offset:o}=fT(t,n),i=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();i=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}function d4(e,t,n,r){let o=-1;for(let i=t,s=!1;i!=e.dom;){let l=e.docView.nearestDesc(i,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&(!s&&a.left>r.left||a.top>r.top?o=l.posBefore:(!s&&a.right<r.left||a.bottom<r.top)&&(o=l.posAfter),s=!0),!l.contentDOM&&o<0&&!l.node.isText)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}i=l.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}function pT(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let s=e.childNodes[i];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let c=l[a];if(tv(t,c))return pT(s,t,c)}}if((i=(i+1)%r)==o)break}return e}function f4(e,t){let n=e.dom.ownerDocument,r,o=0,i=Zj(n,t.left,t.top);i&&({node:r,offset:o}=i);let s=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),l;if(!s||!e.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=e.dom.getBoundingClientRect();if(!tv(t,c)||(s=pT(e.dom,t,c),!s))return null}if(en)for(let c=s;r&&c;c=ec(c))c.draggable&&(r=void 0);if(s=c4(s,t),r){if(ar&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let u=r.childNodes[o],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&o++}let c;wc&&o&&r.nodeType==1&&(c=r.childNodes[o-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&o--,r==e.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(l=d4(e,r,o,t))}l==null&&(l=u4(e,s,t));let a=e.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function Ew(e){return e.top<e.bottom||e.left<e.right}function mo(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(Ew(r))return r}return Array.prototype.find.call(n,Ew)||e.getBoundingClientRect()}const p4=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function hT(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),s=wc||ar;if(r.nodeType==3)if(s&&(p4.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let a=mo(zr(r,o,o),n);if(ar&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let c=mo(zr(r,o-1,o-1),-1);if(c.top==a.top){let u=mo(zr(r,o,o+1),-1);if(u.top!=a.top)return Gl(u,u.left<c.left)}}return a}else{let a=o,c=o,u=n<0?1:-1;return n<0&&!o?(c++,u=-1):n>=0&&o==r.nodeValue.length?(a--,u=1):n<0?a--:c++,Gl(mo(zr(r,a,c),u),u<0)}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(i==null&&o&&(n<0||o==kr(r))){let a=r.childNodes[o-1];if(a.nodeType==1)return rh(a.getBoundingClientRect(),!1)}if(i==null&&o<kr(r)){let a=r.childNodes[o];if(a.nodeType==1)return rh(a.getBoundingClientRect(),!0)}return rh(r.getBoundingClientRect(),n>=0)}if(i==null&&o&&(n<0||o==kr(r))){let a=r.childNodes[o-1],c=a.nodeType==3?zr(a,kr(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(c)return Gl(mo(c,1),!1)}if(i==null&&o<kr(r)){let a=r.childNodes[o];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let c=a?a.nodeType==3?zr(a,0,s?0:1):a.nodeType==1?a:null:null;if(c)return Gl(mo(c,-1),!0)}return Gl(mo(r.nodeType==3?zr(r):r,-n),n>=0)}function Gl(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function rh(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function mT(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function h4(e,t,n){let r=t.selection,o=n=="up"?r.$from:r.$to;return mT(e,t,()=>{let{node:i}=e.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let l=e.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let s=hT(e,o.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=zr(l,0,l.nodeValue.length).getClientRects();else continue;for(let c=0;c<a.length;c++){let u=a[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const m4=/[\u0590-\u08ac]/;function g4(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,l=e.domSelection();return!m4.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:s:mT(e,t,()=>{let{focusNode:a,focusOffset:c,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let m=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:p,focusOffset:g}=e.domSelectionRange(),w=p&&!m.contains(p.nodeType==1?p:p.parentNode)||a==p&&c==g;try{l.collapse(u,d),a&&(a!=u||c!=d)&&l.extend&&l.extend(a,c)}catch{}return f!=null&&(l.caretBidiLevel=f),w})}let Cw=null,Tw=null,Ow=!1;function y4(e,t,n){return Cw==t&&Tw==n?Ow:(Cw=t,Tw=n,Ow=n=="up"||n=="down"?h4(e,t,n):g4(e,t,n))}const Bn=0,Rw=1,xi=2,Nr=3;class bc{constructor(t,n,r,o){this.parent=t,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=Bn,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==t)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let i,s;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(t==this.contentDOM)i=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let o;if(t==this.dom&&this.contentDOM)o=n>_t(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&n==t.childNodes.length)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,o=t;o;o=o.parentNode){let i=this.getDesc(o),s;if(i&&(!n||i.node))if(r&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return i}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let o=t;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],i=r+o.size;if(r==t&&i!=r){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(t<i)return o.descAt(t-r-o.border);r=i}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,o=0;for(let i=0;r<this.children.length;r++){let s=this.children[r],l=i+s.size;if(l>t||s instanceof yT){o=t-i;break}i=l}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof gT&&i.side>=0;r--);if(n<=0){let i,s=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,s=!1);return i&&n&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?_t(i.dom)+1:0}}else{let i,s=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?_t(i.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let s=r,l=0;;l++){let a=this.children[l],c=s+a.size;if(o==-1&&t<=c){let u=s+a.border;if(t>=u&&n<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,n,u);t=s;for(let d=l;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){o=_t(f.dom)+1;break}t-=f.size}o==-1&&(o=0)}if(o>-1&&(c>n||l==this.children.length-1)){n=c;for(let u=l+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=_t(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:t,to:n,fromOffset:o,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,o=!1){let i=Math.min(t,n),s=Math.max(t,n);for(let f=0,m=0;f<this.children.length;f++){let p=this.children[f],g=m+p.size;if(i>m&&s<g)return p.setSelection(t-m-p.border,n-m-p.border,r,o);m=g}let l=this.domFromPos(t,t?-1:1),a=n==t?l:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((ar||en)&&t==n){let{node:f,offset:m}=l;if(f.nodeType==3){if(u=!!(m&&f.nodeValue[m-1]==`
`),u&&m==f.nodeValue.length)for(let p=f,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(l=a={node:g.parentNode,offset:_t(g)+1});break}let w=p.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let p=f.childNodes[m-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(ar&&c.focusNode&&c.focusNode!=a.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(o=!0)}if(!(o||u&&en)&&Ji(l.node,l.offset,c.anchorNode,c.anchorOffset)&&Ji(a.node,a.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||t==n)&&!u){c.collapse(l.node,l.offset);try{t!=n&&c.extend(a.node,a.offset),d=!0}catch{}}if(!d){if(t>n){let m=l;l=a,a=m}let f=document.createRange();f.setEnd(a.node,a.offset),f.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,o=0;o<this.children.length;o++){let i=this.children[o],s=r+i.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let l=r+i.border,a=s-i.border;if(t>=l&&n<=a){this.dirty=t==r||n==s?xi:Rw,t==l&&n==a&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Nr:i.markDirty(t-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?xi:Nr}r=s}this.dirty=xi}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?xi:Rw;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class gT extends bc{constructor(t,n,r,o){let i,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,i=this}matchesWidget(t){return this.dirty==Bn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class v4 extends bc{constructor(t,n,r,o){super(t,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Gi extends bc{constructor(t,n,r,o){super(t,[],r,o),this.mark=n}static create(t,n,r,o){let i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return(!s||!s.dom)&&(s=ns.renderSpec(document,n.type.spec.toDOM(n,r))),new Gi(t,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Nr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Nr&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Bn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Bn}}slice(t,n,r){let o=Gi.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=lg(i,n,s,r)),t>0&&(i=lg(i,0,t,r));for(let l=0;l<i.length;l++)i[l].parent=o;return o.children=i,o}}class Bo extends bc{constructor(t,n,r,o,i,s,l,a,c){super(t,[],i,s),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=l}static create(t,n,r,o,i,s){let l=i.nodeViews[n.type.name],a,c=l&&l(n,i,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},r,o),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=ns.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=bT(u,r,n),c?a=new w4(t,n,r,o,u,d||null,f,c,i,s+1):n.isText?new _f(t,n,r,o,u,f,i):new Bo(t,n,r,o,u,d||null,f,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>j.empty)}return t}matchesNode(t,n,r){return this.dirty==Bn&&t.eq(this.node)&&sg(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,o=n,i=t.composing?this.localCompositionInfo(t,n):null,s=i&&i.pos>-1?i:null,l=i&&i.pos<0,a=new x4(this,s&&s.node,t);E4(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?a.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!d&&a.syncToMarks(u==this.node.childCount?je.none:this.node.child(u).marks,r,t),a.placeWidget(c,t,o)},(c,u,d,f)=>{a.syncToMarks(c.marks,r,t);let m;a.findNodeMatch(c,u,d,f)||l&&t.state.selection.from>o&&t.state.selection.to<o+c.nodeSize&&(m=a.findIndexWithChild(i.node))>-1&&a.updateNodeAt(c,u,d,m,t)||a.updateNextNode(c,u,d,t,f,o)||a.addNode(c,u,d,t,o),o+=c.nodeSize}),a.syncToMarks([],r,t),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==xi)&&(s&&this.protectLocalComposition(t,s),vT(this.contentDOM,this.children,t),pl&&C4(this.dom))}localCompositionInfo(t,n){let{from:r,to:o}=t.state.selection;if(!(t.state.selection instanceof ke)||r<n||o>n+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,l=T4(this.node.content,s,r-n,o-n);return l<0?null:{node:i,pos:l,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new v4(this,i,n,o);t.input.compositionNodes.push(s),this.children=lg(this.children,r,r+o.length,t,s)}update(t,n,r,o){return this.dirty==Nr||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,o),!0)}updateInner(t,n,r,o){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Bn}updateOuterDeco(t){if(sg(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=wT(this.dom,this.nodeDOM,ig(this.outerDeco,this.node,n),ig(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Mw(e,t,n,r,o){bT(r,t,e);let i=new Bo(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class _f extends Bo{constructor(t,n,r,o,i,s,l){super(t,n,r,o,i,null,s,l,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,o){return this.dirty==Nr||this.dirty!=Bn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Bn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=t,this.dirty=Bn,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let o=this.node.cut(t,n),i=document.createTextNode(o.text);return new _f(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Nr)}get domAtom(){return!1}isText(t){return this.node.text==t}}class yT extends bc{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Bn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class w4 extends Bo{constructor(t,n,r,o,i,s,l,a,c,u){super(t,n,r,o,i,s,l,c,u),this.spec=a}update(t,n,r,o){if(this.dirty==Nr)return!1;if(this.spec.update){let i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,o),i}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function vT(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let s=t[i],l=s.dom;if(l.parentNode==e){for(;l!=r;)r=Dw(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(l,r);if(s instanceof Gi){let a=r?r.previousSibling:e.lastChild;vT(s.contentDOM,s.children,n),r=a?a.nextSibling:e.firstChild}}for(;r;)r=Dw(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const ka=function(e){e&&(this.nodeName=e)};ka.prototype=Object.create(null);const Si=[new ka];function ig(e,t,n){if(e.length==0)return Si;let r=n?Si[0]:new ka,o=[r];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&o.push(r=new ka(s.nodeName));for(let l in s){let a=s[l];a!=null&&(n&&o.length==1&&o.push(r=new ka(t.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return o}function wT(e,t,n,r){if(n==Si&&r==Si)return t;let o=t;for(let i=0;i<r.length;i++){let s=r[i],l=n[i];if(i){let a;l&&l.nodeName==s.nodeName&&o!=e&&(a=o.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(o),l=Si[0]),o=a}b4(o,l||Si[0],s)}return o}function b4(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&e.classList.remove(r[i]);for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&e.classList.add(o[i]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(t.style);)e.style.removeProperty(o[1])}n.style&&(e.style.cssText+=n.style)}}function bT(e,t,n){return wT(e,e,Si,ig(t,n,e.nodeType!=1))}function sg(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Dw(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class x4{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=S4(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let o=0,i=this.stack.length>>1,s=Math.min(i,t.length);for(;o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&t[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=Bn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let c=this.top.children[a];if(c.matchesMark(t[i])&&!this.isLocked(c.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=Gi.create(this.top,t[i],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,i++}}findNodeMatch(t,n,r,o){let i=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))i=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let c=this.top.children[l];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,n,r,o,i){let s=this.top.children[o];return s.dirty==Nr&&s.dom==s.contentDOM&&(s.dirty=xi),s.update(t,n,r,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}t=n}}updateNextNode(t,n,r,o,i,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Bo){let c=this.preMatch.matched.get(a);if(c!=null&&c!=i)return!1;let u=a.dom,d,f=this.isLocked(u)&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&a.dirty!=Nr&&sg(n,a.outerDeco));if(!f&&a.update(t,n,r,o))return this.destroyBetween(this.index,l),a.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(a,t,n,r,o,s)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=xi,d.updateChildren(o,s+1),d.dirty=Bn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,o,i,s){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let l=Bo.create(this.top,n,r,o,i,s);if(l.contentDOM){l.children=t.children,t.children=[];for(let a of l.children)a.parent=l}return t.destroy(),l}addNode(t,n,r,o,i){let s=Bo.create(this.top,t,n,r,o,i);s.contentDOM&&s.updateChildren(o,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(t)&&(t==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new gT(this.top,t,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Gi;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof _f)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((en||Xt)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new yT(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function S4(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,s=[];e:for(;o>0;){let l;for(;;)if(r){let c=n.children[r-1];if(c instanceof Gi)n=c,r=c.children.length;else{l=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=e.child(o-1))break;--o,i.set(l,o),s.push(l)}}return{index:o,matched:i,matches:s.reverse()}}function k4(e,t){return e.type.side-t.type.side}function E4(e,t,n,r){let o=t.locals(e),i=0;if(o.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);r(u,o,t.forChild(i,u),c),i+=u.nodeSize}return}let s=0,l=[],a=null;for(let c=0;;){let u,d;for(;s<o.length&&o[s].to==i;){let w=o[s++];w.widget&&(u?(d||(d=[u])).push(w):u=w)}if(u)if(d){d.sort(k4);for(let w=0;w<d.length;w++)n(d[w],c,!!a)}else n(u,c,!!a);let f,m;if(a)m=-1,f=a,a=null;else if(c<e.childCount)m=c,f=e.child(c++);else break;for(let w=0;w<l.length;w++)l[w].to<=i&&l.splice(w--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)l.push(o[s++]);let p=i+f.nodeSize;if(f.isText){let w=p;s<o.length&&o[s].from<w&&(w=o[s].from);for(let y=0;y<l.length;y++)l[y].to<w&&(w=l[y].to);w<p&&(a=f.cut(w-i),f=f.cut(0,w-i),p=w,m=-1)}else for(;s<o.length&&o[s].to<p;)s++;let g=f.isInline&&!f.isLeaf?l.filter(w=>!w.inline):l.slice();r(f,g,t.forChild(i,f),m),i=p}}function C4(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function T4(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let s=e.child(o++),l=i;if(i+=s.nodeSize,!s.isText)continue;let a=s.text;for(;o<e.childCount;){let c=e.child(o++);if(i+=c.nodeSize,!c.isText)break;a+=c.text}if(i>=n){if(i>=r&&a.slice(r-t.length-l,r-l)==t)return r-t.length;let c=l<r?a.lastIndexOf(t,r-l-1):-1;if(c>=0&&c+t.length+l>=n)return l+c;if(n==r&&a.length>=r+t.length-l&&a.slice(r-l,r-l+t.length)==t)return r}}return-1}function lg(e,t,n,r,o){let i=[];for(let s=0,l=0;s<e.length;s++){let a=e[s],c=l,u=l+=a.size;c>=n||u<=t?i.push(a):(c<t&&i.push(a.slice(0,t-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(a.slice(n-c,a.size,r)))}return i}function nv(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&o.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),a,c;if($f(n)){for(a=l;o&&!o.node;)o=o.parent;let u=o.node;if(o&&u.isAtom&&de.isSelectable(u)&&o.parent&&!(u.isInline&&Xj(n.focusNode,n.focusOffset,o.dom))){let d=o.posBefore;c=new de(s==d?l:r.resolve(d))}}else{let u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;a=r.resolve(u)}if(!c){let u=t=="pointer"||e.state.selection.head<l.pos&&!i?1:-1;c=rv(e,a,l,u)}return c}function xT(e){return e.editable?e.hasFocus():kT(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function qr(e,t=!1){let n=e.state.selection;if(ST(e,n),!!xT(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Xt){let r=e.domSelectionRange(),o=e.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Ji(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)R4(e);else{let{anchor:r,head:o}=n,i,s;Pw&&!(n instanceof ke)&&(n.$from.parent.inlineContent||(i=Aw(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=Aw(e,n.to))),e.docView.setSelection(r,o,e.root,t),Pw&&(i&&Nw(i),s&&Nw(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&O4(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Pw=en||Xt&&e4<63;function Aw(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(en&&o&&o.contentEditable=="false")return oh(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return oh(o);if(i)return oh(i)}}function oh(e){return e.contentEditable="true",en&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Nw(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function O4(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!xT(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function R4(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setEnd(r.parentNode,_t(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&hn&&jo<=11&&(r.disabled=!0,r.disabled=!1)}function ST(e,t){if(t instanceof de){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&($w(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else $w(e)}function $w(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function rv(e,t,n,r){return e.someProp("createSelectionBetween",o=>o(e,t,n))||ke.between(t,n,r)}function _w(e){return e.editable&&!e.hasFocus()?!1:kT(e)}function kT(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function M4(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Ji(t.node,t.offset,n.anchorNode,n.anchorOffset)}function ag(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&Oe.findFrom(i,t)}function bo(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Iw(e,t,n){let r=e.state.selection;if(r instanceof ke)if(n.indexOf("s")>-1){let{$head:o}=r,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=e.state.doc.resolve(o.pos+i.nodeSize*(t<0?-1:1));return bo(e,new ke(r.$anchor,s))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let o=ag(e.state,t);return o&&o instanceof de?bo(e,o):!1}else if(!(_n&&n.indexOf("m")>-1)){let o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter,s;if(!i||i.isText)return!1;let l=t<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(s=e.docView.descAt(l))&&!s.contentDOM?de.isSelectable(i)?bo(e,new de(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):wc?bo(e,new ke(e.state.doc.resolve(t<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof de&&r.node.isInline)return bo(e,new ke(t>0?r.$to:r.$from));{let o=ag(e.state,t);return o?bo(e,o):!1}}}function Cd(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Ea(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function ys(e,t){return t<0?D4(e):P4(e)}function D4(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=!1;for(ar&&n.nodeType==1&&r<Cd(n)&&Ea(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Ea(l,-1))o=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(ET(n))break;{let l=n.previousSibling;for(;l&&Ea(l,-1);)o=n.parentNode,i=_t(l),l=l.previousSibling;if(l)n=l,r=Cd(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?cg(e,n,r):o&&cg(e,o,i)}function P4(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o=Cd(n),i,s;for(;;)if(r<o){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Ea(l,1))i=n,s=++r;else break}else{if(ET(n))break;{let l=n.nextSibling;for(;l&&Ea(l,1);)i=l.parentNode,s=_t(l)+1,l=l.nextSibling;if(l)n=l,r=0,o=Cd(n);else{if(n=n.parentNode,n==e.dom)break;r=o=0}}}i&&cg(e,i,s)}function ET(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function A4(e,t){for(;e&&t==e.childNodes.length&&!vc(e);)t=_t(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function N4(e,t){for(;e&&!t&&!vc(e);)t=_t(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function cg(e,t,n){if(t.nodeType!=3){let i,s;(s=A4(t,n))?(t=s,n=0):(i=N4(t,n))&&(t=i,n=i.nodeValue.length)}let r=e.domSelection();if($f(r)){let i=document.createRange();i.setEnd(t,n),i.setStart(t,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&qr(e)},50)}function Lw(e,t){let n=e.state.doc.resolve(t);if(!(Xt||t4)&&n.parent.inlineContent){let o=e.coordsAtPos(t);if(t>n.start()){let i=e.coordsAtPos(t-1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left<o.left?"ltr":"rtl"}if(t<n.end()){let i=e.coordsAtPos(t+1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left>o.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function Fw(e,t,n){let r=e.state.selection;if(r instanceof ke&&!r.empty||n.indexOf("s")>-1||_n&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=ag(e.state,t);if(s&&s instanceof de)return bo(e,s)}if(!o.parent.inlineContent){let s=t<0?o:i,l=r instanceof sr?Oe.near(s,t):Oe.findFrom(s,t);return l?bo(e,l):!1}return!1}function jw(e,t){if(!(e.state.selection instanceof ke))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let s=e.state.tr;return t<0?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),e.dispatch(s),!0}return!1}function Bw(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function $4(e){if(!en||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;Bw(e,r,"true"),setTimeout(()=>Bw(e,r,"false"),20)}return!1}function _4(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function I4(e,t){let n=t.keyCode,r=_4(t);if(n==8||_n&&n==72&&r=="c")return jw(e,-1)||ys(e,-1);if(n==46&&!t.shiftKey||_n&&n==68&&r=="c")return jw(e,1)||ys(e,1);if(n==13||n==27)return!0;if(n==37||_n&&n==66&&r=="c"){let o=n==37?Lw(e,e.state.selection.from)=="ltr"?-1:1:-1;return Iw(e,o,r)||ys(e,o)}else if(n==39||_n&&n==70&&r=="c"){let o=n==39?Lw(e,e.state.selection.from)=="ltr"?1:-1:1;return Iw(e,o,r)||ys(e,o)}else{if(n==38||_n&&n==80&&r=="c")return Fw(e,-1,r)||ys(e,-1);if(n==40||_n&&n==78&&r=="c")return $4(e)||Fw(e,1,r)||ys(e,1);if(r==(_n?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function CT(e,t){e.someProp("transformCopied",m=>{t=m(t,e)});let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;let m=r.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),r=m.content}let s=e.someProp("clipboardSerializer")||ns.fromSchema(e.state.schema),l=PT(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let c=a.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=DT[c.nodeName.toLowerCase()]);){for(let m=u.length-1;m>=0;m--){let p=l.createElement(u[m]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),d++}c=a.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${o} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",m=>m(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:a,text:f,slice:t}}function TT(e,t,n,r,o){let i=o.parent.type.spec.code,s,l;if(!n&&!t)return null;let a=t&&(r||i||!n);if(a){if(e.someProp("transformPastedText",f=>{t=f(t,i||r,e)}),i)return t?new ee(j.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):ee.empty;let d=e.someProp("clipboardTextParser",f=>f(t,o,r,e));if(d)l=d;else{let f=o.marks(),{schema:m}=e.state,p=ns.fromSchema(m);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let w=s.appendChild(document.createElement("p"));g&&w.appendChild(p.serializeNode(m.text(g,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),s=j4(n),wc&&B4(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(l||(l=(e.someProp("clipboardParser")||e.someProp("domParser")||ul.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||u),context:o,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!L4.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)l=z4(zw(l,+u[1],+u[2]),u[4]);else if(l=ee.maxOpen(F4(l.content,o),!0),l.openStart||l.openEnd){let d=0,f=0;for(let m=l.content.firstChild;d<l.openStart&&!m.type.spec.isolating;d++,m=m.firstChild);for(let m=l.content.lastChild;f<l.openEnd&&!m.type.spec.isolating;f++,m=m.lastChild);l=zw(l,d,f)}return e.someProp("transformPasted",d=>{l=d(l,e)}),l}const L4=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function F4(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let o=t.node(n).contentMatchAt(t.index(n)),i,s=[];if(e.forEach(l=>{if(!s)return;let a=o.findWrapping(l.type),c;if(!a)return s=null;if(c=s.length&&i.length&&RT(a,i,l,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=MT(s[s.length-1],i.length));let u=OT(l,a);s.push(u),o=o.matchType(u.type),i=a}}),s)return j.from(s)}return e}function OT(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,j.from(e));return e}function RT(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=RT(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(j.from(OT(n,e,o+1))))}}function MT(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,MT(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(j.empty,!0);return e.copy(n.append(r))}function ug(e,t,n,r,o,i){let s=t<0?e.firstChild:e.lastChild,l=s.content;return e.childCount>1&&(i=0),o<r-1&&(l=ug(l,t,n,r,o+1,i)),o>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,i<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(j.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}function zw(e,t,n){return t<e.openStart&&(e=new ee(ug(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new ee(ug(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const DT={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Vw=null;function PT(){return Vw||(Vw=document.implementation.createHTMLDocument("title"))}function j4(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=PT().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),o;if((o=r&&DT[r[1].toLowerCase()])&&(e=o.map(i=>"<"+i+">").join("")+e+o.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=e,o)for(let i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function B4(e){let t=e.querySelectorAll(Xt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function z4(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:o,openStart:i,openEnd:s}=e;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;o=j.from(a.create(r[l+1],o)),i++,s++}return new ee(o,i,s)}const tn={},nn={},V4={touchstart:!0,touchmove:!0};class U4{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function H4(e){for(let t in tn){let n=tn[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{K4(e,r)&&!ov(e,r)&&(e.editable||!(r.type in nn))&&n(e,r)},V4[t]?{passive:!0}:void 0)}en&&e.dom.addEventListener("input",()=>null),dg(e)}function Mo(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function W4(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function dg(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>ov(e,r))})}function ov(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function K4(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function q4(e,t){!ov(e,t)&&tn[t.type]&&(e.editable||!(t.type in nn))&&tn[t.type](e,t)}nn.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!NT(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Xn&&Xt&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),pl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",o=>o(e,fi(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||I4(e,n)?n.preventDefault():Mo(e,"key")};nn.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};nn.keypress=(e,t)=>{let n=t;if(NT(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||_n&&n.metaKey)return;if(e.someProp("handleKeyPress",o=>o(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof ke)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode);!/[\r\n]/.test(o)&&!e.someProp("handleTextInput",i=>i(e,r.$from.pos,r.$to.pos,o))&&e.dispatch(e.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}};function If(e){return{left:e.clientX,top:e.clientY}}function J4(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function iv(e,t,n,r,o){if(r==-1)return!1;let i=e.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(e.someProp(t,l=>s>i.depth?l(e,n,i.nodeAfter,i.before(s),o,!0):l(e,n,i.node(s),i.before(s),o,!1)))return!0;return!1}function Zs(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function G4(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&de.isSelectable(r)?(Zs(e,new de(n)),!0):!1}function Y4(e,t){if(t==-1)return!1;let n=e.state.selection,r,o;n instanceof de&&(r=n.node);let i=e.state.doc.resolve(t);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s);if(de.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(s);break}}return o!=null?(Zs(e,de.create(e.state.doc,o)),!0):!1}function X4(e,t,n,r,o){return iv(e,"handleClickOn",t,n,r)||e.someProp("handleClick",i=>i(e,t,r))||(o?Y4(e,n):G4(e,n))}function Q4(e,t,n,r){return iv(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",o=>o(e,t,r))}function Z4(e,t,n,r){return iv(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",o=>o(e,t,r))||e5(e,n,r)}function e5(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Zs(e,ke.create(r,0,r.content.size)),!0):!1;let o=r.resolve(t);for(let i=o.depth+1;i>0;i--){let s=i>o.depth?o.nodeAfter:o.node(i),l=o.before(i);if(s.inlineContent)Zs(e,ke.create(r,l+1,l+1+s.content.size));else if(de.isSelectable(s))Zs(e,de.create(r,l));else continue;return!0}}function sv(e){return Td(e)}const AT=_n?"metaKey":"ctrlKey";tn.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=sv(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&J4(n,e.input.lastClick)&&!n[AT]&&(e.input.lastClick.type=="singleClick"?i="doubleClick":e.input.lastClick.type=="doubleClick"&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};let s=e.posAtCoords(If(n));s&&(i=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new t5(e,s,n,!!r)):(i=="doubleClick"?Q4:Z4)(e,s.pos,s.inside,n)?n.preventDefault():Mo(e,"pointer"))};class t5{constructor(t,n,r,o){this.view=t,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[AT],this.allowDefault=r.shiftKey;let i,s;if(n.inside>-1)i=t.state.doc.nodeAt(n.inside),s=n.inside;else{let u=t.state.doc.resolve(n.pos);i=u.parent,s=u.depth?u.before():0}const l=o?null:r.target,a=l?t.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:c}=t.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof de&&c.from<=s&&c.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ar&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Mo(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>qr(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(If(t))),this.updateAllowDefault(t),this.allowDefault||!n?Mo(this.view,"pointer"):X4(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||en&&this.mightDrag&&!this.mightDrag.node.isAtom||Xt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Zs(this.view,Oe.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Mo(this.view,"pointer")}move(t){this.updateAllowDefault(t),Mo(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}tn.touchstart=e=>{e.input.lastTouch=Date.now(),sv(e),Mo(e,"pointer")};tn.touchmove=e=>{e.input.lastTouch=Date.now(),Mo(e,"pointer")};tn.contextmenu=e=>sv(e);function NT(e,t){return e.composing?!0:en&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const n5=Xn?5e3:-1;nn.compositionstart=nn.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Td(e,!0),e.markCursor=null;else if(Td(e),ar&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){let s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(s.nodeType==3){e.domSelection().collapse(s,s.nodeValue.length);break}else o=s,i=-1}}e.input.composing=!0}$T(e,n5)};nn.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,$T(e,20))};function $T(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Td(e),t))}function _T(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=o5());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function r5(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=Gj(t.focusNode,t.focusOffset),r=Yj(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!o||!o.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function o5(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Td(e,t=!1){if(!(Xn&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),_T(e),t||e.docView&&e.docView.dirty){let n=nv(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function i5(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const tc=hn&&jo<15||pl&&n4<604;tn.copy=nn.cut=(e,t)=>{let n=t,r=e.state.selection,o=n.type=="cut";if(r.empty)return;let i=tc?null:n.clipboardData,s=r.content(),{dom:l,text:a}=CT(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",a)):i5(e,l),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function s5(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function l5(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?nc(e,r.value,null,o,t):nc(e,r.textContent,r.innerHTML,o,t)},50)}function nc(e,t,n,r,o){let i=TT(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",a=>a(e,o,i||ee.empty)))return!0;if(!i)return!1;let s=s5(i),l=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(i);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function IT(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}nn.paste=(e,t)=>{let n=t;if(e.composing&&!Xn)return;let r=tc?null:n.clipboardData,o=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&nc(e,IT(r),r.getData("text/html"),o,n)?n.preventDefault():l5(e,n)};class LT{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const FT=_n?"altKey":"ctrlKey";tn.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=e.state.selection,i=o.empty?null:e.posAtCoords(If(n)),s;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof de?o.to-1:o.to))){if(r&&r.mightDrag)s=de.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(s=de.create(e.state.doc,d.posBefore))}}let l=(s||e.state.selection).content(),{dom:a,text:c,slice:u}=CT(e,l);n.dataTransfer.clearData(),n.dataTransfer.setData(tc?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",tc||n.dataTransfer.setData("text/plain",c),e.dragging=new LT(u,!n[FT],s)};tn.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};nn.dragover=nn.dragenter=(e,t)=>t.preventDefault();nn.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(If(n));if(!o)return;let i=e.state.doc.resolve(o.pos),s=r&&r.slice;s?e.someProp("transformPasted",p=>{s=p(s,e)}):s=TT(e,IT(n.dataTransfer),tc?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(r&&!n[FT]);if(e.someProp("handleDrop",p=>p(e,n,s||ee.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?_j(e.state.doc,i.pos,s):i.pos;a==null&&(a=i.pos);let c=e.state.tr;if(l){let{node:p}=r;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(a),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(f))return;let m=c.doc.resolve(u);if(d&&de.isSelectable(s.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new de(m));else{let p=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((g,w,y,v)=>p=v),c.setSelection(rv(e,m,c.doc.resolve(p)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};tn.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&qr(e)},20))};tn.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};tn.beforeinput=(e,t)=>{if(Xt&&Xn&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",i=>i(e,fi(8,"Backspace")))))return;let{$cursor:o}=e.state.selection;o&&o.pos>0&&e.dispatch(e.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let e in nn)tn[e]=nn[e];function rc(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Od{constructor(t,n){this.toDOM=t,this.spec=n||Ni,this.side=this.spec.side||0}map(t,n,r,o){let{pos:i,deleted:s}=t.mapResult(n.from+o,this.side<0?-1:1);return s?null:new nr(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Od&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&rc(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class zo{constructor(t,n){this.attrs=t,this.spec=n||Ni}map(t,n,r,o){let i=t.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=s?null:new nr(i,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof zo&&rc(this.attrs,t.attrs)&&rc(this.spec,t.spec)}static is(t){return t.type instanceof zo}destroy(){}}class lv{constructor(t,n){this.attrs=t,this.spec=n||Ni}map(t,n,r,o){let i=t.mapResult(n.from+o,1);if(i.deleted)return null;let s=t.mapResult(n.to+o,-1);return s.deleted||s.pos<=i.pos?null:new nr(i.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:o}=t.content.findIndex(n.from),i;return o==n.from&&!(i=t.child(r)).isText&&o+i.nodeSize==n.to}eq(t){return this==t||t instanceof lv&&rc(this.attrs,t.attrs)&&rc(this.spec,t.spec)}destroy(){}}class nr{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new nr(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new nr(t,t,new Od(n,r))}static inline(t,n,r,o){return new nr(t,n,new zo(r,o))}static node(t,n,r,o){return new nr(t,n,new lv(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof zo}get widget(){return this.type instanceof Od}}const ks=[],Ni={};class kt{constructor(t,n){this.local=t.length?t:ks,this.children=n.length?n:ks}static create(t,n){return n.length?Rd(n,t,0,Ni):Vt}find(t,n,r){let o=[];return this.findInner(t??0,n??1e9,o,0,r),o}findInner(t,n,r,o,i){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=t&&(!i||i(l.spec))&&r.push(l.copy(l.from+o,l.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let l=this.children[s]+1;this.children[s+2].findInner(t-l,n-l,r,o+l,i)}}map(t,n,r){return this==Vt||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Ni)}mapInner(t,n,r,o,i){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(t,r,o);a&&a.type.valid(n,a)?(s||(s=[])).push(a):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?a5(this.children,s||[],t,n,r,o,i):s?new kt(s.sort($i),ks):Vt}add(t,n){return n.length?this==Vt?kt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let o,i=0;t.forEach((l,a)=>{let c=a+r,u;if(u=BT(n,l,c)){for(o||(o=this.children.slice());i<o.length&&o[i]<a;)i+=3;o[i]==a?o[i+2]=o[i+2].addInner(l,u,c+1):o.splice(i,0,a,a+l.nodeSize,Rd(u,l,c+1,Ni)),i+=3}});let s=jT(i?zT(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(t,s[l])||s.splice(l--,1);return new kt(s.length?this.local.concat(s).sort($i):this.local,o||this.children)}remove(t){return t.length==0||this==Vt?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,o=this.local;for(let i=0;i<r.length;i+=3){let s,l=r[i]+n,a=r[i+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>l&&d.to<a&&(t[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[i+2].removeInner(s,l+1);c!=Vt?r[i+2]=c:(r.splice(i,3),i-=3)}if(o.length){for(let i=0,s;i<t.length;i++)if(s=t[i])for(let l=0;l<o.length;l++)o[l].eq(s,n)&&(o==this.local&&(o=this.local.slice()),o.splice(l--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new kt(o,r):Vt}forChild(t,n){if(this==Vt)return this;if(n.isLeaf)return kt.empty;let r,o;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(r=this.children[l+2]);break}let i=t+1,s=i+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>i&&a.type instanceof zo){let c=Math.max(i,a.from)-i,u=Math.min(s,a.to)-i;c<u&&(o||(o=[])).push(a.copy(c,u))}}if(o){let l=new kt(o.sort($i),ks);return r?new Eo([l,r]):l}return r||Vt}eq(t){if(this==t)return!0;if(!(t instanceof kt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return av(this.localsInner(t))}localsInner(t){if(this==Vt)return ks;if(t.inlineContent||!this.local.some(zo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof zo||n.push(this.local[r]);return n}}kt.empty=new kt([],[]);kt.removeOverlap=av;const Vt=kt.empty;class Eo{constructor(t){this.members=t}map(t,n){const r=this.members.map(o=>o.map(t,n,Ni));return Eo.from(r)}forChild(t,n){if(n.isLeaf)return kt.empty;let r=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(t,n);i!=Vt&&(i instanceof Eo?r=r.concat(i.members):r.push(i))}return Eo.from(r)}eq(t){if(!(t instanceof Eo)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(t);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let s=0;s<i.length;s++)n.push(i[s])}}return n?av(r?n:n.sort($i)):ks}static from(t){switch(t.length){case 0:return Vt;case 1:return t[0];default:return new Eo(t.every(n=>n instanceof kt)?t:t.reduce((n,r)=>n.concat(r instanceof kt?r:r.members),[]))}}}function a5(e,t,n,r,o,i,s){let l=e.slice();for(let c=0,u=i;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,m,p,g)=>{let w=g-p-(m-f);for(let y=0;y<l.length;y+=3){let v=l[y+1];if(v<0||f>v+u-d)continue;let b=l[y]+u-d;m>=b?l[y+1]=f<=b?-2:-1:f>=u&&w&&(l[y]+=w,l[y+1]+=w)}d+=w}),u=n.maps[c].map(u,-1)}let a=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){a=!0,l[c+1]=-1;continue}let u=n.map(e[c]+i),d=u-o;if(d<0||d>=r.content.size){a=!0;continue}let f=n.map(e[c+1]+i,-1),m=f-o,{index:p,offset:g}=r.content.findIndex(d),w=r.maybeChild(p);if(w&&g==d&&g+w.nodeSize==m){let y=l[c+2].mapInner(n,w,u+1,e[c]+i+1,s);y!=Vt?(l[c]=d,l[c+1]=m,l[c+2]=y):(l[c+1]=-2,a=!0)}else a=!0}if(a){let c=c5(l,e,t,n,o,i,s),u=Rd(c,r,0,s);t=u.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let m=u.children[d];for(;f<l.length&&l[f]<m;)f+=3;l.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new kt(t.sort($i),l)}function jT(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new nr(o.from+t,o.to+t,o.type))}return n}function c5(e,t,n,r,o,i,s){function l(a,c){for(let u=0;u<a.local.length;u++){let d=a.local[u].map(r,o,c);d?n.push(d):s.onRemove&&s.onRemove(a.local[u].spec)}for(let u=0;u<a.children.length;u+=3)l(a.children[u+2],a.children[u]+c+1)}for(let a=0;a<e.length;a+=3)e[a+1]==-1&&l(e[a+2],t[a]+i+1);return n}function BT(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let i=0,s;i<e.length;i++)(s=e[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),e[i]=null);return o}function zT(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Rd(e,t,n,r){let o=[],i=!1;t.forEach((l,a)=>{let c=BT(e,l,a+n);if(c){i=!0;let u=Rd(c,l,n+a+1,r);u!=Vt&&o.push(a,a+l.nodeSize,u)}});let s=jT(i?zT(e):e,-n).sort($i);for(let l=0;l<s.length;l++)s[l].type.valid(t,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||o.length?new kt(s,o):Vt}function $i(e,t){return e.from-t.from||e.to-t.to}function av(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from==r.from){i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),Uw(t,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),Uw(t,o,r.copy(i.from,r.to)));break}}}return t}function Uw(e,t,n){for(;t<e.length&&$i(n,e[t])>0;)t++;e.splice(t,0,n)}function ih(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Vt&&t.push(r)}),e.cursorWrapper&&t.push(kt.create(e.state.doc,[e.cursorWrapper.deco])),Eo.from(t)}const u5={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},d5=hn&&jo<=11;class f5{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class p5{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new f5,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);hn&&jo<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),d5&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,u5)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(_w(this.view)){if(this.suppressingSelectionUpdates)return qr(this.view);if(hn&&jo<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Ji(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=ec(i))n.add(i);for(let i=t.anchorNode;i;i=ec(i))if(n.has(i)){r=i;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&_w(t)&&!this.ignoreSelectionChange(r),i=-1,s=-1,l=!1,a=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],a);d&&(i=i<0?d.from:Math.min(d.from,i),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(l=!0))}if(ar&&a.length){let u=a.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let m=f.parentNode;m&&m.nodeName=="LI"&&(!d||g5(t,d)!=m)&&f.remove()}}}let c=null;i<0&&o&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&$f(r)&&(c=nv(t))&&c.eq(Oe.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,qr(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||o)&&(i>-1&&(t.docView.markDirty(i,s),h5(t)),this.handleDOMChange(i,s,l,a),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||qr(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let o=t.previousSibling,i=t.nextSibling;if(hn&&jo<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(o=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f)}let s=o&&o.parentNode==t.target?_t(o)+1:0,l=r.localPosFromDOM(t.target,s,-1),a=i&&i.parentNode==t.target?_t(i):t.target.childNodes.length,c=r.localPosFromDOM(t.target,a,1);return{from:l,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let Hw=new WeakMap,Ww=!1;function h5(e){if(!Hw.has(e)&&(Hw.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=ar,Ww)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Ww=!0}}function Kw(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return Ji(s.node,s.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function m5(e,t){if(t.getComposedRanges){let o=t.getComposedRanges(e.root)[0];if(o)return Kw(e,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?Kw(e,n):null}function g5(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function y5(e,t,n){let{node:r,fromOffset:o,toOffset:i,from:s,to:l}=e.docView.parseRange(t,n),a=e.domSelectionRange(),c,u=a.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:a.anchorOffset}],$f(a)||c.push({node:a.focusNode,offset:a.focusOffset})),Xt&&e.input.lastKeyCode===8)for(let w=i;w>o;w--){let y=r.childNodes[w-1],v=y.pmViewDesc;if(y.nodeName=="BR"&&!v){i=w;break}if(!v||v.size)break}let d=e.state.doc,f=e.someProp("domParser")||ul.fromSchema(e.state.schema),m=d.resolve(s),p=null,g=f.parse(r,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:o,to:i,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:v5,context:m});if(c&&c[0].pos!=null){let w=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=w),p={anchor:w+s,head:y+s}}return{doc:g,sel:p,from:s,to:l}}function v5(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(en&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||en&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const w5=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function b5(e,t,n,r,o){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let M=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,I=nv(e,M);if(I&&!e.state.selection.eq(I)){if(Xt&&Xn&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",L=>L(e,fi(13,"Enter"))))return;let Z=e.state.tr.setSelection(I);M=="pointer"?Z.setMeta("pointer",!0):M=="key"&&Z.scrollIntoView(),i&&Z.setMeta("composition",i),e.dispatch(Z)}return}let s=e.state.doc.resolve(t),l=s.sharedDepth(n);t=s.before(l+1),n=e.state.doc.resolve(n).after(l+1);let a=e.state.selection,c=y5(e,t,n),u=e.state.doc,d=u.slice(c.from,c.to),f,m;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,m="end"):(f=e.state.selection.from,m="start"),e.input.lastKeyCode=null;let p=k5(d.content,c.doc.content,c.from,f,m);if((pl&&e.input.lastIOSEnter>Date.now()-225||Xn)&&o.some(M=>M.nodeType==1&&!w5.test(M.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",M=>M(e,fi(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(r&&a instanceof ke&&!a.empty&&a.$head.sameParent(a.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(c.sel){let M=qw(e,e.state.doc,c.sel);if(M&&!M.eq(e.state.selection)){let I=e.state.tr.setSelection(M);i&&I.setMeta("composition",i),e.dispatch(I)}}return}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof ke&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),hn&&jo<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),w=c.doc.resolveNoCache(p.endB-c.from),y=u.resolve(p.start),v=g.sameParent(w)&&g.parent.inlineContent&&y.end()>=p.endA,b;if((pl&&e.input.lastIOSEnter>Date.now()-225&&(!v||o.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!v&&g.pos<c.doc.content.size&&!g.sameParent(w)&&(b=Oe.findFrom(c.doc.resolve(g.pos+1),1,!0))&&b.head==w.pos)&&e.someProp("handleKeyDown",M=>M(e,fi(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&S5(u,p.start,p.endA,g,w)&&e.someProp("handleKeyDown",M=>M(e,fi(8,"Backspace")))){Xn&&Xt&&e.domObserver.suppressSelectionUpdates();return}Xt&&Xn&&p.endB==p.start&&(e.input.lastAndroidDelete=Date.now()),Xn&&!v&&g.start()!=w.start()&&w.parentOffset==0&&g.depth==w.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,w=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(M){return M(e,fi(13,"Enter"))})},20));let k=p.start,E=p.endA,S,C,O;if(v){if(g.pos==w.pos)hn&&jo<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>qr(e),20)),S=e.state.tr.delete(k,E),C=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(O=x5(g.parent.content.cut(g.parentOffset,w.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))S=e.state.tr,O.type=="add"?S.addMark(k,E,O.mark):S.removeMark(k,E,O.mark);else if(g.parent.child(g.index()).isText&&g.index()==w.index()-(w.textOffset?0:1)){let M=g.parent.textBetween(g.parentOffset,w.parentOffset);if(e.someProp("handleTextInput",I=>I(e,k,E,M)))return;S=e.state.tr.insertText(M,k,E)}}if(S||(S=e.state.tr.replace(k,E,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let M=qw(e,S.doc,c.sel);M&&!(Xt&&Xn&&e.composing&&M.empty&&(p.start!=p.endB||e.input.lastAndroidDelete<Date.now()-100)&&(M.head==k||M.head==S.mapping.map(E)-1)||hn&&M.empty&&M.head==k)&&S.setSelection(M)}C&&S.ensureMarks(C),i&&S.setMeta("composition",i),e.dispatch(S.scrollIntoView())}function qw(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:rv(e,t.resolve(n.anchor),t.resolve(n.head))}function x5(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,o=n,i=r,s,l,a;for(let u=0;u<r.length;u++)o=r[u].removeFromSet(o);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(o.length==1&&i.length==0)l=o[0],s="add",a=u=>u.mark(l.addToSet(u.marks));else if(o.length==0&&i.length==1)l=i[0],s="remove",a=u=>u.mark(l.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(a(t.child(u)));if(j.from(c).eq(e))return{mark:l,type:s}}function S5(e,t,n,r,o){if(n-t<=o.pos-r.pos||sh(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==t+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(sh(i,!0,!0));return!s.parent.isTextblock||s.pos>n||sh(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function sh(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let i=e.node(r).maybeChild(e.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function k5(e,t,n,r,o){let i=e.findDiffStart(t,n);if(i==null)return null;let{a:s,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if(o=="end"){let a=Math.max(0,i-Math.min(s,l));r-=s+a-i}if(s<i&&e.size<t.size){let a=r<=i&&r>=s?i-r:0;i-=a,i&&i<t.size&&Jw(t.textBetween(i-1,i+1))&&(i+=a?1:-1),l=i+(l-s),s=i}else if(l<i){let a=r<=i&&r>=l?i-r:0;i-=a,i&&i<e.size&&Jw(e.textBetween(i-1,i+1))&&(i+=a?1:-1),s=i+(s-l),l=i}return{start:i,endA:s,endB:l}}function Jw(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class E5{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new U4,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Zw),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Xw(this),Yw(this),this.nodeViews=Qw(this),this.docView=Mw(this.state.doc,Gw(this),ih(this),this.dom,this),this.domObserver=new p5(this,(r,o,i,s)=>b5(this,r,o,i,s)),this.domObserver.start(),H4(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&dg(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Zw),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let o=this.state,i=!1,s=!1;t.storedMarks&&this.composing&&(_T(this),s=!0),this.state=t;let l=o.plugins!=t.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let m=Qw(this);T5(m,this.nodeViews)&&(this.nodeViews=m,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&dg(this),this.editable=Xw(this),Yw(this);let a=ih(this),c=Gw(this),u=o.plugins!=t.plugins&&!o.doc.eq(t.doc)?"reset":t.scrollToSelection>o.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(t.doc,c,a);(d||!t.selection.eq(o.selection))&&(s=!0);let f=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&i4(this);if(s){this.domObserver.stop();let m=d&&(hn||Xt)&&!this.composing&&!o.selection.empty&&!t.selection.empty&&C5(o.selection,t.selection);if(d){let p=Xt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=r5(this)),(i||!this.docView.update(t.doc,c,a,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=Mw(t.doc,c,a,this.dom,this)),p&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&M4(this))?qr(this,m):(ST(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,o),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&s4(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof de){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&kw(this,n.getBoundingClientRect(),t)}else kw(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(o=i)}this.dragging=new LT(t.slice,t.move,o<0?void 0:de.create(this.state.doc,o))}someProp(t,n){let r=this._props&&this._props[t],o;if(r!=null&&(o=n?n(r):r))return o;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[t];if(l!=null&&(o=n?n(l):l))return o}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let l=i[s].props[t];if(l!=null&&(o=n?n(l):l))return o}}hasFocus(){if(hn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&l4(this.dom),qr(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return f4(this,t)}coordsAtPos(t,n=1){return hT(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let o=this.docView.posFromDOM(t,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(t,n){return y4(this,n||this.state,t)}pasteHTML(t,n){return nc(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return nc(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(W4(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ih(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,qj())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return q4(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return en&&this.root.nodeType===11&&Qj(this.dom.ownerDocument)==this.dom&&m5(this,t)||t}domSelection(){return this.root.getSelection()}}function Gw(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[nr.node(0,e.state.doc.content.size,t)]}function Yw(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:nr.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Xw(e){return!e.someProp("editable",t=>t(e.state)===!1)}function C5(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function Qw(e){let t=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=r[o])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function T5(e,t){let n=0,r=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)r++;return n!=r}function Zw(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Qo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Md={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},O5=typeof navigator<"u"&&/Mac/.test(navigator.platform),R5=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var It=0;It<10;It++)Qo[48+It]=Qo[96+It]=String(It);for(var It=1;It<=24;It++)Qo[It+111]="F"+It;for(var It=65;It<=90;It++)Qo[It]=String.fromCharCode(It+32),Md[It]=String.fromCharCode(It);for(var lh in Qo)Md.hasOwnProperty(lh)||(Md[lh]=Qo[lh]);function M5(e){var t=O5&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||R5&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Md:Qo)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const D5=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function P5(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,o,i,s;for(let l=0;l<t.length-1;l++){let a=t[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))o=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))D5?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function A5(e){let t=Object.create(null);for(let n in e)t[P5(n)]=e[n];return t}function ah(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function N5(e){return new so({props:{handleKeyDown:$5(e)}})}function $5(e){let t=A5(e);return function(n,r){let o=M5(r),i,s=t[ah(o,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let l=t[ah(o,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(i=Qo[r.keyCode])&&i!=o){let l=t[ah(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const _5=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function VT(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const I5=(e,t,n)=>{let r=VT(e,n);if(!r)return!1;let o=cv(r);if(!o){let s=r.blockRange(),l=s&&Dl(s);return l==null?!1:(t&&t(e.tr.lift(s,l).scrollIntoView()),!0)}let i=o.nodeBefore;if(!i.type.spec.isolating&&KT(e,o,t))return!0;if(r.parent.content.size==0&&(hl(i,"end")||de.isSelectable(i))){let s=Af(e.doc,r.before(),r.after(),ee.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(hl(i,"end")?Oe.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):de.create(l.doc,o.pos-i.nodeSize)),t(l.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1},L5=(e,t,n)=>{let r=VT(e,n);if(!r)return!1;let o=cv(r);return o?UT(e,o,t):!1},F5=(e,t,n)=>{let r=HT(e,n);if(!r)return!1;let o=uv(r);return o?UT(e,o,t):!1};function UT(e,t,n){let r=t.nodeBefore,o=r,i=t.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let u=o.lastChild;if(!u)return!1;o=u}let s=t.nodeAfter,l=s,a=t.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let u=l.firstChild;if(!u)return!1;l=u}let c=Af(e.doc,i,a,ee.empty);if(!c||c.from!=i||c instanceof Et&&c.slice.size>=a-i)return!1;if(n){let u=e.tr.step(c);u.setSelection(ke.create(u.doc,i)),n(u.scrollIntoView())}return!0}function hl(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const j5=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=cv(r)}let s=i&&i.nodeBefore;return!s||!de.isSelectable(s)?!1:(t&&t(e.tr.setSelection(de.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function cv(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function HT(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const B5=(e,t,n)=>{let r=HT(e,n);if(!r)return!1;let o=uv(r);if(!o)return!1;let i=o.nodeAfter;if(KT(e,o,t))return!0;if(r.parent.content.size==0&&(hl(i,"start")||de.isSelectable(i))){let s=Af(e.doc,r.before(),r.after(),ee.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(hl(i,"start")?Oe.findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):de.create(l.doc,l.mapping.map(o.pos))),t(l.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},z5=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=uv(r)}let s=i&&i.nodeAfter;return!s||!de.isSelectable(s)?!1:(t&&t(e.tr.setSelection(de.create(e.doc,i.pos)).scrollIntoView()),!0)};function uv(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const V5=(e,t)=>{let n=e.selection,r=n instanceof de,o;if(r){if(n.node.isTextblock||!oi(e.doc,n.from))return!1;o=n.from}else if(o=Pf(e.doc,n.from,-1),o==null)return!1;if(t){let i=e.tr.join(o);r&&i.setSelection(de.create(i.doc,o-e.doc.resolve(o).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0},U5=(e,t)=>{let n=e.selection,r;if(n instanceof de){if(n.node.isTextblock||!oi(e.doc,n.to))return!1;r=n.to}else if(r=Pf(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},H5=(e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),i=o&&Dl(o);return i==null?!1:(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)},W5=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function WT(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const K5=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=WT(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(t){let l=n.after(),a=e.tr.replaceWith(l,l,s.createAndFill());a.setSelection(Oe.near(a.doc.resolve(l),1)),t(a.scrollIntoView())}return!0},q5=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof sr||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=WT(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,l=e.tr.insert(s,i.createAndFill());l.setSelection(ke.create(l.doc,s+1)),t(l.scrollIntoView())}return!0},J5=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Xs(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),o=r&&Dl(r);return o==null?!1:(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)},G5=(e,t)=>{let{$from:n,to:r}=e.selection,o,i=n.sharedDepth(r);return i==0?!1:(o=n.before(i),t&&t(e.tr.setSelection(de.create(e.doc,o))),!0)};function Y5(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(o.isTextblock||oi(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function KT(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i,s;if(r.type.spec.isolating||o.type.spec.isolating)return!1;if(Y5(e,t,n))return!0;let l=t.parent.canReplace(t.index(),t.index()+1);if(l&&(i=(s=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&s.matchType(i[0]||o.type).validEnd){if(n){let d=t.pos+o.nodeSize,f=j.empty;for(let g=i.length-1;g>=0;g--)f=j.from(i[g].create(null,f));f=j.from(r.copy(f));let m=e.tr.step(new Tt(t.pos-1,d,t.pos,d,new ee(f,1,0),i.length,!0)),p=d+2*i.length;oi(m.doc,p)&&m.join(p),n(m.scrollIntoView())}return!0}let a=Oe.findFrom(t,1),c=a&&a.$from.blockRange(a.$to),u=c&&Dl(c);if(u!=null&&u>=t.depth)return n&&n(e.tr.lift(c,u).scrollIntoView()),!0;if(l&&hl(o,"start",!0)&&hl(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let m=o,p=1;for(;!m.isTextblock;m=m.firstChild)p++;if(d.canReplace(d.childCount,d.childCount,m.content)){if(n){let g=j.empty;for(let y=f.length-1;y>=0;y--)g=j.from(f[y].copy(g));let w=e.tr.step(new Tt(t.pos-f.length,t.pos+o.nodeSize,t.pos+p,t.pos+o.nodeSize-p,new ee(g,f.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function qT(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(t.tr.setSelection(ke.create(t.doc,e<0?o.start(i):o.end(i)))),!0):!1}}const X5=qT(-1),Q5=qT(1);function Z5(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),l=s&&Zy(s,e,t);return l?(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function eb(e,t=null){return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(s,l,(a,c)=>{if(o)return!1;if(!(!a.isTextblock||a.hasMarkup(e,t)))if(a.type==e)o=!0;else{let u=n.doc.resolve(c),d=u.index();o=u.parent.canReplaceWith(d,d+1,e)}})}if(!o)return!1;if(r){let i=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[s];i.setBlockType(l,a,e,t)}r(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function e6(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),l=!1,a=s;if(!s)return!1;if(s.depth>=2&&o.node(s.depth-1).type.compatibleContent(e)&&s.startIndex==0){if(o.index(s.depth-1)==0)return!1;let u=n.doc.resolve(s.start-2);a=new xd(u,u,s.depth),s.endIndex<s.parent.childCount&&(s=new xd(o,n.doc.resolve(i.end(s.depth)),s.depth)),l=!0}let c=Zy(a,e,t,s);return c?(r&&r(t6(n.tr,s,c,l,e).scrollIntoView()),!0):!1}}function t6(e,t,n,r,o){let i=j.empty;for(let u=n.length-1;u>=0;u--)i=j.from(n[u].type.create(n[u].attrs,i));e.step(new Tt(t.start-(r?2:0),t.end,t.start,t.end,new ee(i,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==o&&(s=u+1);let l=n.length-s,a=t.start+n.length-(r?2:0),c=t.parent;for(let u=t.startIndex,d=t.endIndex,f=!0;u<d;u++,f=!1)!f&&Xs(e.doc,a,l)&&(e.split(a,l),a+=2*l),a+=c.child(u).nodeSize;return e}function n6(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,s=>s.childCount>0&&s.firstChild.type==e);return i?n?r.node(i.depth-1).type==e?r6(t,n,e,i):o6(t,n,i):!0:!1}}function r6(e,t,n,r){let o=e.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new Tt(i-1,s,i,s,new ee(j.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new xd(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));const l=Dl(r);if(l==null)return!1;o.lift(r,l);let a=o.mapping.map(i,-1)-1;return oi(o.doc,a)&&o.join(a),t(o.scrollIntoView()),!0}function o6(e,t,n){let r=e.tr,o=n.parent;for(let m=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)m-=o.child(p).nodeSize,r.delete(m-1,m+1);let i=r.doc.resolve(n.start),s=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==o.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(l?0:1),u+1,s.content.append(a?j.empty:j.from(o))))return!1;let d=i.pos,f=d+s.nodeSize;return r.step(new Tt(d-(l?1:0),f+(a?1:0),d+1,f-1,new ee((l?j.empty:j.from(o.copy(j.empty))).append(a?j.empty:j.from(o.copy(j.empty))),l?0:1,a?0:1),l?0:1)),t(r.scrollIntoView()),!0}function i6(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,c=>c.childCount>0&&c.firstChild.type==e);if(!i)return!1;let s=i.startIndex;if(s==0)return!1;let l=i.parent,a=l.child(s-1);if(a.type!=e)return!1;if(n){let c=a.lastChild&&a.lastChild.type==l.type,u=j.from(c?e.create():null),d=new ee(j.from(e.create(null,j.from(l.type.create(null,u)))),c?3:1,0),f=i.start,m=i.end;n(t.tr.step(new Tt(f-(c?3:1),m,f,m,d,1,!0)).scrollIntoView())}return!0}}function Lf(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}class Ff{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:i}=r,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([l,a])=>[l,(...u)=>{const d=a(...u)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:i}=this,{view:s}=o,l=[],a=!!t,c=t||i.tr,u=()=>(!a&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),l.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,m])=>[f,(...g)=>{const w=this.buildProps(c,n),y=m(...g)(w);return l.push(y),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,i=t||r.tr,s=this.buildProps(i,o);return{...Object.fromEntries(Object.entries(n).map(([a,c])=>[a,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:i}=this,{view:s}=o,l={tr:t,editor:o,view:s,state:Lf({state:i,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([a,c])=>[a,(...u)=>c(...u)(l)]))}};return l}}class s6{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(o=>o.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(o=>o!==n):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function oe(e,t,n){return e.config[t]===void 0&&e.parent?oe(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?oe(e.parent,t,n):null}):e.config[t]}function jf(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function JT(e){const t=[],{nodeExtensions:n,markExtensions:r}=jf(e),o=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage,extensions:o},a=oe(s,"addGlobalAttributes",l);if(!a)return;a().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,m])=>{t.push({type:d,name:f,attribute:{...i,...m}})})})})}),o.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=oe(s,"addAttributes",l);if(!a)return;const c=a();Object.entries(c).forEach(([u,d])=>{const f={...i,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,t.push({type:s.name,name:u,attribute:f})})}),t}function Rt(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function vt(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,i])=>{if(!r[o]){r[o]=i;return}if(o==="class"){const l=i?i.split(" "):[],a=r[o]?r[o].split(" "):[],c=l.filter(u=>!a.includes(u));r[o]=[...a,...c].join(" ")}else o==="style"?r[o]=[r[o],i].join("; "):r[o]=i}),r},{})}function fg(e,t){return t.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>vt(n,r),{})}function GT(e){return typeof e=="function"}function Te(e,t=void 0,...n){return GT(e)?t?e.bind(t)(...n):e(...n):e}function l6(e={}){return Object.keys(e).length===0&&e.constructor===Object}function a6(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function tb(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const o=t.reduce((i,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):a6(n.getAttribute(s.name));return l==null?i:{...i,[s.name]:l}},{});return{...r,...o}}}}function nb(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&l6(n)?!1:n!=null))}function c6(e,t){var n;const r=JT(e),{nodeExtensions:o,markExtensions:i}=jf(e),s=(n=o.find(c=>oe(c,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(o.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},f=e.reduce((y,v)=>{const b=oe(v,"extendNodeSchema",d);return{...y,...b?b(c):{}}},{}),m=nb({...f,content:Te(oe(c,"content",d)),marks:Te(oe(c,"marks",d)),group:Te(oe(c,"group",d)),inline:Te(oe(c,"inline",d)),atom:Te(oe(c,"atom",d)),selectable:Te(oe(c,"selectable",d)),draggable:Te(oe(c,"draggable",d)),code:Te(oe(c,"code",d)),whitespace:Te(oe(c,"whitespace",d)),defining:Te(oe(c,"defining",d)),isolating:Te(oe(c,"isolating",d)),attrs:Object.fromEntries(u.map(y=>{var v;return[y.name,{default:(v=y==null?void 0:y.attribute)===null||v===void 0?void 0:v.default}]}))}),p=Te(oe(c,"parseHTML",d));p&&(m.parseDOM=p.map(y=>tb(y,u)));const g=oe(c,"renderHTML",d);g&&(m.toDOM=y=>g({node:y,HTMLAttributes:fg(y,u)}));const w=oe(c,"renderText",d);return w&&(m.toText=w),[c.name,m]})),a=Object.fromEntries(i.map(c=>{const u=r.filter(w=>w.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},f=e.reduce((w,y)=>{const v=oe(y,"extendMarkSchema",d);return{...w,...v?v(c):{}}},{}),m=nb({...f,inclusive:Te(oe(c,"inclusive",d)),excludes:Te(oe(c,"excludes",d)),group:Te(oe(c,"group",d)),spanning:Te(oe(c,"spanning",d)),code:Te(oe(c,"code",d)),attrs:Object.fromEntries(u.map(w=>{var y;return[w.name,{default:(y=w==null?void 0:w.attribute)===null||y===void 0?void 0:y.default}]}))}),p=Te(oe(c,"parseHTML",d));p&&(m.parseDOM=p.map(w=>tb(w,u)));const g=oe(c,"renderHTML",d);return g&&(m.toDOM=w=>g({mark:w,HTMLAttributes:fg(w,u)})),[c.name,m]}));return new qC({topNode:s,nodes:l,marks:a})}function ch(e,t){return t.nodes[e]||t.marks[e]||null}function rb(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}const u6=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(o,i,s,l)=>{var a,c;const u=((c=(a=o.type.spec).toText)===null||c===void 0?void 0:c.call(a,{node:o,pos:i,parent:s,index:l}))||o.textContent||"%leaf%";n+=u.slice(0,Math.max(0,r-i))}),n};function dv(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class fv{constructor(t){this.find=t.find,this.handler=t.handler}}const d6=(e,t)=>{if(dv(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function nu(e){var t;const{editor:n,from:r,to:o,text:i,rules:s,plugin:l}=e,{view:a}=n;if(a.composing)return!1;const c=a.state.doc.resolve(r);if(c.parent.type.spec.code||!((t=c.nodeBefore||c.nodeAfter)===null||t===void 0)&&t.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=u6(c)+i;return s.forEach(f=>{if(u)return;const m=d6(d,f.find);if(!m)return;const p=a.state.tr,g=Lf({state:a.state,transaction:p}),w={from:r-(m[0].length-i.length),to:o},{commands:y,chain:v,can:b}=new Ff({editor:n,state:g});f.handler({state:g,range:w,match:m,commands:y,chain:v,can:b})===null||!p.steps.length||(p.setMeta(l,{transform:p,from:r,to:o,text:i}),a.dispatch(p),u=!0)}),u}function f6(e){const{editor:t,rules:n}=e,r=new so({state:{init(){return null},apply(o,i){const s=o.getMeta(r);if(s)return s;const l=o.getMeta("applyInputRules");return!!l&&setTimeout(()=>{const{from:c,text:u}=l,d=c+u.length;nu({editor:t,from:c,to:d,text:u,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:i}},props:{handleTextInput(o,i,s,l){return nu({editor:t,from:i,to:s,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&nu({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:s}=o.state.selection;return s?nu({editor:t,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function p6(e){return typeof e=="number"}class h6{constructor(t){this.find=t.find,this.handler=t.handler}}const m6=(e,t,n)=>{if(dv(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(o=>{const i=[o.text];return i.index=o.index,i.input=e,i.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(o.replaceWith)),i}):[]};function g6(e){const{editor:t,state:n,from:r,to:o,rule:i,pasteEvent:s,dropEvent:l}=e,{commands:a,chain:c,can:u}=new Ff({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,o,(m,p)=>{if(!m.isTextblock||m.type.spec.code)return;const g=Math.max(r,p),w=Math.min(o,p+m.content.size),y=m.textBetween(g-p,w-p,void 0,"￼");m6(y,i.find,s).forEach(b=>{if(b.index===void 0)return;const k=g+b.index+1,E=k+b[0].length,S={from:n.tr.mapping.map(k),to:n.tr.mapping.map(E)},C=i.handler({state:n,range:S,match:b,commands:a,chain:c,can:u,pasteEvent:s,dropEvent:l});d.push(C)})}),d.every(m=>m!==null)}const y6=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)===null||t===void 0||t.setData("text/html",e),n};function v6(e){const{editor:t,rules:n}=e;let r=null,o=!1,i=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l=typeof DragEvent<"u"?new DragEvent("drop"):null;const a=({state:u,from:d,to:f,rule:m,pasteEvt:p})=>{const g=u.tr,w=Lf({state:u,transaction:g});if(!(!g6({editor:t,state:w,from:Math.max(d-1,0),to:f.b-1,rule:m,pasteEvent:p,dropEvent:l})||!g.steps.length))return l=typeof DragEvent<"u"?new DragEvent("drop"):null,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return n.map(u=>new so({view(d){const f=m=>{var p;r=!((p=d.dom.parentElement)===null||p===void 0)&&p.contains(m.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(d,f)=>(i=r===d.dom.parentElement,l=f,!1),paste:(d,f)=>{var m;const p=(m=f.clipboardData)===null||m===void 0?void 0:m.getData("text/html");return s=f,o=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,m)=>{const p=d[0],g=p.getMeta("uiEvent")==="paste"&&!o,w=p.getMeta("uiEvent")==="drop"&&!i,y=p.getMeta("applyPasteRules"),v=!!y;if(!g&&!w&&!v)return;if(v){const{from:E,text:S}=y,C=E+S.length,O=y6(S);return a({rule:u,state:m,from:E,to:{b:C},pasteEvt:O})}const b=f.doc.content.findDiffStart(m.doc.content),k=f.doc.content.findDiffEnd(m.doc.content);if(!(!p6(b)||!k||b===k.b))return a({rule:u,state:m,from:b,to:k,pasteEvt:s})}}))}function w6(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return[...new Set(t)]}class js{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=js.resolve(t),this.schema=c6(this.extensions,n),this.setupExtensions()}static resolve(t){const n=js.sort(js.flatten(t)),r=w6(n.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},o=oe(n,"addExtensions",r);return o?[n,...this.flatten(o())]:n}).flat(10)}static sort(t){return t.sort((r,o)=>{const i=oe(r,"priority")||100,s=oe(o,"priority")||100;return i>s?-1:i<s?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:ch(n.name,this.schema)},o=oe(n,"addCommands",r);return o?{...t,...o()}:t},{})}get plugins(){const{editor:t}=this,n=js.sort([...this.extensions].reverse()),r=[],o=[],i=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:t,type:ch(s.name,this.schema)},a=[],c=oe(s,"addKeyboardShortcuts",l);let u={};if(s.type==="mark"&&oe(s,"exitable",l)&&(u.ArrowRight=()=>cr.handleExit({editor:t,mark:s})),c){const g=Object.fromEntries(Object.entries(c()).map(([w,y])=>[w,()=>y({editor:t})]));u={...u,...g}}const d=N5(u);a.push(d);const f=oe(s,"addInputRules",l);rb(s,t.options.enableInputRules)&&f&&r.push(...f());const m=oe(s,"addPasteRules",l);rb(s,t.options.enablePasteRules)&&m&&o.push(...m());const p=oe(s,"addProseMirrorPlugins",l);if(p){const g=p();a.push(...g)}return a}).flat();return[f6({editor:t,rules:r}),...v6({editor:t,rules:o}),...i]}get attributes(){return JT(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=jf(this.extensions);return Object.fromEntries(n.filter(r=>!!oe(r,"addNodeView")).map(r=>{const o=this.attributes.filter(a=>a.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:t,type:Rt(r.name,this.schema)},s=oe(r,"addNodeView",i);if(!s)return[];const l=(a,c,u,d)=>{const f=fg(a,o);return s()({editor:t,node:a,getPos:u,decorations:d,HTMLAttributes:f,extension:r})};return[r.name,l]}))}setupExtensions(){this.extensions.forEach(t=>{var n;this.editor.extensionStorage[t.name]=t.storage;const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:ch(t.name,this.schema)};t.type==="mark"&&(!((n=Te(oe(t,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(t.name);const o=oe(t,"onBeforeCreate",r),i=oe(t,"onCreate",r),s=oe(t,"onUpdate",r),l=oe(t,"onSelectionUpdate",r),a=oe(t,"onTransaction",r),c=oe(t,"onFocus",r),u=oe(t,"onBlur",r),d=oe(t,"onDestroy",r);o&&this.editor.on("beforeCreate",o),i&&this.editor.on("create",i),s&&this.editor.on("update",s),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}function b6(e){return Object.prototype.toString.call(e).slice(8,-1)}function ru(e){return b6(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Bf(e,t){const n={...e};return ru(e)&&ru(t)&&Object.keys(t).forEach(r=>{ru(t[r])&&ru(e[r])?n[r]=Bf(e[r],t[r]):n[r]=t[r]}),n}class $r{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Te(oe(this,"addOptions",{name:this.name}))),this.storage=Te(oe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new $r(t)}configure(t={}){const n=this.extend({...this.config,addOptions(){var r;return Bf(((r=this.parent)===null||r===void 0?void 0:r.call(this))||{},t)}});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new $r({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Te(oe(n,"addOptions",{name:n.name})),n.storage=Te(oe(n,"addStorage",{name:n.name,options:n.options})),n}}function YT(e,t,n){const{from:r,to:o}=t,{blockSeparator:i=`

`,textSerializers:s={}}=n||{};let l="";return e.nodesBetween(r,o,(a,c,u,d)=>{var f;a.isBlock&&c>r&&(l+=i);const m=s==null?void 0:s[a.type.name];if(m)return u&&(l+=m({node:a,pos:c,parent:u,index:d,range:t})),!1;a.isText&&(l+=(f=a==null?void 0:a.text)===null||f===void 0?void 0:f.slice(Math.max(r,c)-c,o-c))}),l}function XT(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const x6=$r.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new so({key:new rs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:i}=o,s=Math.min(...i.map(u=>u.$from.pos)),l=Math.max(...i.map(u=>u.$to.pos)),a=XT(n);return YT(r,{from:s,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),S6=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),k6=(e=!1)=>({commands:t})=>t.setContent("",e),E6=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:i,$to:s})=>{e.doc.nodesBetween(i.pos,s.pos,(l,a)=>{if(l.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(a)),f=c.resolve(u.map(a+l.nodeSize)),m=d.blockRange(f);if(!m)return;const p=Dl(m);if(l.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(m.start,g)}(p||p===0)&&t.lift(m,p)})}),!0},C6=e=>t=>e(t),T6=()=>({state:e,dispatch:t})=>q5(e,t),O6=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,i=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const s=r.mapping.map(t);return r.insert(s,i.content),r.setSelection(new ke(r.doc.resolve(s-1))),!0},R6=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===r.type){if(t){const l=o.before(i),a=o.after(i);e.delete(l,a).scrollIntoView()}return!0}return!1},M6=e=>({tr:t,state:n,dispatch:r})=>{const o=Rt(e,n.schema),i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===o){if(r){const a=i.before(s),c=i.after(s);t.delete(a,c).scrollIntoView()}return!0}return!1},D6=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},P6=()=>({state:e,dispatch:t})=>_5(e,t),A6=()=>({commands:e})=>e.keyboardShortcut("Enter"),N6=()=>({state:e,dispatch:t})=>K5(e,t);function Dd(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:dv(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function pg(e,t,n={}){return e.find(r=>r.type===t&&Dd(r.attrs,n))}function $6(e,t,n={}){return!!pg(e,t,n)}function pv(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&r.offset!==0&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const o=pg([...r.node.marks],t,n);if(!o)return;let i=r.index,s=e.start()+r.offset,l=i+1,a=s+r.node.nodeSize;for(pg([...r.node.marks],t,n);i>0&&o.isInSet(e.parent.child(i-1).marks);)i-=1,s-=e.parent.child(i).nodeSize;for(;l<e.parent.childCount&&$6([...e.parent.child(l).marks],t,n);)a+=e.parent.child(l).nodeSize,l+=1;return{from:s,to:a}}function si(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const _6=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const i=si(e,r.schema),{doc:s,selection:l}=n,{$from:a,from:c,to:u}=l;if(o){const d=pv(a,i,t);if(d&&d.from<=c&&d.to>=u){const f=ke.create(s,d.from,d.to);n.setSelection(f)}}return!0},I6=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function QT(e){return e instanceof ke}function ki(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function ZT(e,t=null){if(!t)return null;const n=Oe.atStart(e),r=Oe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,i=r.to;return t==="all"?ke.create(e,ki(0,o,i),ki(e.content.size,o,i)):ke.create(e,ki(t,o,i),ki(t,o,i))}function hv(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const L6=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:i})=>{t={scrollIntoView:!0,...t};const s=()=>{hv()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(i&&e===null&&!QT(n.state.selection))return s(),!0;const l=ZT(o.doc,e)||n.state.selection,a=n.state.selection.eq(l);return i&&(a||o.setSelection(l),a&&o.storedMarks&&o.setStoredMarks(o.storedMarks),s()),!0},F6=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),j6=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),eO=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&eO(r)}return e};function ob(e){const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return eO(n)}function Pd(e,t,n){n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{return Array.isArray(e)&&e.length>0?j.fromArray(e.map(s=>t.nodeFromJSON(s))):t.nodeFromJSON(e)}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",i),Pd("",t,n)}if(o){let i=t,s=!1,l="";n.errorOnInvalidContent&&(i=new qC({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(s=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})}));const a=ul.fromSchema(i),c=n.slice?a.parseSlice(ob(e),n.parseOptions).content:a.parse(ob(e),n.parseOptions);if(n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)});return c}return Pd("",t,n)}function B6(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof Et||o instanceof Tt))return;const i=e.mapping.maps[r];let s=0;i.forEach((l,a,c,u)=>{s===0&&(s=u)}),e.setSelection(Oe.near(e.doc.resolve(s),n))}const z6=e=>!("type"in e),V6=(e,t,n)=>({tr:r,dispatch:o,editor:i})=>{var s;if(o){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;try{l=Pd(t,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:i.options.enableContentCheck})}catch{return!1}let{from:a,to:c}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},u=!0,d=!0;if((z6(l)?l:[l]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),a===c&&d){const{parent:p}=r.doc.resolve(a);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(a-=1,c+=1)}let m;u?(Array.isArray(t)?m=t.map(p=>p.text||"").join(""):typeof t=="object"&&t&&t.text?m=t.text:m=t,r.insertText(m,a,c)):(m=l,r.replaceWith(a,c,m)),n.updateSelection&&B6(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:a,text:m}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:a,text:m})}return!0},U6=()=>({state:e,dispatch:t})=>V5(e,t),H6=()=>({state:e,dispatch:t})=>U5(e,t),W6=()=>({state:e,dispatch:t})=>I5(e,t),K6=()=>({state:e,dispatch:t})=>B5(e,t),q6=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Pf(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},J6=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Pf(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},G6=()=>({state:e,dispatch:t})=>L5(e,t),Y6=()=>({state:e,dispatch:t})=>F5(e,t);function mv(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function X6(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,i,s;for(let l=0;l<t.length-1;l+=1){const a=t[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))o=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))hv()||mv()?s=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const Q6=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const i=X6(e).split(/-(?!$)/),s=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),a=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,l))});return a==null||a.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function oc(e,t,n={}){const{from:r,to:o,empty:i}=e.selection,s=t?Rt(t,e.schema):null,l=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const m=Math.max(r,f),p=Math.min(o,f+d.nodeSize);l.push({node:d,from:m,to:p})});const a=o-r,c=l.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>Dd(d.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=a}const Z6=(e,t={})=>({state:n,dispatch:r})=>{const o=Rt(e,n.schema);return oc(n,o,t)?H5(n,r):!1},eB=()=>({state:e,dispatch:t})=>J5(e,t),tB=e=>({state:t,dispatch:n})=>{const r=Rt(e,t.schema);return n6(r)(t,n)},nB=()=>({state:e,dispatch:t})=>W5(e,t);function zf(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function ib(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}const rB=(e,t)=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const l=zf(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(i=Rt(e,r.schema)),l==="mark"&&(s=si(e,r.schema)),o&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(c,u)=>{i&&i===c.type&&n.setNodeMarkup(u,void 0,ib(c.attrs,t)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&n.addMark(u,u+c.nodeSize,s.create(ib(d.attrs,t)))})})}),!0):!1},oB=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),iB=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),sB=()=>({state:e,dispatch:t})=>j5(e,t),lB=()=>({state:e,dispatch:t})=>z5(e,t),aB=()=>({state:e,dispatch:t})=>G5(e,t),cB=()=>({state:e,dispatch:t})=>Q5(e,t),uB=()=>({state:e,dispatch:t})=>X5(e,t);function hg(e,t,n={},r={}){return Pd(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const dB=(e,t=!1,n={},r={})=>({editor:o,tr:i,dispatch:s,commands:l})=>{var a,c;const{doc:u}=i;if(n.preserveWhitespace!=="full"){const d=hg(e,o.schema,n,{errorOnInvalidContent:(a=r.errorOnInvalidContent)!==null&&a!==void 0?a:o.options.enableContentCheck});return s&&i.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!t),!0}return s&&i.setMeta("preventUpdate",!t),l.insertContentAt({from:0,to:u.content.size},e,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:o.options.enableContentCheck})};function Vf(e,t){const n=si(t,e.schema),{from:r,to:o,empty:i}=e.selection,s=[];i?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,a=>{s.push(...a.marks)});const l=s.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function fB(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function pB(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function gv(e){return t=>pB(t.$from,e)}function hB(e,t){const n=ns.fromSchema(t).serializeFragment(e),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function mB(e,t){const n={from:0,to:e.content.size};return YT(e,n,t)}function gB(e,t){const n=Rt(t,e.schema),{from:r,to:o}=e.selection,i=[];e.doc.nodesBetween(r,o,l=>{i.push(l)});const s=i.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function yB(e,t){const n=zf(typeof t=="string"?t:t.name,e.schema);return n==="node"?gB(e,t):n==="mark"?Vf(e,t):{}}function tO(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(o=>{const i=n.resolve(e-1),s=pv(i,o.type);s&&r.push({mark:o,...s})}):n.nodesBetween(e,t,(o,i)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(s=>({from:i,to:i+o.nodeSize,mark:s})))}),r}function Du(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(i=>i.type===t&&i.name===r);return o?o.attribute.keepOnSplit:!1}))}function mg(e,t,n={}){const{empty:r,ranges:o}=e.selection,i=t?si(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>Dd(d.attrs,n,{strict:!1}));let s=0;const l=[];if(o.forEach(({$from:d,$to:f})=>{const m=d.pos,p=f.pos;e.doc.nodesBetween(m,p,(g,w)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(m,w),v=Math.min(p,w+g.nodeSize),b=v-y;s+=b,l.push(...g.marks.map(k=>({mark:k,from:y,to:v})))})}),s===0)return!1;const a=l.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>Dd(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=l.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,f)=>d+f.to-f.from,0);return(a>0?a+c:a)>=s}function vB(e,t,n={}){if(!t)return oc(e,null,n)||mg(e,null,n);const r=zf(t,e.schema);return r==="node"?oc(e,t,n):r==="mark"?mg(e,t,n):!1}function sb(e,t){const{nodeExtensions:n}=jf(t),r=n.find(s=>s.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},i=Te(oe(r,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}function wB(e){const t=e.type.createAndFill();return t?e.eq(t):!1}function bB(e,t,n){var r;const{selection:o}=t;let i=null;if(QT(o)&&(i=o.$cursor),i){const l=(r=e.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:s}=o;return s.some(({$from:l,$to:a})=>{let c=l.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(l.pos,a.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const m=!f||f.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=m&&p}return!c}),c})}const xB=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:s,ranges:l}=i,a=si(e,r.schema);if(o)if(s){const c=Vf(r,a);n.addStoredMark(a.create({...c,...t}))}else l.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,m)=>{const p=Math.max(m,u),g=Math.min(m+f.nodeSize,d);f.marks.find(y=>y.type===a)?f.marks.forEach(y=>{a===y.type&&n.addMark(p,g,a.create({...y.attrs,...t}))}):n.addMark(p,g,a.create(t))})});return bB(r,n,a)},SB=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),kB=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const i=Rt(e,n.schema);return i.isTextblock?o().command(({commands:s})=>eb(i,t)(n)?!0:s.clearNodes()).command(({state:s})=>eb(i,t)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},EB=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=ki(e,0,r.content.size),i=de.create(r,o);t.setSelection(i)}return!0},CB=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:i}=typeof e=="number"?{from:e,to:e}:e,s=ke.atStart(r).from,l=ke.atEnd(r).to,a=ki(o,s,l),c=ki(i,s,l),u=ke.create(r,a,c);t.setSelection(u)}return!0},TB=e=>({state:t,dispatch:n})=>{const r=Rt(e,t.schema);return i6(r)(t,n)};function lb(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t==null?void 0:t.includes(o.type.name));e.tr.ensureMarks(r)}}const OB=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:s}=t,{$from:l,$to:a}=i,c=o.extensionManager.attributes,u=Du(c,l.node().type.name,l.node().attrs);if(i instanceof de&&i.node.isBlock)return!l.parentOffset||!Xs(s,l.pos)?!1:(r&&(e&&lb(n,o.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const d=a.parentOffset===a.parent.content.size;i instanceof ke&&t.deleteSelection();const f=l.depth===0?void 0:fB(l.node(-1).contentMatchAt(l.indexAfter(-1)));let m=d&&f?[{type:f,attrs:u}]:void 0,p=Xs(t.doc,t.mapping.map(l.pos),1,m);if(!m&&!p&&Xs(t.doc,t.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(p=!0,m=f?[{type:f,attrs:u}]:void 0),p&&(t.split(t.mapping.map(l.pos),1,m),f&&!d&&!l.parentOffset&&l.parent.type!==f)){const g=t.mapping.map(l.before()),w=t.doc.resolve(g);l.node(-1).canReplaceWith(w.index(),w.index()+1,f)&&t.setNodeMarkup(t.mapping.map(l.before()),f)}e&&lb(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return!0},RB=e=>({tr:t,state:n,dispatch:r,editor:o})=>{var i;const s=Rt(e,n.schema),{$from:l,$to:a}=n.selection,c=n.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(a))return!1;const u=l.node(-1);if(u.type!==s)return!1;const d=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let w=j.empty;const y=l.index(-1)?1:l.index(-2)?2:3;for(let C=l.depth-y;C>=l.depth-3;C-=1)w=j.from(l.node(C).copy(w));const v=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,b=Du(d,l.node().type.name,l.node().attrs),k=((i=s.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(b))||void 0;w=w.append(j.from(s.createAndFill(null,k)||void 0));const E=l.before(l.depth-(y-1));t.replace(E,l.after(-v),new ee(w,4-y,0));let S=-1;t.doc.nodesBetween(E,t.doc.content.size,(C,O)=>{if(S>-1)return!1;C.isTextblock&&C.content.size===0&&(S=O+1)}),S>-1&&t.setSelection(ke.near(t.doc.resolve(S))),t.scrollIntoView()}return!0}const f=a.pos===l.end()?u.contentMatchAt(0).defaultType:null,m=Du(d,u.type.name,u.attrs),p=Du(d,l.node().type.name,l.node().attrs);t.delete(l.pos,a.pos);const g=f?[{type:s,attrs:m},{type:f,attrs:p}]:[{type:s,attrs:m}];if(!Xs(t.doc,l.pos,2))return!1;if(r){const{selection:w,storedMarks:y}=n,{splittableMarks:v}=o.extensionManager,b=y||w.$to.parentOffset&&w.$from.marks();if(t.split(l.pos,2,g).scrollIntoView(),!b||!r)return!0;const k=b.filter(E=>v.includes(E.type.name));t.ensureMarks(k)}return!0},uh=(e,t)=>{const n=gv(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&oi(e.doc,n.pos)&&e.join(n.pos),!0},dh=(e,t)=>{const n=gv(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&oi(e.doc,r)&&e.join(r),!0},MB=(e,t,n,r={})=>({editor:o,tr:i,state:s,dispatch:l,chain:a,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,m=Rt(e,s.schema),p=Rt(t,s.schema),{selection:g,storedMarks:w}=s,{$from:y,$to:v}=g,b=y.blockRange(v),k=w||g.$to.parentOffset&&g.$from.marks();if(!b)return!1;const E=gv(S=>sb(S.type.name,d))(g);if(b.depth>=1&&E&&b.depth-E.depth<=1){if(E.node.type===m)return c.liftListItem(p);if(sb(E.node.type.name,d)&&m.validContent(E.node.content)&&l)return a().command(()=>(i.setNodeMarkup(E.pos,m),!0)).command(()=>uh(i,m)).command(()=>dh(i,m)).run()}return!n||!k||!l?a().command(()=>u().wrapInList(m,r)?!0:c.clearNodes()).wrapInList(m,r).command(()=>uh(i,m)).command(()=>dh(i,m)).run():a().command(()=>{const S=u().wrapInList(m,r),C=k.filter(O=>f.includes(O.type.name));return i.ensureMarks(C),S?!0:c.clearNodes()}).wrapInList(m,r).command(()=>uh(i,m)).command(()=>dh(i,m)).run()},DB=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,s=si(e,r.schema);return mg(r,s,t)?o.unsetMark(s,{extendEmptyMarkRange:i}):o.setMark(s,t)},PB=(e,t,n={})=>({state:r,commands:o})=>{const i=Rt(e,r.schema),s=Rt(t,r.schema);return oc(r,i,n)?o.setNode(s):o.setNode(i,n)},AB=(e,t={})=>({state:n,commands:r})=>{const o=Rt(e,n.schema);return oc(n,o,t)?r.lift(o):r.wrapIn(o,t)},NB=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){const s=e.tr,l=i.transform;for(let a=l.steps.length-1;a>=0;a-=1)s.step(l.steps[a].invert(l.docs[a]));if(i.text){const a=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,e.schema.text(i.text,a))}else s.delete(i.from,i.to)}return!0}}return!1},$B=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(i=>{e.removeMark(i.$from.pos,i.$to.pos)}),!0},_B=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:s=!1}=t,{selection:l}=n,a=si(e,r.schema),{$from:c,empty:u,ranges:d}=l;if(!o)return!0;if(u&&s){let{from:f,to:m}=l;const p=(i=c.marks().find(w=>w.type===a))===null||i===void 0?void 0:i.attrs,g=pv(c,a,p);g&&(f=g.from,m=g.to),n.removeMark(f,m,a)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,a)});return n.removeStoredMark(a),!0},IB=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const l=zf(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(i=Rt(e,r.schema)),l==="mark"&&(s=si(e,r.schema)),o&&n.selection.ranges.forEach(a=>{const c=a.$from.pos,u=a.$to.pos;r.doc.nodesBetween(c,u,(d,f)=>{i&&i===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...t}),s&&d.marks.length&&d.marks.forEach(m=>{if(s===m.type){const p=Math.max(f,c),g=Math.min(f+d.nodeSize,u);n.addMark(p,g,s.create({...m.attrs,...t}))}})})}),!0):!1},LB=(e,t={})=>({state:n,dispatch:r})=>{const o=Rt(e,n.schema);return Z5(o,t)(n,r)},FB=(e,t={})=>({state:n,dispatch:r})=>{const o=Rt(e,n.schema);return e6(o,t)(n,r)};var jB=Object.freeze({__proto__:null,blur:S6,clearContent:k6,clearNodes:E6,command:C6,createParagraphNear:T6,cut:O6,deleteCurrentNode:R6,deleteNode:M6,deleteRange:D6,deleteSelection:P6,enter:A6,exitCode:N6,extendMarkRange:_6,first:I6,focus:L6,forEach:F6,insertContent:j6,insertContentAt:V6,joinBackward:W6,joinDown:H6,joinForward:K6,joinItemBackward:q6,joinItemForward:J6,joinTextblockBackward:G6,joinTextblockForward:Y6,joinUp:U6,keyboardShortcut:Q6,lift:Z6,liftEmptyBlock:eB,liftListItem:tB,newlineInCode:nB,resetAttributes:rB,scrollIntoView:oB,selectAll:iB,selectNodeBackward:sB,selectNodeForward:lB,selectParentNode:aB,selectTextblockEnd:cB,selectTextblockStart:uB,setContent:dB,setMark:xB,setMeta:SB,setNode:kB,setNodeSelection:EB,setTextSelection:CB,sinkListItem:TB,splitBlock:OB,splitListItem:RB,toggleList:MB,toggleMark:DB,toggleNode:PB,toggleWrap:AB,undoInputRule:NB,unsetAllMarks:$B,unsetMark:_B,updateAttributes:IB,wrapIn:LB,wrapInList:FB});const BB=$r.create({name:"commands",addCommands(){return{...jB}}}),zB=$r.create({name:"editable",addProseMirrorPlugins(){return[new so({key:new rs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),VB=$r.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new so({key:new rs("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),UB=$r.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:a,doc:c}=l,{empty:u,$anchor:d}=a,{pos:f,parent:m}=d,p=d.parent.isTextblock&&f>0?l.doc.resolve(f-1):d,g=p.parent.type.spec.isolating,w=d.pos-d.parentOffset,y=g&&p.parent.childCount===1?w===d.pos:Oe.atStart(c).from===f;return!u||!m.type.isTextblock||m.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},i={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return hv()||mv()?i:o},addProseMirrorPlugins(){return[new so({key:new rs("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some(p=>p.docChanged)&&!t.doc.eq(n.doc)))return;const{empty:o,from:i,to:s}=t.selection,l=Oe.atStart(t.doc).from,a=Oe.atEnd(t.doc).to;if(o||!(i===l&&s===a)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const d=n.tr,f=Lf({state:n,transaction:d}),{commands:m}=new Ff({editor:this.editor,state:f});if(m.clearNodes(),!!d.steps.length)return d}})]}}),HB=$r.create({name:"tabindex",addProseMirrorPlugins(){return[new so({key:new rs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class pi{get name(){return this.node.type.name}constructor(t,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new pi(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new pi(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new pi(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,i=this.pos+r+1,s=this.resolvedPos.doc.resolve(i);if(!o&&s.depth<=this.depth)return;const l=new pi(s,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),t.push(new pi(s,this.editor,o,o?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===t)if(Object.keys(n).length>0){const i=o.node.attrs,s=Object.keys(n);for(let l=0;l<s.length;l+=1){const a=s[l];if(i[a]!==n[a])break}}else r=o;o=o.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const i=Object.keys(n);return this.children.forEach(s=>{r&&o.length>0||(s.node.type.name===t&&i.every(a=>n[a]===s.node.attrs[a])&&o.push(s),!(r&&o.length>0)&&(o=o.concat(s.querySelectorAll(t,n,r))))}),o}setAttribute(t){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,t).setTextSelection(n.from).run()}}const WB=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function KB(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style",""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}let qB=class extends s6{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n}},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=KB(WB,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const r=GT(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],o=this.state.reconfigure({plugins:r});this.view.updateState(o)}unregisterPlugin(t){if(this.isDestroyed)return;const n=typeof t=="string"?`${t}$`:t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(o=>!o.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){var t,n;const o=[...this.options.enableCoreExtensions?[zB,x6.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)===null||t===void 0?void 0:t.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),BB,VB,UB,HB]:[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new js(o,this)}createCommandManager(){this.commandManager=new Ff({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let t;try{t=hg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(i){if(!(i instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(i.message))throw i;this.emit("contentError",{editor:this,error:i,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter(s=>s.name!=="collaboration"),this.createExtensionManager()}}),t=hg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=ZT(t,this.options.autofocus);this.view=new E5(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Fs.create({doc:t,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(t),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=t.getMeta("focus"),i=t.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:t}),i&&this.emit("blur",{editor:this,event:i.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return yB(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,o=typeof t=="string"?n:t;return vB(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return hB(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return mB(this.state.doc,{blockSeparator:n,textSerializers:{...XT(this.schema),...r}})}get isEmpty(){return wB(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(t,n))||null}$nodes(t,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new pi(n,this)}get $doc(){return this.$pos(0)}};function ml(e){return new fv({find:e.find,handler:({state:t,range:n,match:r})=>{const o=Te(e.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:i}=t,s=r[r.length-1],l=r[0];if(s){const a=l.search(/\S/),c=n.from+l.indexOf(s),u=c+s.length;if(tO(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(g=>g===e.type&&g!==m.mark.type)).filter(m=>m.to>c).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+a,c);const f=n.from+a+s.length;i.addMark(n.from+a,f,e.type.create(o||{})),i.removeStoredMark(e.type)}}})}function JB(e){return new fv({find:e.find,handler:({state:t,range:n,match:r})=>{const o=t.doc.resolve(n.from),i=Te(e.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)}})}function ic(e){return new fv({find:e.find,handler:({state:t,range:n,match:r,chain:o})=>{const i=Te(e.getAttributes,void 0,r)||{},s=t.tr.delete(n.from,n.to),a=s.doc.resolve(n.from).blockRange(),c=a&&Zy(a,e.type,i);if(!c)return null;if(s.wrap(a,c),e.keepMarks&&e.editor){const{selection:d,storedMarks:f}=t,{splittableMarks:m}=e.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){const g=p.filter(w=>m.includes(w.type.name));s.ensureMarks(g)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(d,i).run()}const u=s.doc.resolve(n.from-1).nodeBefore;u&&u.type===e.type&&oi(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,u))&&s.join(n.from-1)}})}class cr{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Te(oe(this,"addOptions",{name:this.name}))),this.storage=Te(oe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new cr(t)}configure(t={}){const n=this.extend({...this.config,addOptions(){var r;return Bf(((r=this.parent)===null||r===void 0?void 0:r.call(this))||{},t)}});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new cr(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Te(oe(n,"addOptions",{name:n.name})),n.storage=Te(oe(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const s=o.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const a=s.find(c=>(c==null?void 0:c.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}}let pr=class gg{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Te(oe(this,"addOptions",{name:this.name}))),this.storage=Te(oe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new gg(t)}configure(t={}){const n=this.extend({...this.config,addOptions(){var r;return Bf(((r=this.parent)===null||r===void 0?void 0:r.call(this))||{},t)}});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new gg(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Te(oe(n,"addOptions",{name:n.name})),n.storage=Te(oe(n,"addStorage",{name:n.name,options:n.options})),n}};function gl(e){return new h6({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const i=Te(e.getAttributes,void 0,r,o);if(i===!1||i===null)return null;const{tr:s}=t,l=r[r.length-1],a=r[0];let c=n.to;if(l){const u=a.search(/\S/),d=n.from+a.indexOf(l),f=d+l.length;if(tO(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(w=>w===e.type&&w!==p.mark.type)).filter(p=>p.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+u,d),c=n.from+u+l.length,s.addMark(n.from+u,c,e.type.create(i||{})),s.removeStoredMark(e.type)}}})}const GB=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},YB=({renderers:e})=>J.createElement(J.Fragment,null,Object.entries(e).map(([t,n])=>sf.createPortal(n.reactElement,n.element,t)));class XB extends J.Component{constructor(t){super(t),this.editorContentRef=J.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:t}=this.props;if(t&&t.options.element){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.options.element.childNodes),t.setOptions({element:n}),t.contentComponent=this,t.createNodeViews(),this.initialized=!0}}maybeFlushSync(t){this.initialized?ur.flushSync(t):t()}setRenderer(t,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[t]:n}}))})}removeRenderer(t){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[t],{renderers:r}})})}componentWillUnmount(){const{editor:t}=this.props;if(!t||(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),t.contentComponent=null,!t.options.element.firstChild))return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){const{editor:t,innerRef:n,...r}=this.props;return J.createElement(J.Fragment,null,J.createElement("div",{ref:GB(n,this.editorContentRef),...r}),J.createElement(YB,{renderers:this.state.renderers}))}}const QB=h.forwardRef((e,t)=>{const n=J.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return J.createElement(XB,{key:n,innerRef:t,...e})}),ZB=J.memo(QB);class ez extends qB{constructor(){super(...arguments),this.contentComponent=null}}const tz=(e={},t=[])=>{const n=h.useRef(null),[,r]=h.useState({}),{onBeforeCreate:o,onBlur:i,onCreate:s,onDestroy:l,onFocus:a,onSelectionUpdate:c,onTransaction:u,onUpdate:d}=e,f=h.useRef(o),m=h.useRef(i),p=h.useRef(s),g=h.useRef(l),w=h.useRef(a),y=h.useRef(c),v=h.useRef(u),b=h.useRef(d);return h.useEffect(()=>{n.current&&(o&&(n.current.off("beforeCreate",f.current),n.current.on("beforeCreate",o),f.current=o),i&&(n.current.off("blur",m.current),n.current.on("blur",i),m.current=i),s&&(n.current.off("create",p.current),n.current.on("create",s),p.current=s),l&&(n.current.off("destroy",g.current),n.current.on("destroy",l),g.current=l),a&&(n.current.off("focus",w.current),n.current.on("focus",a),w.current=a),c&&(n.current.off("selectionUpdate",y.current),n.current.on("selectionUpdate",c),y.current=c),u&&(n.current.off("transaction",v.current),n.current.on("transaction",u),v.current=u),d&&(n.current.off("update",b.current),n.current.on("update",d),b.current=d))},[o,i,s,l,a,c,u,d,n.current]),h.useEffect(()=>{let k=!0;const E=new ez(e);return n.current=E,n.current.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{k&&r({})})})}),()=>{k=!1,E.destroy()}},t),n.current},nz=h.createContext({editor:null});nz.Consumer;const rz=h.createContext({onDragStart:void 0}),oz=()=>h.useContext(rz);J.forwardRef((e,t)=>{const{onDragStart:n}=oz(),r=e.as||"div";return J.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});const iz=pr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",vt(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),sz=pr.create({name:"doc",topNode:!0,content:"block+"}),lz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,az=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,cz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,uz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,dz=cr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",vt(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ml({find:lz,type:this.type}),ml({find:cz,type:this.type})]},addPasteRules(){return[gl({find:az,type:this.type}),gl({find:uz,type:this.type})]}}),fz=pr.create({name:"text",group:"inline"}),pz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,hz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,mz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,gz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,yz=cr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",vt(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ml({find:pz,type:this.type}),ml({find:mz,type:this.type})]},addPasteRules(){return[gl({find:hz,type:this.type}),gl({find:gz,type:this.type})]}}),vz=cr.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",vt(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),wz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,bz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,xz=cr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",vt(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){const e={};return mv()?e["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():e["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),e},addInputRules(){return[ml({find:wz,type:this.type})]},addPasteRules(){return[gl({find:bz,type:this.type})]}}),Sz=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,kz=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Ez=cr.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",vt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[ml({find:Sz,type:this.type})]},addPasteRules(){return[gl({find:kz,type:this.type})]}}),Cz=pr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",vt(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ab=cr.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",vt(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=Vf(e,this.type);return Object.entries(n).some(([,o])=>!!o)?!0:t.unsetMark(this.name)}}}}),cb=/^\s*([-+*])\s$/,Tz=pr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",vt(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Cz.name,this.editor.getAttributes(ab.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=ic({find:cb,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=ic({find:cb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(ab.name),editor:this.editor})),[e]}}),Oz=pr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",vt(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ub=cr.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",vt(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=Vf(e,this.type);return Object.entries(n).some(([,o])=>!!o)?!0:t.unsetMark(this.name)}}}}),db=/^(\d+)\.\s$/,Rz=pr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",vt(this.options.HTMLAttributes,n),0]:["ol",vt(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Oz.name,this.editor.getAttributes(ub.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=ic({find:db,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=ic({find:db,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(ub.name)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),Mz=pr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",vt(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});var Ad=200,Ot=function(){};Ot.prototype.append=function(t){return t.length?(t=Ot.from(t),!this.length&&t||t.length<Ad&&this.leafAppend(t)||this.length<Ad&&t.leafPrepend(this)||this.appendInner(t)):this};Ot.prototype.prepend=function(t){return t.length?Ot.from(t).append(this):this};Ot.prototype.appendInner=function(t){return new Dz(this,t)};Ot.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Ot.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Ot.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Ot.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Ot.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(i,s){return o.push(t(i,s))},n,r),o};Ot.from=function(t){return t instanceof Ot?t:t&&t.length?new nO(t):Ot.empty};var nO=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new t(this.values.slice(o,i))},t.prototype.getInner=function(o){return this.values[o]},t.prototype.forEachInner=function(o,i,s,l){for(var a=i;a<s;a++)if(o(this.values[a],l+a)===!1)return!1},t.prototype.forEachInvertedInner=function(o,i,s,l){for(var a=i-1;a>=s;a--)if(o(this.values[a],l+a)===!1)return!1},t.prototype.leafAppend=function(o){if(this.length+o.length<=Ad)return new t(this.values.concat(o.flatten()))},t.prototype.leafPrepend=function(o){if(this.length+o.length<=Ad)return new t(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Ot);Ot.empty=new nO([]);var Dz=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,o,i,s){var l=this.left.length;if(o<l&&this.left.forEachInner(r,o,Math.min(i,l),s)===!1||i>l&&this.right.forEachInner(r,Math.max(o-l,0),Math.min(this.length,i)-l,s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,i,s){var l=this.left.length;if(o>l&&this.right.forEachInvertedInner(r,o-l,Math.max(i,l)-l,s+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(o,l),i,s)===!1)return!1},t.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(r,o):r>=i?this.right.slice(r-i,o-i):this.left.slice(r,i).append(this.right.slice(0,o-i))},t.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new t(this.left,o)},t.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new t(o,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Ot);const Pz=500;class er{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,i;n&&(o=this.remapping(r,this.items.length),i=o.maps.length);let s=t.tr,l,a,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){o||(o=this.remapping(r,f+1),i=o.maps.length),i--,u.push(d);return}if(o){u.push(new xr(d.map));let m=d.step.map(o.slice(i)),p;m&&s.maybeStep(m).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],c.push(new xr(p,void 0,void 0,c.length+u.length))),i--,p&&o.appendMap(p,i)}else s.maybeStep(d.step);if(d.selection)return l=o?d.selection.map(o.slice(i)):d.selection,a=new er(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(t,n,r,o){let i=[],s=this.eventCount,l=this.items,a=!o&&l.length?l.get(l.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),f=new xr(t.mapping.maps[u],d,n),m;(m=a&&a.merge(f))&&(f=m,u?i.pop():l=l.slice(0,l.length-1)),i.push(f),n&&(s++,n=void 0),o||(a=f)}let c=s-r.depth;return c>Nz&&(l=Az(l,c),s-=c),new er(l.append(i),s)}remapping(t,n){let r=new Ys;return this.items.forEach((o,i)=>{let s=o.mirrorOffset!=null&&i-o.mirrorOffset>=t?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,s)},t,n),r}addMaps(t){return this.eventCount==0?this:new er(this.items.append(t.map(n=>new xr(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),i=t.mapping,s=t.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},o);let a=n;this.items.forEach(f=>{let m=i.getMirror(--a);if(m==null)return;s=Math.min(s,m);let p=i.maps[m];if(f.step){let g=t.steps[m].invert(t.docs[m]),w=f.selection&&f.selection.map(i.slice(a+1,m));w&&l++,r.push(new xr(p,g,w))}else r.push(new xr(p))},o);let c=[];for(let f=n;f<s;f++)c.push(new xr(i.maps[f]));let u=this.items.slice(0,o).append(c).append(r),d=new er(u,l);return d.emptyItemCount()>Pz&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,o=[],i=0;return this.items.forEach((s,l)=>{if(l>=t)o.push(s),s.selection&&i++;else if(s.step){let a=s.step.map(n.slice(r)),c=a&&a.getMap();if(r--,c&&n.appendMap(c,r),a){let u=s.selection&&s.selection.map(n.slice(r));u&&i++;let d=new xr(c.invert(),a,u),f,m=o.length-1;(f=o.length&&o[m].merge(d))?o[m]=f:o.push(d)}}else s.map&&r--},this.items.length,0),new er(Ot.from(o.reverse()),i)}}er.empty=new er(Ot.empty,0);function Az(e,t){let n;return e.forEach((r,o)=>{if(r.selection&&t--==0)return n=o,!1}),e.slice(n)}class xr{constructor(t,n,r,o){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=o}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new xr(n.getMap().invert(),n,this.selection)}}}class xo{constructor(t,n,r,o,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=i}}const Nz=20;function $z(e,t,n,r){let o=n.getMeta(_i),i;if(o)return o.historyState;n.getMeta(Lz)&&(e=new xo(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta(_i))return s.getMeta(_i).redo?new xo(e.done.addTransform(n,void 0,r,Pu(t)),e.undone,fb(n.mapping.maps[n.steps.length-1]),e.prevTime,e.prevComposition):new xo(e.done,e.undone.addTransform(n,void 0,r,Pu(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=e.prevTime==0||!s&&e.prevComposition!=l&&(e.prevTime<(n.time||0)-r.newGroupDelay||!_z(n,e.prevRanges)),c=s?fh(e.prevRanges,n.mapping):fb(n.mapping.maps[n.steps.length-1]);return new xo(e.done.addTransform(n,a?t.selection.getBookmark():void 0,r,Pu(t)),er.empty,c,n.time,l??e.prevComposition)}else return(i=n.getMeta("rebased"))?new xo(e.done.rebased(n,i),e.undone.rebased(n,i),fh(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new xo(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),fh(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function _z(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,o)=>{for(let i=0;i<t.length;i+=2)r<=t[i+1]&&o>=t[i]&&(n=!0)}),n}function fb(e){let t=[];return e.forEach((n,r,o,i)=>t.push(o,i)),t}function fh(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function Iz(e,t,n){let r=Pu(t),o=_i.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let s=i.selection.resolve(i.transform.doc),l=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),o,r),a=new xo(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(s).setMeta(_i,{redo:n,historyState:a})}let ph=!1,pb=null;function Pu(e){let t=e.plugins;if(pb!=t){ph=!1,pb=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){ph=!0;break}}return ph}const _i=new rs("history"),Lz=new rs("closeHistory");function Fz(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new so({key:_i,state:{init(){return new xo(er.empty,er.empty,null,0,-1)},apply(t,n,r){return $z(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,o=r=="historyUndo"?oO:r=="historyRedo"?iO:null;return o?(n.preventDefault(),o(t.state,t.dispatch)):!1}}}})}function rO(e,t){return(n,r)=>{let o=_i.getState(n);if(!o||(e?o.undone:o.done).eventCount==0)return!1;if(r){let i=Iz(o,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const oO=rO(!1,!0),iO=rO(!0,!0),jz=$r.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>oO(e,t),redo:()=>({state:e,dispatch:t})=>iO(e,t)}},addProseMirrorPlugins(){return[Fz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}});function sO(e){const t=e+"CollectionProvider",[n,r]=Ir(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:p,children:g}=m,w=J.useRef(null),y=J.useRef(new Map).current;return J.createElement(o,{scope:p,itemMap:y,collectionRef:w},g)},l=e+"CollectionSlot",a=J.forwardRef((m,p)=>{const{scope:g,children:w}=m,y=i(l,g),v=lt(p,y.collectionRef);return J.createElement(ll,{ref:v},w)}),c=e+"CollectionItemSlot",u="data-radix-collection-item",d=J.forwardRef((m,p)=>{const{scope:g,children:w,...y}=m,v=J.useRef(null),b=lt(p,v),k=i(c,g);return J.useEffect(()=>(k.itemMap.set(v,{ref:v,...y}),()=>void k.itemMap.delete(v))),J.createElement(ll,{[u]:"",ref:b},w)});function f(m){const p=i(e+"CollectionConsumer",m);return J.useCallback(()=>{const w=p.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((k,E)=>y.indexOf(k.ref.current)-y.indexOf(E.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:s,Slot:a,ItemSlot:d},f,r]}const Bz=h.createContext(void 0);function Uf(e){const t=h.useContext(Bz);return e||t||"ltr"}const hh="rovingFocusGroup.onEntryFocus",zz={bubbles:!1,cancelable:!0},yv="RovingFocusGroup",[yg,lO,Vz]=sO(yv),[Uz,Hf]=Ir(yv,[Vz]),[Hz,Wz]=Uz(yv),Kz=h.forwardRef((e,t)=>h.createElement(yg.Provider,{scope:e.__scopeRovingFocusGroup},h.createElement(yg.Slot,{scope:e.__scopeRovingFocusGroup},h.createElement(qz,te({},e,{ref:t}))))),qz=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:a,onEntryFocus:c,...u}=e,d=h.useRef(null),f=lt(t,d),m=Uf(i),[p=null,g]=to({prop:s,defaultProp:l,onChange:a}),[w,y]=h.useState(!1),v=Dr(c),b=lO(n),k=h.useRef(!1),[E,S]=h.useState(0);return h.useEffect(()=>{const C=d.current;if(C)return C.addEventListener(hh,v),()=>C.removeEventListener(hh,v)},[v]),h.createElement(Hz,{scope:n,orientation:r,dir:m,loop:o,currentTabStopId:p,onItemFocus:h.useCallback(C=>g(C),[g]),onItemShiftTab:h.useCallback(()=>y(!0),[]),onFocusableItemAdd:h.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:h.useCallback(()=>S(C=>C-1),[])},h.createElement(Le.div,te({tabIndex:w||E===0?-1:0,"data-orientation":r},u,{ref:f,style:{outline:"none",...e.style},onMouseDown:Ne(e.onMouseDown,()=>{k.current=!0}),onFocus:Ne(e.onFocus,C=>{const O=!k.current;if(C.target===C.currentTarget&&O&&!w){const M=new CustomEvent(hh,zz);if(C.currentTarget.dispatchEvent(M),!M.defaultPrevented){const I=b().filter(K=>K.focusable),Z=I.find(K=>K.active),L=I.find(K=>K.id===p),H=[Z,L,...I].filter(Boolean).map(K=>K.ref.current);aO(H)}}k.current=!1}),onBlur:Ne(e.onBlur,()=>y(!1))})))}),Jz="RovingFocusGroupItem",Gz=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,...s}=e,l=df(),a=i||l,c=Wz(Jz,n),u=c.currentTabStopId===a,d=lO(n),{onFocusableItemAdd:f,onFocusableItemRemove:m}=c;return h.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),h.createElement(yg.ItemSlot,{scope:n,id:a,focusable:r,active:o},h.createElement(Le.span,te({tabIndex:u?0:-1,"data-orientation":c.orientation},s,{ref:t,onMouseDown:Ne(e.onMouseDown,p=>{r?c.onItemFocus(a):p.preventDefault()}),onFocus:Ne(e.onFocus,()=>c.onItemFocus(a)),onKeyDown:Ne(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){c.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=Qz(p,c.orientation,c.dir);if(g!==void 0){p.preventDefault();let y=d().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const v=y.indexOf(p.currentTarget);y=c.loop?Zz(y,v+1):y.slice(v+1)}setTimeout(()=>aO(y))}})})))}),Yz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xz(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Qz(e,t,n){const r=Xz(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Yz[r]}function aO(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Zz(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const cO=Kz,uO=Gz,vg="horizontal",e8=["horizontal","vertical"],dO=h.forwardRef((e,t)=>{const{decorative:n,orientation:r=vg,...o}=e,i=fO(r)?r:vg,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return h.createElement(Le.div,te({"data-orientation":i},l,o,{ref:t}))});dO.propTypes={orientation(e,t,n){const r=e[t],o=String(r);return r&&!fO(r)?new Error(t8(o,n)):null}};function t8(e,t){return`Invalid prop \`orientation\` of value \`${e}\` supplied to \`${t}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${vg}\`.`}function fO(e){return e8.includes(e)}const n8=dO,r8=h.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:o,...i}=e,[s=!1,l]=to({prop:n,onChange:o,defaultProp:r});return h.createElement(Le.button,te({type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0},i,{ref:t,onClick:Ne(e.onClick,()=>{e.disabled||l(!s)})}))}),Wf="ToggleGroup",[pO,hO]=Ir(Wf,[Hf]),mO=Hf(),o8=J.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const o=r;return J.createElement(i8,te({},o,{ref:t}))}if(n==="multiple"){const o=r;return J.createElement(s8,te({},o,{ref:t}))}throw new Error(`Missing prop \`type\` expected on \`${Wf}\``)}),[gO,yO]=pO(Wf),i8=J.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[s,l]=to({prop:n,defaultProp:r,onChange:o});return J.createElement(gO,{scope:e.__scopeToggleGroup,type:"single",value:s?[s]:[],onItemActivate:l,onItemDeactivate:J.useCallback(()=>l(""),[l])},J.createElement(vO,te({},i,{ref:t})))}),s8=J.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=e,[s=[],l]=to({prop:n,defaultProp:r,onChange:o}),a=J.useCallback(u=>l((d=[])=>[...d,u]),[l]),c=J.useCallback(u=>l((d=[])=>d.filter(f=>f!==u)),[l]);return J.createElement(gO,{scope:e.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:a,onItemDeactivate:c},J.createElement(vO,te({},i,{ref:t})))}),[l8,a8]=pO(Wf),vO=J.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:i,dir:s,loop:l=!0,...a}=e,c=mO(n),u=Uf(s),d={role:"group",dir:u,...a};return J.createElement(l8,{scope:n,rovingFocus:o,disabled:r},o?J.createElement(cO,te({asChild:!0},c,{orientation:i,dir:u,loop:l}),J.createElement(Le.div,te({},d,{ref:t}))):J.createElement(Le.div,te({},d,{ref:t})))}),wg="ToggleGroupItem",c8=J.forwardRef((e,t)=>{const n=yO(wg,e.__scopeToggleGroup),r=a8(wg,e.__scopeToggleGroup),o=mO(e.__scopeToggleGroup),i=n.value.includes(e.value),s=r.disabled||e.disabled,l={...e,pressed:i,disabled:s},a=J.useRef(null);return r.rovingFocus?J.createElement(uO,te({asChild:!0},o,{focusable:!s,active:i,ref:a}),J.createElement(hb,te({},l,{ref:t}))):J.createElement(hb,te({},l,{ref:t}))}),hb=J.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...o}=e,i=yO(wg,n),s={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=i.type==="single"?s:void 0;return J.createElement(r8,te({},l,o,{ref:t,onPressedChange:a=>{a?i.onItemActivate(r):i.onItemDeactivate(r)}}))}),u8=o8,d8=c8,wO="Toolbar",[f8,FU]=Ir(wO,[Hf,hO]),bO=Hf(),xO=hO(),[p8,SO]=f8(wO),h8=h.forwardRef((e,t)=>{const{__scopeToolbar:n,orientation:r="horizontal",dir:o,loop:i=!0,...s}=e,l=bO(n),a=Uf(o);return h.createElement(p8,{scope:n,orientation:r,dir:a},h.createElement(cO,te({asChild:!0},l,{orientation:r,dir:a,loop:i}),h.createElement(Le.div,te({role:"toolbar","aria-orientation":r,dir:a},s,{ref:t}))))}),m8="ToolbarSeparator",g8=h.forwardRef((e,t)=>{const{__scopeToolbar:n,...r}=e,o=SO(m8,n);return h.createElement(n8,te({orientation:o.orientation==="horizontal"?"vertical":"horizontal"},r,{ref:t}))}),y8=h.forwardRef((e,t)=>{const{__scopeToolbar:n,...r}=e,o=bO(n);return h.createElement(uO,te({asChild:!0},o,{focusable:!e.disabled}),h.createElement(Le.button,te({type:"button"},r,{ref:t})))}),v8="ToolbarToggleGroup",w8=h.forwardRef((e,t)=>{const{__scopeToolbar:n,...r}=e,o=SO(v8,n),i=xO(n);return h.createElement(u8,te({"data-orientation":o.orientation,dir:o.dir},i,r,{ref:t,rovingFocus:!1}))}),b8=h.forwardRef((e,t)=>{const{__scopeToolbar:n,...r}=e,o=xO(n),i={__scopeToolbar:e.__scopeToolbar};return h.createElement(y8,te({asChild:!0},i),h.createElement(d8,te({},o,r,{ref:t})))}),x8=h8,S8=g8,mb=w8,go=b8;function gb(e,[t,n]){return Math.min(n,Math.max(t,e))}const k8=[" ","Enter","ArrowUp","ArrowDown"],E8=[" ","Enter"],Kf="Select",[qf,Jf,C8]=sO(Kf),[Pl,jU]=Ir(Kf,[C8,El]),vv=El(),[T8,is]=Pl(Kf),[O8,R8]=Pl(Kf),M8=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:s,defaultValue:l,onValueChange:a,dir:c,name:u,autoComplete:d,disabled:f,required:m}=e,p=vv(t),[g,w]=h.useState(null),[y,v]=h.useState(null),[b,k]=h.useState(!1),E=Uf(c),[S=!1,C]=to({prop:r,defaultProp:o,onChange:i}),[O,M]=to({prop:s,defaultProp:l,onChange:a}),I=h.useRef(null),Z=g?!!g.closest("form"):!0,[L,Y]=h.useState(new Set),H=Array.from(L).map(K=>K.props.value).join(";");return h.createElement(Gk,p,h.createElement(T8,{required:m,scope:t,trigger:g,onTriggerChange:w,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:b,onValueNodeHasChildrenChange:k,contentId:df(),value:O,onValueChange:M,open:S,onOpenChange:C,dir:E,triggerPointerDownPosRef:I,disabled:f},h.createElement(qf.Provider,{scope:t},h.createElement(O8,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(K=>{Y(ae=>new Set(ae).add(K))},[]),onNativeOptionRemove:h.useCallback(K=>{Y(ae=>{const X=new Set(ae);return X.delete(K),X})},[])},n)),Z?h.createElement(OO,{key:H,"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:O,onChange:K=>M(K.target.value),disabled:f},O===void 0?h.createElement("option",{value:""}):null,Array.from(L)):null))},D8="SelectTrigger",P8=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=vv(n),s=is(D8,n),l=s.disabled||r,a=lt(t,s.onTriggerChange),c=Jf(n),[u,d,f]=RO(p=>{const g=c().filter(v=>!v.disabled),w=g.find(v=>v.value===s.value),y=MO(g,p,w);y!==void 0&&s.onValueChange(y.value)}),m=()=>{l||(s.onOpenChange(!0),f())};return h.createElement(Yk,te({asChild:!0},i),h.createElement(Le.button,te({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":TO(s.value)?"":void 0},o,{ref:a,onClick:Ne(o.onClick,p=>{p.currentTarget.focus()}),onPointerDown:Ne(o.onPointerDown,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&(m(),s.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)},p.preventDefault())}),onKeyDown:Ne(o.onKeyDown,p=>{const g=u.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&d(p.key),!(g&&p.key===" ")&&k8.includes(p.key)&&(m(),p.preventDefault())})})))}),A8="SelectValue",N8=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:s="",...l}=e,a=is(A8,n),{onValueNodeHasChildrenChange:c}=a,u=i!==void 0,d=lt(t,a.onValueNodeChange);return mn(()=>{c(u)},[c,u]),h.createElement(Le.span,te({},l,{ref:d,style:{pointerEvents:"none"}}),TO(a.value)?h.createElement(h.Fragment,null,s):i)}),$8=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return h.createElement(Le.span,te({"aria-hidden":!0},o,{ref:t}),r||"▼")}),_8=e=>h.createElement(Qk,te({asChild:!0},e)),yl="SelectContent",I8=h.forwardRef((e,t)=>{const n=is(yl,e.__scopeSelect),[r,o]=h.useState();if(mn(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?ur.createPortal(h.createElement(kO,{scope:e.__scopeSelect},h.createElement(qf.Slot,{scope:e.__scopeSelect},h.createElement("div",null,e.children))),i):null}return h.createElement(L8,te({},e,{ref:t}))}),Vr=10,[kO,ss]=Pl(yl),L8=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:s,side:l,sideOffset:a,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:w,...y}=e,v=is(yl,n),[b,k]=h.useState(null),[E,S]=h.useState(null),C=lt(t,se=>k(se)),[O,M]=h.useState(null),[I,Z]=h.useState(null),L=Jf(n),[Y,H]=h.useState(!1),K=h.useRef(!1);h.useEffect(()=>{if(b)return Uy(b)},[b]),LE();const ae=h.useCallback(se=>{const[De,...Ue]=L().map(he=>he.ref.current),[Pe]=Ue.slice(-1),ce=document.activeElement;for(const he of se)if(he===ce||(he==null||he.scrollIntoView({block:"nearest"}),he===De&&E&&(E.scrollTop=0),he===Pe&&E&&(E.scrollTop=E.scrollHeight),he==null||he.focus(),document.activeElement!==ce))return},[L,E]),X=h.useCallback(()=>ae([O,b]),[ae,O,b]);h.useEffect(()=>{Y&&X()},[Y,X]);const{onOpenChange:F,triggerPointerDownPosRef:V}=v;h.useEffect(()=>{if(b){let se={x:0,y:0};const De=Pe=>{var ce,he,tt,at;se={x:Math.abs(Math.round(Pe.pageX)-((ce=(he=V.current)===null||he===void 0?void 0:he.x)!==null&&ce!==void 0?ce:0)),y:Math.abs(Math.round(Pe.pageY)-((tt=(at=V.current)===null||at===void 0?void 0:at.y)!==null&&tt!==void 0?tt:0))}},Ue=Pe=>{se.x<=10&&se.y<=10?Pe.preventDefault():b.contains(Pe.target)||F(!1),document.removeEventListener("pointermove",De),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",Ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",Ue,{capture:!0})}}},[b,F,V]),h.useEffect(()=>{const se=()=>F(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[F]);const[ie,fe]=RO(se=>{const De=L().filter(ce=>!ce.disabled),Ue=De.find(ce=>ce.ref.current===document.activeElement),Pe=MO(De,se,Ue);Pe&&setTimeout(()=>Pe.ref.current.focus())}),be=h.useCallback((se,De,Ue)=>{const Pe=!K.current&&!Ue;(v.value!==void 0&&v.value===De||Pe)&&(M(se),Pe&&(K.current=!0))},[v.value]),et=h.useCallback(()=>b==null?void 0:b.focus(),[b]),Ee=h.useCallback((se,De,Ue)=>{const Pe=!K.current&&!Ue;(v.value!==void 0&&v.value===De||Pe)&&Z(se)},[v.value]),Ve=r==="popper"?yb:F8,ve=Ve===yb?{side:l,sideOffset:a,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:w}:{};return h.createElement(kO,{scope:n,content:b,viewport:E,onViewportChange:S,itemRefCallback:be,selectedItem:O,onItemLeave:et,itemTextRefCallback:Ee,focusSelectedItem:X,selectedItemText:I,position:r,isPositioned:Y,searchRef:ie},h.createElement(Ky,{as:ll,allowPinchZoom:!0},h.createElement(FE,{asChild:!0,trapped:v.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:Ne(o,se=>{var De;(De=v.trigger)===null||De===void 0||De.focus({preventScroll:!0}),se.preventDefault()})},h.createElement(Ak,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>v.onOpenChange(!1)},h.createElement(Ve,te({role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:se=>se.preventDefault()},y,ve,{onPlaced:()=>H(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ne(y.onKeyDown,se=>{const De=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!De&&se.key.length===1&&fe(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let Pe=L().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(se.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const ce=se.target,he=Pe.indexOf(ce);Pe=Pe.slice(he+1)}setTimeout(()=>ae(Pe)),se.preventDefault()}})}))))))}),F8=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=is(yl,n),s=ss(yl,n),[l,a]=h.useState(null),[c,u]=h.useState(null),d=lt(t,C=>u(C)),f=Jf(n),m=h.useRef(!1),p=h.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:y,focusSelectedItem:v}=s,b=h.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&c&&g&&w&&y){const C=i.trigger.getBoundingClientRect(),O=c.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),I=y.getBoundingClientRect();if(i.dir!=="rtl"){const ce=I.left-O.left,he=M.left-ce,tt=C.left-he,at=C.width+tt,ct=Math.max(at,O.width),Nn=window.innerWidth-Vr,Jt=gb(he,[Vr,Nn-ct]);l.style.minWidth=at+"px",l.style.left=Jt+"px"}else{const ce=O.right-I.right,he=window.innerWidth-M.right-ce,tt=window.innerWidth-C.right-he,at=C.width+tt,ct=Math.max(at,O.width),Nn=window.innerWidth-Vr,Jt=gb(he,[Vr,Nn-ct]);l.style.minWidth=at+"px",l.style.right=Jt+"px"}const Z=f(),L=window.innerHeight-Vr*2,Y=g.scrollHeight,H=window.getComputedStyle(c),K=parseInt(H.borderTopWidth,10),ae=parseInt(H.paddingTop,10),X=parseInt(H.borderBottomWidth,10),F=parseInt(H.paddingBottom,10),V=K+ae+Y+F+X,ie=Math.min(w.offsetHeight*5,V),fe=window.getComputedStyle(g),be=parseInt(fe.paddingTop,10),et=parseInt(fe.paddingBottom,10),Ee=C.top+C.height/2-Vr,Ve=L-Ee,ve=w.offsetHeight/2,se=w.offsetTop+ve,De=K+ae+se,Ue=V-De;if(De<=Ee){const ce=w===Z[Z.length-1].ref.current;l.style.bottom="0px";const he=c.clientHeight-g.offsetTop-g.offsetHeight,tt=Math.max(Ve,ve+(ce?et:0)+he+X),at=De+tt;l.style.height=at+"px"}else{const ce=w===Z[0].ref.current;l.style.top="0px";const tt=Math.max(Ee,K+g.offsetTop+(ce?be:0)+ve)+Ue;l.style.height=tt+"px",g.scrollTop=De-Ee+g.offsetTop}l.style.margin=`${Vr}px 0`,l.style.minHeight=ie+"px",l.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,c,g,w,y,i.dir,r]);mn(()=>b(),[b]);const[k,E]=h.useState();mn(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const S=h.useCallback(C=>{C&&p.current===!0&&(b(),v==null||v(),p.current=!1)},[b,v]);return h.createElement(j8,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S},h.createElement("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k}},h.createElement(Le.div,te({},o,{ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}}))))}),yb=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Vr,...i}=e,s=vv(n);return h.createElement(Xk,te({},s,i,{ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[j8,wv]=Pl(yl,{}),vb="SelectViewport",B8=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=ss(vb,n),i=wv(vb,n),s=lt(t,o.onViewportChange),l=h.useRef(0);return h.createElement(h.Fragment,null,h.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),h.createElement(qf.Slot,{scope:n},h.createElement(Le.div,te({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Ne(r.onScroll,a=>{const c=a.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:d}=i;if(d!=null&&d.current&&u){const f=Math.abs(l.current-c.scrollTop);if(f>0){const m=window.innerHeight-Vr*2,p=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),w=Math.max(p,g);if(w<m){const y=w+f,v=Math.min(m,y),b=y-v;u.style.height=v+"px",u.style.bottom==="0px"&&(c.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}l.current=c.scrollTop})}))))}),z8="SelectGroup";Pl(z8);const bg="SelectItem",[V8,EO]=Pl(bg),U8=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...s}=e,l=is(bg,n),a=ss(bg,n),c=l.value===r,[u,d]=h.useState(i??""),[f,m]=h.useState(!1),p=lt(t,y=>{var v;return(v=a.itemRefCallback)===null||v===void 0?void 0:v.call(a,y,r,o)}),g=df(),w=()=>{o||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.createElement(V8,{scope:n,value:r,disabled:o,textId:g,isSelected:c,onItemTextChange:h.useCallback(y=>{d(v=>{var b;return v||((b=y==null?void 0:y.textContent)!==null&&b!==void 0?b:"").trim()})},[])},h.createElement(qf.ItemSlot,{scope:n,value:r,disabled:o,textValue:u},h.createElement(Le.div,te({role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},s,{ref:p,onFocus:Ne(s.onFocus,()=>m(!0)),onBlur:Ne(s.onBlur,()=>m(!1)),onPointerUp:Ne(s.onPointerUp,w),onPointerMove:Ne(s.onPointerMove,y=>{if(o){var v;(v=a.onItemLeave)===null||v===void 0||v.call(a)}else y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(s.onPointerLeave,y=>{if(y.currentTarget===document.activeElement){var v;(v=a.onItemLeave)===null||v===void 0||v.call(a)}}),onKeyDown:Ne(s.onKeyDown,y=>{var v;((v=a.searchRef)===null||v===void 0?void 0:v.current)!==""&&y.key===" "||(E8.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})}))))}),ou="SelectItemText",H8=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,s=is(ou,n),l=ss(ou,n),a=EO(ou,n),c=R8(ou,n),[u,d]=h.useState(null),f=lt(t,y=>d(y),a.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)===null||v===void 0?void 0:v.call(l,y,a.value,a.disabled)}),m=u==null?void 0:u.textContent,p=h.useMemo(()=>h.createElement("option",{key:a.value,value:a.value,disabled:a.disabled},m),[a.disabled,a.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=c;return mn(()=>(g(p),()=>w(p)),[g,w,p]),h.createElement(h.Fragment,null,h.createElement(Le.span,te({id:a.textId},i,{ref:f})),a.isSelected&&s.valueNode&&!s.valueNodeHasChildren?ur.createPortal(i.children,s.valueNode):null)}),W8="SelectItemIndicator",K8=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return EO(W8,n).isSelected?h.createElement(Le.span,te({"aria-hidden":!0},r,{ref:t})):null}),wb="SelectScrollUpButton",q8=h.forwardRef((e,t)=>{const n=ss(wb,e.__scopeSelect),r=wv(wb,e.__scopeSelect),[o,i]=h.useState(!1),s=lt(t,r.onScrollButtonChange);return mn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=a.scrollTop>0;i(u)};var l=c;const a=n.viewport;return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?h.createElement(CO,te({},e,{ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=n;l&&a&&(l.scrollTop=l.scrollTop-a.offsetHeight)}})):null}),bb="SelectScrollDownButton",J8=h.forwardRef((e,t)=>{const n=ss(bb,e.__scopeSelect),r=wv(bb,e.__scopeSelect),[o,i]=h.useState(!1),s=lt(t,r.onScrollButtonChange);return mn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=a.scrollHeight-a.clientHeight,d=Math.ceil(a.scrollTop)<u;i(d)};var l=c;const a=n.viewport;return c(),a.addEventListener("scroll",c),()=>a.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),o?h.createElement(CO,te({},e,{ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=n;l&&a&&(l.scrollTop=l.scrollTop+a.offsetHeight)}})):null}),CO=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,i=ss("SelectScrollButton",n),s=h.useRef(null),l=Jf(n),a=h.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return h.useEffect(()=>()=>a(),[a]),mn(()=>{var c;const u=l().find(d=>d.ref.current===document.activeElement);u==null||(c=u.ref.current)===null||c===void 0||c.scrollIntoView({block:"nearest"})},[l]),h.createElement(Le.div,te({"aria-hidden":!0},o,{ref:t,style:{flexShrink:0,...o.style},onPointerDown:Ne(o.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Ne(o.onPointerMove,()=>{var c;(c=i.onItemLeave)===null||c===void 0||c.call(i),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Ne(o.onPointerLeave,()=>{a()})}))});function TO(e){return e===""||e===void 0}const OO=h.forwardRef((e,t)=>{const{value:n,...r}=e,o=h.useRef(null),i=lt(t,o),s=jy(n);return h.useEffect(()=>{const l=o.current,a=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(a,"value").set;if(s!==n&&u){const d=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(d)}},[s,n]),h.createElement(_2,{asChild:!0},h.createElement("select",te({},r,{ref:i,defaultValue:n})))});OO.displayName="BubbleSelect";function RO(e){const t=Dr(e),n=h.useRef(""),r=h.useRef(0),o=h.useCallback(s=>{const l=n.current+s;t(l),function a(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>a(""),1e3))}(l)},[t]),i=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function MO(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let s=G8(e,Math.max(i,0));o.length===1&&(s=s.filter(c=>c!==n));const a=s.find(c=>c.textValue.toLowerCase().startsWith(o.toLowerCase()));return a!==n?a:void 0}function G8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const DO=M8,PO=P8,Y8=N8,AO=$8,NO=_8,$O=I8,_O=B8,IO=U8,X8=H8,Q8=K8,Z8=q8,e7=J8,LO=({editor:e,toggleValue:t,ariaLabel:n,options:r,renderOption:o,triggerIcon:i,selectedOption:s,setSelectedOption:l,children:a})=>{const[c,u]=h.useState(!1);return x.jsxs("span",{className:"toolbar-select toolbar-toggle",children:[x.jsx(go,{value:t,"aria-label":n,children:i}),x.jsxs(DO,{value:s,open:c,onOpenChange:d=>{var f;(f=document.activeElement)!=null&&f.classList.contains("toolbar-select-item")||(u(d),d===!1&&(e==null||e.commands.focus()))},onValueChange:d=>{u(!1),l(d),e==null||e.commands.focus()},children:[x.jsx(PO,{className:"toolbar-select-trigger",children:x.jsx(AO,{children:x.jsx(Nm,{width:14,height:14})})}),x.jsx(NO,{children:x.jsx($O,{onCloseAutoFocus:d=>{d.preventDefault()},ref:d=>{d&&(d.ontouchstart=f=>{f.preventDefault()})},className:"floating toolbar-select-content",position:"popper",align:"center",children:x.jsx(_O,{className:"toolbar-select-viewport",children:r.map(d=>x.jsx(IO,{className:"toolbar-select-item",value:d,children:o(d)},d))})})})]}),a]})},t7=({currentColor:e,setCurrentColor:t,colors:n,editor:r})=>x.jsx(LO,{editor:r,toggleValue:"highlight",ariaLabel:"Highlight",options:n,renderOption:o=>x.jsx("div",{className:"toolbar-select-option",style:{backgroundColor:o}}),selectedOption:e,setSelectedOption:o=>t(o),triggerIcon:x.jsx(Z2,{width:15,height:15}),children:x.jsx("div",{className:"color-select-current",style:{backgroundColor:e}})}),mh={1:x.jsx(G2,{width:16,height:16}),2:x.jsx(Y2,{width:16,height:16}),3:x.jsx(X2,{width:16,height:16}),4:x.jsx(Q2,{width:16,height:16})},n7=({headingLevel:e,setHeadingLevel:t,editor:n})=>x.jsx(LO,{editor:n,toggleValue:"heading",ariaLabel:"Heading",options:Object.keys(mh),renderOption:r=>mh[r],selectedOption:e.toString(),setSelectedOption:r=>t(+r),triggerIcon:mh[e]}),gh=["bold","italic","underline","strike","highlight","heading"],xb=["bulletList","orderedList","taskList"],Sb=["#E4E434","#E43434","#81E434","#34E4D1","#349CE4","#A434E4","#E434BC"],yh={bold:e=>{e.view.focus(),e.chain().focus().toggleBold().run()},italic:e=>{e.view.focus(),e.chain().focus().toggleItalic().run()},underline:e=>{e.view.focus(),e.chain().focus().toggleUnderline().run()},strike:e=>{e.view.focus(),e.chain().focus().toggleStrike().run()},highlight:(e,t)=>{e.view.focus(),e.chain().focus().toggleHighlight({color:t}).run()},heading:(e,t)=>{e.view.focus(),e.chain().focus().toggleHeading({level:t}).run()},bulletList:e=>{e.view.focus(),e.chain().focus().toggleBulletList().run()},orderedList:e=>{e.view.focus(),e.chain().focus().toggleOrderedList().run()},taskList:e=>{e.view.focus(),e.chain().focus().toggleTaskList().run()}},r7=({editor:e})=>{const[t,n]=h.useState(Sb[0]),[r,o]=h.useState(1),i=l=>{switch(l){case"highlight":return e.isActive("highlight",{color:t});case"heading":return e.isActive("heading",{level:r});default:return e.isActive(l)}},s=l=>{switch(l){case"highlight":yh[l](e,t);break;case"heading":yh[l](e,r);break;default:yh[l](e);break}};return x.jsxs(x8,{className:"toolbar-root floating","aria-label":"Formatting options",children:[x.jsxs(mb,{type:"multiple","aria-label":"Text formatting",value:gh.filter(l=>i(l)),onValueChange:l=>{const a=gh.filter(u=>i(u)),c=a.filter(u=>l.includes(u)===!1).concat(l.filter(u=>a.includes(u)===!1));if(c.length>1&&console.warn("RichTextArea's toolbar has performed multiple actions at once."),gh.find(u=>u===c[0])===void 0)throw Error(`RichTextArea's toolbar has a value not present in Toggles type: ${c[0]}`);s(c[0])},children:[x.jsx(go,{className:"toolbar-toggle",value:"bold","aria-label":"Bold",children:x.jsx(W2,{width:15,height:15})}),x.jsx(go,{className:"toolbar-toggle",value:"italic","aria-label":"Italic",children:x.jsx(n$,{width:15,height:15})}),x.jsx(go,{className:"toolbar-toggle",value:"underline","aria-label":"Underline",children:x.jsx(h$,{width:15,height:15})}),x.jsx(go,{className:"toolbar-toggle",value:"strike","aria-label":"Strike through",children:x.jsx(d$,{width:15,height:15})}),x.jsx(n7,{editor:e,headingLevel:r,setHeadingLevel:o}),x.jsx(t7,{editor:e,currentColor:t,setCurrentColor:n,colors:Sb})]}),x.jsx(S8,{className:"toolbar-separator"}),x.jsxs(mb,{type:"single","aria-label":"Lists",value:xb.find(l=>i(l))??"",onValueChange:l=>{const a=l===""?xb.find(c=>i(c)):l;s(a)},children:[x.jsx(go,{className:"toolbar-toggle",value:"bulletList","aria-label":"Bullet list",children:x.jsx(s$,{width:18,height:18})}),x.jsx(go,{className:"toolbar-toggle",value:"orderedList","aria-label":"Ordered list",children:x.jsx(o$,{width:18,height:18})}),x.jsx(go,{className:"toolbar-toggle",value:"taskList","aria-label":"Task list",children:x.jsx(i$,{width:18,height:18})})]})]})},o7=pr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>JB({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),i7=o7.extend({renderHTML({node:e,HTMLAttributes:t}){const n=this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0],r={1:"heading-1",2:"heading-2",3:"heading-3",4:"heading-4"};return[`h${n}`,vt(this.options.HTMLAttributes,t,{class:`${r[n]}`}),0]}}).configure({levels:[1,2,3,4]}),s7=pr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",vt(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),l7=s7.extend({content:"(paragraph|heading) block*"}),a7=/^\s*(\[([( |x])?\])\s$/,c7=pr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>e.getAttribute("data-checked")==="true",renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",vt(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const o=document.createElement("li"),i=document.createElement("label"),s=document.createElement("span"),l=document.createElement("input"),a=document.createElement("div");return i.contentEditable="false",l.type="checkbox",l.addEventListener("change",c=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:u}=c.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:d})=>{const f=n(),m=d.doc.nodeAt(f);return d.setNodeMarkup(f,void 0,{...m==null?void 0:m.attrs,checked:u}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,u)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([c,u])=>{o.setAttribute(c,u)}),o.dataset.checked=e.attrs.checked,e.attrs.checked&&l.setAttribute("checked","checked"),i.append(l,s),o.append(i,a),Object.entries(t).forEach(([c,u])=>{o.setAttribute(c,u)}),{dom:o,contentDOM:a,update:c=>c.type!==this.type?!1:(o.dataset.checked=c.attrs.checked,c.attrs.checked?l.setAttribute("checked","checked"):l.removeAttribute("checked"),!0)}}},addInputRules(){return[ic({find:a7,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),u7=c7.extend({content(){return this.options.nested?"(paragraph|heading) block*":"(paragraph|heading)+"}}).configure({nested:!0,HTMLAttributes:{onclick:"const state = event.target.getAttribute('checked');event.target.setAttribute('checked', state === 'true' ? 'false' : 'true');"},onReadOnlyChecked(){return!0}}),FO=({value:e,onChange:t,editable:n=!1})=>{const r=h.useRef(null),o=tz({extensions:[sz,fz,iz,dz,yz,vz,xz,Ez.configure({multicolor:!0}),i7,Tz.configure({keepAttributes:!0,keepMarks:!0}),Rz.configure({keepAttributes:!0,keepMarks:!0}),l7,Mz,u7,jz],content:e,editable:n,onUpdate({editor:i}){n&&(t==null||t(i.getHTML()))},onFocus(){var a;const i=((a=window.visualViewport)==null?void 0:a.height)??0;let s=10;const l=setInterval(()=>{var c,u;i-(((c=window.visualViewport)==null?void 0:c.height)??0)>150&&((u=r.current)==null||u.scrollIntoView({behavior:"smooth"}),clearInterval(l)),s-=1,s===0&&clearInterval(l)},100)},editorProps:{attributes:{class:"rich-text-area-editor"}}});return x.jsxs("div",{className:`rich-text-area ${n?"block floating":""}`,children:[o&&n&&x.jsx(r7,{editor:o}),x.jsx(ZB,{ref:r,editor:o})]})};function Vo(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function d7(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function jO(...e){return t=>e.forEach(n=>d7(n,t))}function ls(...e){return h.useCallback(jO(...e),e)}function f7(e,t){const n=h.createContext(t);function r(i){const{children:s,...l}=i,a=h.useMemo(()=>l,Object.values(l));return x.jsx(n.Provider,{value:a,children:s})}function o(i){const s=h.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return r.displayName=e+"Provider",[r,o]}function p7(e,t=[]){let n=[];function r(i,s){const l=h.createContext(s),a=n.length;n=[...n,s];function c(d){const{scope:f,children:m,...p}=d,g=(f==null?void 0:f[e][a])||l,w=h.useMemo(()=>p,Object.values(p));return x.jsx(g.Provider,{value:w,children:m})}function u(d,f){const m=(f==null?void 0:f[e][a])||l,p=h.useContext(m);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const o=()=>{const i=n.map(s=>h.createContext(s));return function(l){const a=(l==null?void 0:l[e])||i;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:a}}),[l,a])}};return o.scopeName=e,[r,h7(o,...t)]}function h7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((l,{useScope:a,scopeName:c})=>{const d=a(i)[`__scope${c}`];return{...l,...d}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Nd=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},m7=Oa.useId||(()=>{}),g7=0;function vh(e){const[t,n]=h.useState(m7());return Nd(()=>{e||n(r=>r??String(g7++))},[e]),e||(t?`radix-${t}`:"")}function Yi(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function y7({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=v7({defaultProp:t,onChange:n}),i=e!==void 0,s=i?e:r,l=Yi(n),a=h.useCallback(c=>{if(i){const d=typeof c=="function"?c(e):c;d!==e&&l(d)}else o(c)},[i,e,o,l]);return[s,a]}function v7({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,o=h.useRef(r),i=Yi(t);return h.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}var bv=h.forwardRef((e,t)=>{const{children:n,...r}=e,o=h.Children.toArray(n),i=o.find(b7);if(i){const s=i.props.children,l=o.map(a=>a===i?h.Children.count(s)>1?h.Children.only(null):h.isValidElement(s)?s.props.children:null:a);return x.jsx(xg,{...r,ref:t,children:h.isValidElement(s)?h.cloneElement(s,void 0,l):null})}return x.jsx(xg,{...r,ref:t,children:n})});bv.displayName="Slot";var xg=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const o=S7(n);return h.cloneElement(n,{...x7(r,n.props),ref:t?jO(t,o):o})}return h.Children.count(n)>1?h.Children.only(null):null});xg.displayName="SlotClone";var w7=({children:e})=>x.jsx(x.Fragment,{children:e});function b7(e){return h.isValidElement(e)&&e.type===w7}function x7(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...l)=>{i(...l),o(...l)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function S7(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var k7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],lo=k7.reduce((e,t)=>{const n=h.forwardRef((r,o)=>{const{asChild:i,...s}=r,l=i?bv:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(l,{...s,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function E7(e,t){e&&ur.flushSync(()=>e.dispatchEvent(t))}function C7(e,t=globalThis==null?void 0:globalThis.document){const n=Yi(e);h.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var T7="DismissableLayer",Sg="dismissableLayer.update",O7="dismissableLayer.pointerDownOutside",R7="dismissableLayer.focusOutside",kb,BO=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zO=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:l,...a}=e,c=h.useContext(BO),[u,d]=h.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=h.useState({}),p=ls(t,C=>d(C)),g=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),v=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,k=v>=y,E=P7(C=>{const O=C.target,M=[...c.branches].some(I=>I.contains(O));!k||M||(o==null||o(C),s==null||s(C),C.defaultPrevented||l==null||l())},f),S=A7(C=>{const O=C.target;[...c.branches].some(I=>I.contains(O))||(i==null||i(C),s==null||s(C),C.defaultPrevented||l==null||l())},f);return C7(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),h.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(kb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Eb(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=kb)}},[u,f,n,c]),h.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Eb())},[u,c]),h.useEffect(()=>{const C=()=>m({});return document.addEventListener(Sg,C),()=>document.removeEventListener(Sg,C)},[]),x.jsx(lo.div,{...a,ref:p,style:{pointerEvents:b?k?"auto":"none":void 0,...e.style},onFocusCapture:Vo(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Vo(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Vo(e.onPointerDownCapture,E.onPointerDownCapture)})});zO.displayName=T7;var M7="DismissableLayerBranch",D7=h.forwardRef((e,t)=>{const n=h.useContext(BO),r=h.useRef(null),o=ls(t,r);return h.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(lo.div,{...e,ref:o})});D7.displayName=M7;function P7(e,t=globalThis==null?void 0:globalThis.document){const n=Yi(e),r=h.useRef(!1),o=h.useRef(()=>{});return h.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let a=function(){VO(O7,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=a,t.addEventListener("click",o.current,{once:!0})):a()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function A7(e,t=globalThis==null?void 0:globalThis.document){const n=Yi(e),r=h.useRef(!1);return h.useEffect(()=>{const o=i=>{i.target&&!r.current&&VO(R7,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Eb(){const e=new CustomEvent(Sg);document.dispatchEvent(e)}function VO(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?E7(o,i):o.dispatchEvent(i)}var wh="focusScope.autoFocusOnMount",bh="focusScope.autoFocusOnUnmount",Cb={bubbles:!1,cancelable:!0},N7="FocusScope",UO=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=e,[l,a]=h.useState(null),c=Yi(o),u=Yi(i),d=h.useRef(null),f=ls(t,g=>a(g)),m=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let g=function(b){if(m.paused||!l)return;const k=b.target;l.contains(k)?d.current=k:yo(d.current,{select:!0})},w=function(b){if(m.paused||!l)return;const k=b.relatedTarget;k!==null&&(l.contains(k)||yo(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&yo(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[r,l,m.paused]),h.useEffect(()=>{if(l){Ob.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(wh,Cb);l.addEventListener(wh,c),l.dispatchEvent(y),y.defaultPrevented||($7(j7(HO(l)),{select:!0}),document.activeElement===g&&yo(l))}return()=>{l.removeEventListener(wh,c),setTimeout(()=>{const y=new CustomEvent(bh,Cb);l.addEventListener(bh,u),l.dispatchEvent(y),y.defaultPrevented||yo(g??document.body,{select:!0}),l.removeEventListener(bh,u),Ob.remove(m)},0)}}},[l,c,u,m]);const p=h.useCallback(g=>{if(!n&&!r||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const v=g.currentTarget,[b,k]=_7(v);b&&k?!g.shiftKey&&y===k?(g.preventDefault(),n&&yo(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),n&&yo(k,{select:!0})):y===v&&g.preventDefault()}},[n,r,m.paused]);return x.jsx(lo.div,{tabIndex:-1,...s,ref:f,onKeyDown:p})});UO.displayName=N7;function $7(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(yo(r,{select:t}),document.activeElement!==n)return}function _7(e){const t=HO(e),n=Tb(t,e),r=Tb(t.reverse(),e);return[n,r]}function HO(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Tb(e,t){for(const n of e)if(!I7(n,{upTo:t}))return n}function I7(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function L7(e){return e instanceof HTMLInputElement&&"select"in e}function yo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&L7(e)&&t&&e.select()}}var Ob=F7();function F7(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Rb(e,t),e.unshift(t)},remove(t){var n;e=Rb(e,t),(n=e[0])==null||n.resume()}}}function Rb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function j7(e){return e.filter(t=>t.tagName!=="A")}var B7="Portal",WO=h.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[o,i]=h.useState(!1);Nd(()=>i(!0),[]);const s=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?sf.createPortal(x.jsx(lo.div,{...r,ref:t}),s):null});WO.displayName=B7;function z7(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Gf=e=>{const{present:t,children:n}=e,r=V7(t),o=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),i=ls(r.ref,U7(o));return typeof n=="function"||r.isPresent?h.cloneElement(o,{ref:i}):null};Gf.displayName="Presence";function V7(e){const[t,n]=h.useState(),r=h.useRef({}),o=h.useRef(e),i=h.useRef("none"),s=e?"mounted":"unmounted",[l,a]=z7(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=iu(r.current);i.current=l==="mounted"?c:"none"},[l]),Nd(()=>{const c=r.current,u=o.current;if(u!==e){const f=i.current,m=iu(c);e?a("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?a("UNMOUNT"):a(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,a]),Nd(()=>{if(t){const c=d=>{const m=iu(r.current).includes(d.animationName);d.target===t&&m&&ur.flushSync(()=>a("ANIMATION_END"))},u=d=>{d.target===t&&(i.current=iu(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function iu(e){return(e==null?void 0:e.animationName)||"none"}function U7(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var xh=0;function H7(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Mb()),document.body.insertAdjacentElement("beforeend",e[1]??Mb()),xh++,()=>{xh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),xh--}},[])}function Mb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var KO=VE(),Sh=function(){},Yf=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Sh,onWheelCapture:Sh,onTouchMoveCapture:Sh}),o=r[0],i=r[1],s=e.forwardProps,l=e.children,a=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,m=e.noIsolation,p=e.inert,g=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,v=e.gapMode,b=Hy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,E=zE([n,t]),S=Wt(Wt({},b),o);return h.createElement(h.Fragment,null,u&&h.createElement(k,{sideCar:KO,removeScrollBar:c,shards:d,noIsolation:m,inert:p,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:v}),s?h.cloneElement(h.Children.only(l),Wt(Wt({},S),{ref:E})):h.createElement(y,Wt({},S,{className:a,ref:E}),l))});Yf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yf.classNames={fullWidth:va,zeroRight:ya};var kg=!1;if(typeof window<"u")try{var su=Object.defineProperty({},"passive",{get:function(){return kg=!0,!0}});window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{kg=!1}var vs=kg?{passive:!1}:!1,W7=function(e){return e.tagName==="TEXTAREA"},qO=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!W7(e)&&n[t]==="visible")},K7=function(e){return qO(e,"overflowY")},q7=function(e){return qO(e,"overflowX")},Db=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=JO(e,r);if(o){var i=GO(e,r),s=i[1],l=i[2];if(s>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},J7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},G7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},JO=function(e,t){return e==="v"?K7(t):q7(t)},GO=function(e,t){return e==="v"?J7(t):G7(t)},Y7=function(e,t){return e==="h"&&t==="rtl"?-1:1},X7=function(e,t,n,r,o){var i=Y7(e,window.getComputedStyle(t).direction),s=i*r,l=n.target,a=t.contains(l),c=!1,u=s>0,d=0,f=0;do{var m=GO(e,l),p=m[0],g=m[1],w=m[2],y=g-w-i*p;(p||y)&&JO(e,l)&&(d+=y,f+=p),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!a&&l!==document.body||a&&(t.contains(l)||t===l));return(u&&(Math.abs(d)<1||!o)||!u&&(Math.abs(f)<1||!o))&&(c=!0),c},lu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Pb=function(e){return[e.deltaX,e.deltaY]},Ab=function(e){return e&&"current"in e?e.current:e},Q7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Z7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},e9=0,ws=[];function t9(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),o=h.useState(e9++)[0],i=h.useState(Wy)[0],s=h.useRef(e);h.useEffect(function(){s.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=fd([e.lockRef.current],(e.shards||[]).map(Ab),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,w){if("touches"in g&&g.touches.length===2)return!s.current.allowPinchZoom;var y=lu(g),v=n.current,b="deltaX"in g?g.deltaX:v[0]-y[0],k="deltaY"in g?g.deltaY:v[1]-y[1],E,S=g.target,C=Math.abs(b)>Math.abs(k)?"h":"v";if("touches"in g&&C==="h"&&S.type==="range")return!1;var O=Db(C,S);if(!O)return!0;if(O?E=C:(E=C==="v"?"h":"v",O=Db(C,S)),!O)return!1;if(!r.current&&"changedTouches"in g&&(b||k)&&(r.current=E),!E)return!0;var M=r.current||E;return X7(M,w,g,M==="h"?b:k,!0)},[]),a=h.useCallback(function(g){var w=g;if(!(!ws.length||ws[ws.length-1]!==i)){var y="deltaY"in w?Pb(w):lu(w),v=t.current.filter(function(E){return E.name===w.type&&(E.target===w.target||w.target===E.shadowParent)&&Q7(E.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(s.current.shards||[]).map(Ab).filter(Boolean).filter(function(E){return E.contains(w.target)}),k=b.length>0?l(w,b[0]):!s.current.noIsolation;k&&w.cancelable&&w.preventDefault()}}},[]),c=h.useCallback(function(g,w,y,v){var b={name:g,delta:w,target:y,should:v,shadowParent:n9(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(k){return k!==b})},1)},[]),u=h.useCallback(function(g){n.current=lu(g),r.current=void 0},[]),d=h.useCallback(function(g){c(g.type,Pb(g),g.target,l(g,e.lockRef.current))},[]),f=h.useCallback(function(g){c(g.type,lu(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return ws.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",a,vs),document.addEventListener("touchmove",a,vs),document.addEventListener("touchstart",u,vs),function(){ws=ws.filter(function(g){return g!==i}),document.removeEventListener("wheel",a,vs),document.removeEventListener("touchmove",a,vs),document.removeEventListener("touchstart",u,vs)}},[]);var m=e.removeScrollBar,p=e.inert;return h.createElement(h.Fragment,null,p?h.createElement(i,{styles:Z7(o)}):null,m?h.createElement(KE,{gapMode:e.gapMode}):null)}function n9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const r9=HE(KO,t9);var YO=h.forwardRef(function(e,t){return h.createElement(Yf,Wt({},e,{ref:t,sideCar:r9}))});YO.classNames=Yf.classNames;var xv="Dialog",[XO,BU]=p7(xv),[o9,hr]=XO(xv),QO=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:s=!0}=e,l=h.useRef(null),a=h.useRef(null),[c=!1,u]=y7({prop:r,defaultProp:o,onChange:i});return x.jsx(o9,{scope:t,triggerRef:l,contentRef:a,contentId:vh(),titleId:vh(),descriptionId:vh(),open:c,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),modal:s,children:n})};QO.displayName=xv;var ZO="DialogTrigger",eR=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=hr(ZO,n),i=ls(t,o.triggerRef);return x.jsx(lo.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ev(o.open),...r,ref:i,onClick:Vo(e.onClick,o.onOpenToggle)})});eR.displayName=ZO;var Sv="DialogPortal",[i9,tR]=XO(Sv,{forceMount:void 0}),nR=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,i=hr(Sv,t);return x.jsx(i9,{scope:t,forceMount:n,children:h.Children.map(r,s=>x.jsx(Gf,{present:n||i.open,children:x.jsx(WO,{asChild:!0,container:o,children:s})}))})};nR.displayName=Sv;var $d="DialogOverlay",rR=h.forwardRef((e,t)=>{const n=tR($d,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=hr($d,e.__scopeDialog);return i.modal?x.jsx(Gf,{present:r||i.open,children:x.jsx(s9,{...o,ref:t})}):null});rR.displayName=$d;var s9=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=hr($d,n);return x.jsx(YO,{as:bv,allowPinchZoom:!0,shards:[o.contentRef],children:x.jsx(lo.div,{"data-state":Ev(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Xi="DialogContent",oR=h.forwardRef((e,t)=>{const n=tR(Xi,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,i=hr(Xi,e.__scopeDialog);return x.jsx(Gf,{present:r||i.open,children:i.modal?x.jsx(l9,{...o,ref:t}):x.jsx(a9,{...o,ref:t})})});oR.displayName=Xi;var l9=h.forwardRef((e,t)=>{const n=hr(Xi,e.__scopeDialog),r=h.useRef(null),o=ls(t,n.contentRef,r);return h.useEffect(()=>{const i=r.current;if(i)return Uy(i)},[]),x.jsx(iR,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Vo(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Vo(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&i.preventDefault()}),onFocusOutside:Vo(e.onFocusOutside,i=>i.preventDefault())})}),a9=h.forwardRef((e,t)=>{const n=hr(Xi,e.__scopeDialog),r=h.useRef(!1),o=h.useRef(!1);return x.jsx(iR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var a,c;(a=e.onInteractOutside)==null||a.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),iR=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...s}=e,l=hr(Xi,n),a=h.useRef(null),c=ls(t,a);return H7(),x.jsxs(x.Fragment,{children:[x.jsx(UO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:x.jsx(zO,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ev(l.open),...s,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(c9,{titleId:l.titleId}),x.jsx(d9,{contentRef:a,descriptionId:l.descriptionId})]})]})}),kv="DialogTitle",sR=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=hr(kv,n);return x.jsx(lo.h2,{id:o.titleId,...r,ref:t})});sR.displayName=kv;var lR="DialogDescription",aR=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=hr(lR,n);return x.jsx(lo.p,{id:o.descriptionId,...r,ref:t})});aR.displayName=lR;var cR="DialogClose",uR=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=hr(cR,n);return x.jsx(lo.button,{type:"button",...r,ref:t,onClick:Vo(e.onClick,()=>o.onOpenChange(!1))})});uR.displayName=cR;function Ev(e){return e?"open":"closed"}var dR="DialogTitleWarning",[zU,fR]=f7(dR,{contentName:Xi,titleName:kv,docsSlug:"dialog"}),c9=({titleId:e})=>{const t=fR(dR),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},u9="DialogDescriptionWarning",d9=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fR(u9).contentName}}.`;return h.useEffect(()=>{var i;const o=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},f9=QO,p9=eR,h9=nR,m9=rR,g9=oR,y9=sR,v9=aR,w9=uR;const pR=({trigger:e,title:t,children:n,className:r="",fullScreen:o=!1})=>x.jsxs(f9,{children:[x.jsx(p9,{asChild:!0,children:e}),x.jsxs(h9,{children:[x.jsx(m9,{className:"popup-overlay"}),x.jsxs(g9,{className:`popup-content ${r} ${o?"full-screen":"window"}`,onOpenAutoFocus:i=>i.preventDefault(),children:[x.jsx(y9,{children:t}),x.jsx(v9,{}),x.jsx(w9,{asChild:!0,children:x.jsx("button",{className:"close-button smooth-color-hover",children:x.jsx(Fy,{})})}),x.jsx("div",{className:"main-content",children:n})]})]})]}),b9=({recipeId:e,shoppingLists:t})=>{const n=ts(),r=Hn(),{displayMessage:o}=ri(),i=async s=>{var l;try{await Zt.post.createShoppingListSublist(s,e);const a=await Zt.get.getShoppingList(s);n(ht.shoppingLists.updateCachedShoppingList(a)),o({type:"success",message:"The recipe has been added.",fadeOutAfter:5e3})}catch(a){if(Ge.isAxiosError(a)&&((l=a.response)==null?void 0:l.status)===409)o({type:"info",message:"The recipe is already in the list.",fadeOutAfter:5e3});else throw a}r(`/shopping-lists/${s}`)};return x.jsx(pR,{className:"add-to-shopping-list-popup",trigger:x.jsx("div",{className:"add-to-shopping-list-button-space",children:x.jsx("button",{children:"Add ingredients to the shopping list"})}),title:"Choose a list",fullScreen:!0,children:x.jsx(PC,{className:"shopping-lists",noMarkers:!0,items:t.map(s=>({...s,key:s.id})),render:s=>x.jsx("button",{onClick:()=>i(s.id),children:s.name},s.id)})})},hR=({homeTab:e})=>{const t=Hn();return x.jsx(es,{className:"home-button floating",type:"filled",onClick:()=>{t(`/${e}`)},children:x.jsx(e$,{})})};async function x9(e){const{params:t}=e;return await On.dispatch(ht.recipes.async.fetchRecipe(+t.id)).unwrap(),await On.dispatch(ht.shoppingLists.async.fetchShoppingLists()).unwrap(),null}const S9=()=>{const{id:e}=Ry(),t=Hn(),{displayMessage:n}=ri(),{shoppingLists:r}=ir(d=>d.shoppingLists),{recipes:o}=ir(d=>d.recipes),i=o[+e],[s,l]=h.useState(i.ingredients.map(d=>({...d,key:d.id}))),a=h.useRef([]),c=()=>{const d=document.getElementsByClassName("rich-text-area-editor")[0];if(d===void 0)return;const f=[...d.getElementsByTagName("input")],m=[];for(let g=0;g<f.length;g++)f[g].getAttribute("checked")==="true"&&m.push(g);const p={recipeStateTimestamp:i.updateDate,ingredients:a.current,checkboxesInDescription:m};if(p.checkboxesInDescription.length===0&&p.ingredients.length===0){sessionStorage.removeItem(`checks-recipe-${i.id}`);return}sessionStorage.setItem(`checks-recipe-${i.id}`,JSON.stringify(p))},u=()=>{const d=sessionStorage.getItem(`checks-recipe-${i.id}`);if(d===null)return;const f=JSON.parse(d);if(f.recipeStateTimestamp!==i.updateDate){sessionStorage.removeItem(`checks-recipe-${i.id}`),n({type:"info",message:"All selections were cleared, because the recipe has been modified.",fadeOutAfter:5e3});return}l(g=>g.map(w=>f.ingredients.includes(w.key)?{...w,checked:!0}:w));let m=0;const p=setInterval(()=>{if(m==10){clearInterval(p);return}const g=document.getElementsByClassName("rich-text-area-editor")[0];if(g===void 0){m++;return}const w=[...g.getElementsByTagName("input")];f.checkboxesInDescription.forEach(y=>{w[y].setAttribute("checked","true")}),clearInterval(p)},100)};return h.useEffect(()=>{a.current=s.filter(d=>d.checked).map(d=>d.key)},[s]),h.useLayoutEffect(()=>(u(),()=>{c()}),[]),h.useEffect(()=>(window.addEventListener("beforeunload",c),()=>{window.removeEventListener("beforeunload",c)}),[s]),x.jsxs("div",{className:"page recipe-page",children:[x.jsx(hR,{homeTab:"recipes"}),x.jsxs("header",{children:[x.jsx("h1",{children:i.name}),x.jsxs("div",{style:{"--color":i.category.color},className:"category-indicator",children:[x.jsx("h3",{children:i.category.name}),x.jsx("span",{className:"svg-space",dangerouslySetInnerHTML:{__html:i.category.symbol}})]})]}),x.jsx("div",{className:"image-space floating",children:i.imageSrc?x.jsx("img",{src:i.imageSrc}):x.jsx("div",{className:"image-placeholder",dangerouslySetInnerHTML:{__html:i.category.symbol}})}),x.jsx(Ef,{tags:i.tags,tagSize:"small"}),x.jsxs(Mi,{title:"Ingredients",children:[x.jsx(K3,{ingredients:s,setIngredients:l}),x.jsx(b9,{recipeId:i.id,shoppingLists:r})]}),x.jsx(Mi,{title:"Description",children:x.jsx(FO,{value:i.description})}),x.jsxs("div",{className:"bottom-buttons-bar",children:[x.jsxs("button",{onClick:()=>n({type:"info",message:"This feature is not implemented yet.",fadeOutAfter:5e3}),children:[x.jsx(nE,{}),x.jsx("p",{children:"Variant"})]}),x.jsxs("button",{onClick:()=>t(`/recipes/${i.id}/edit`),children:[x.jsx(u$,{}),x.jsx("p",{children:"Edit"})]}),x.jsxs("button",{onClick:()=>n({type:"info",message:"This feature is not implemented yet.",fadeOutAfter:5e3}),children:[x.jsx(p$,{}),x.jsx("p",{children:"Delete"})]})]})]})},Ca=h.forwardRef(({disableShadow:e,placeholder:t,className:n,...r},o)=>x.jsx("input",{...r,ref:o,placeholder:t,className:`input ${e?"":"floating"} ${n||""}`}));var mR={exports:{}},k9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",E9=k9,C9=E9;function gR(){}function yR(){}yR.resetWarningCache=gR;var T9=function(){function e(r,o,i,s,l,a){if(a!==C9){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:yR,resetWarningCache:gR};return n.PropTypes=n,n};mR.exports=T9();var O9=mR.exports;const Be=Mg(O9);var R9=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function xc(e,t){var n=M9(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function M9(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),o=R9.get(r);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var D9=[".DS_Store","Thumbs.db"];function P9(e){return Ol(this,void 0,void 0,function(){return Rl(this,function(t){return _d(e)&&A9(e.dataTransfer)?[2,I9(e.dataTransfer,e.type)]:N9(e)?[2,$9(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,_9(e)]:[2,[]]})})}function A9(e){return _d(e)}function N9(e){return _d(e)&&_d(e.target)}function _d(e){return typeof e=="object"&&e!==null}function $9(e){return Eg(e.target.files).map(function(t){return xc(t)})}function _9(e){return Ol(this,void 0,void 0,function(){var t;return Rl(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return xc(r)})]}})})}function I9(e,t){return Ol(this,void 0,void 0,function(){var n,r;return Rl(this,function(o){switch(o.label){case 0:return e.items?(n=Eg(e.items).filter(function(i){return i.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(L9))]):[3,2];case 1:return r=o.sent(),[2,Nb(vR(r))];case 2:return[2,Nb(Eg(e.files).map(function(i){return xc(i)}))]}})})}function Nb(e){return e.filter(function(t){return D9.indexOf(t.name)===-1})}function Eg(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function L9(e){if(typeof e.webkitGetAsEntry!="function")return $b(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?wR(t):$b(e)}function vR(e){return e.reduce(function(t,n){return fd(fd([],_1(t),!1),_1(Array.isArray(n)?vR(n):[n]),!1)},[])}function $b(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=xc(t);return Promise.resolve(n)}function F9(e){return Ol(this,void 0,void 0,function(){return Rl(this,function(t){return[2,e.isDirectory?wR(e):j9(e)]})})}function wR(e){var t=e.createReader();return new Promise(function(n,r){var o=[];function i(){var s=this;t.readEntries(function(l){return Ol(s,void 0,void 0,function(){var a,c,u;return Rl(this,function(d){switch(d.label){case 0:if(l.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return a=d.sent(),n(a),[3,4];case 3:return c=d.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(l.map(F9)),o.push(u),i(),d.label=6;case 6:return[2]}})})},function(l){r(l)})}i()})}function j9(e){return Ol(this,void 0,void 0,function(){return Rl(this,function(t){return[2,new Promise(function(n,r){e.file(function(o){var i=xc(o,e.fullPath);n(i)},function(o){r(o)})})]})})}var B9=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(function(s){var l=s.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):o===l})}return!0};function _b(e){return U9(e)||V9(e)||xR(e)||z9()}function z9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U9(e){if(Array.isArray(e))return Cg(e)}function Ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Lb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(n),!0).forEach(function(r){bR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ib(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sc(e,t){return K9(e)||W9(e,t)||xR(e,t)||H9()}function H9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xR(e,t){if(e){if(typeof e=="string")return Cg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cg(e,t)}}function Cg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W9(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,i=!1,s,l;try{for(n=n.call(e);!(o=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));o=!0);}catch(a){i=!0,l=a}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function K9(e){if(Array.isArray(e))return e}var q9="file-invalid-type",J9="file-too-large",G9="file-too-small",Y9="too-many-files",X9=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:q9,message:"File type must be ".concat(n)}},Fb=function(t){return{code:J9,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},jb=function(t){return{code:G9,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Q9={code:Y9,message:"Too many files"};function SR(e,t){var n=e.type==="application/x-moz-file"||B9(e,t);return[n,n?null:X9(t)]}function kR(e,t,n){if(hi(e.size))if(hi(t)&&hi(n)){if(e.size>n)return[!1,Fb(n)];if(e.size<t)return[!1,jb(t)]}else{if(hi(t)&&e.size<t)return[!1,jb(t)];if(hi(n)&&e.size>n)return[!1,Fb(n)]}return[!0,null]}function hi(e){return e!=null}function Z9(e){var t=e.files,n=e.accept,r=e.minSize,o=e.maxSize,i=e.multiple,s=e.maxFiles,l=e.validator;return!i&&t.length>1||i&&s>=1&&t.length>s?!1:t.every(function(a){var c=SR(a,n),u=sc(c,1),d=u[0],f=kR(a,r,o),m=sc(f,1),p=m[0],g=l?l(a):null;return d&&p&&!g})}function Id(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function au(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Bb(e){e.preventDefault()}function eV(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function tV(e){return e.indexOf("Edge/")!==-1}function nV(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return eV(e)||tV(e)}function vr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return t.some(function(l){return!Id(r)&&l&&l.apply(void 0,[r].concat(i)),Id(r)})}}function rV(){return"showOpenFilePicker"in window}function oV(e){if(hi(e)){var t=Object.entries(e).filter(function(n){var r=sc(n,2),o=r[0],i=r[1],s=!0;return ER(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(i)||!i.every(CR))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var o=sc(r,2),i=o[0],s=o[1];return Lb(Lb({},n),{},bR({},i,s))},{});return[{description:"Files",accept:t}]}return e}function iV(e){if(hi(e))return Object.entries(e).reduce(function(t,n){var r=sc(n,2),o=r[0],i=r[1];return[].concat(_b(t),[o],_b(i))},[]).filter(function(t){return ER(t)||CR(t)}).join(",")}function sV(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function lV(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function ER(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function CR(e){return/^.*\.[\w]+$/.test(e)}var aV=["children"],cV=["open"],uV=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],dV=["refKey","onChange","onClick"];function fV(e){return mV(e)||hV(e)||TR(e)||pV()}function pV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mV(e){if(Array.isArray(e))return Tg(e)}function kh(e,t){return vV(e)||yV(e,t)||TR(e,t)||gV()}function gV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TR(e,t){if(e){if(typeof e=="string")return Tg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tg(e,t)}}function Tg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,i=!1,s,l;try{for(n=n.call(e);!(o=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));o=!0);}catch(a){i=!0,l=a}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function vV(e){if(Array.isArray(e))return e}function zb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zb(Object(n),!0).forEach(function(r){Og(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Og(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ld(e,t){if(e==null)return{};var n=wV(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wV(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var Xf=h.forwardRef(function(e,t){var n=e.children,r=Ld(e,aV),o=bV(r),i=o.open,s=Ld(o,cV);return h.useImperativeHandle(t,function(){return{open:i}},[i]),J.createElement(h.Fragment,null,n(Ye(Ye({},s),{},{open:i})))});Xf.displayName="Dropzone";var OR={disabled:!1,getFilesFromEvent:P9,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Xf.defaultProps=OR;Xf.propTypes={children:Be.func,accept:Be.objectOf(Be.arrayOf(Be.string)),multiple:Be.bool,preventDropOnDocument:Be.bool,noClick:Be.bool,noKeyboard:Be.bool,noDrag:Be.bool,noDragEventsBubbling:Be.bool,minSize:Be.number,maxSize:Be.number,maxFiles:Be.number,disabled:Be.bool,getFilesFromEvent:Be.func,onFileDialogCancel:Be.func,onFileDialogOpen:Be.func,useFsAccessApi:Be.bool,autoFocus:Be.bool,onDragEnter:Be.func,onDragLeave:Be.func,onDragOver:Be.func,onDrop:Be.func,onDropAccepted:Be.func,onDropRejected:Be.func,onError:Be.func,validator:Be.func};var Rg={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function bV(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Ye(Ye({},OR),e),n=t.accept,r=t.disabled,o=t.getFilesFromEvent,i=t.maxSize,s=t.minSize,l=t.multiple,a=t.maxFiles,c=t.onDragEnter,u=t.onDragLeave,d=t.onDragOver,f=t.onDrop,m=t.onDropAccepted,p=t.onDropRejected,g=t.onFileDialogCancel,w=t.onFileDialogOpen,y=t.useFsAccessApi,v=t.autoFocus,b=t.preventDropOnDocument,k=t.noClick,E=t.noKeyboard,S=t.noDrag,C=t.noDragEventsBubbling,O=t.onError,M=t.validator,I=h.useMemo(function(){return iV(n)},[n]),Z=h.useMemo(function(){return oV(n)},[n]),L=h.useMemo(function(){return typeof w=="function"?w:Vb},[w]),Y=h.useMemo(function(){return typeof g=="function"?g:Vb},[g]),H=h.useRef(null),K=h.useRef(null),ae=h.useReducer(xV,Rg),X=kh(ae,2),F=X[0],V=X[1],ie=F.isFocused,fe=F.isFileDialogActive,be=h.useRef(typeof window<"u"&&window.isSecureContext&&y&&rV()),et=function(){!be.current&&fe&&setTimeout(function(){if(K.current){var U=K.current.files;U.length||(V({type:"closeDialog"}),Y())}},300)};h.useEffect(function(){return window.addEventListener("focus",et,!1),function(){window.removeEventListener("focus",et,!1)}},[K,fe,Y,be]);var Ee=h.useRef([]),Ve=function(U){H.current&&H.current.contains(U.target)||(U.preventDefault(),Ee.current=[])};h.useEffect(function(){return b&&(document.addEventListener("dragover",Bb,!1),document.addEventListener("drop",Ve,!1)),function(){b&&(document.removeEventListener("dragover",Bb),document.removeEventListener("drop",Ve))}},[H,b]),h.useEffect(function(){return!r&&v&&H.current&&H.current.focus(),function(){}},[H,v,r]);var ve=h.useCallback(function(A){O?O(A):console.error(A)},[O]),se=h.useCallback(function(A){A.preventDefault(),A.persist(),$(A),Ee.current=[].concat(fV(Ee.current),[A.target]),au(A)&&Promise.resolve(o(A)).then(function(U){if(!(Id(A)&&!C)){var me=U.length,Ce=me>0&&Z9({files:U,accept:I,minSize:s,maxSize:i,multiple:l,maxFiles:a,validator:M}),nt=me>0&&!Ce;V({isDragAccept:Ce,isDragReject:nt,isDragActive:!0,type:"setDraggedFiles"}),c&&c(A)}}).catch(function(U){return ve(U)})},[o,c,ve,C,I,s,i,l,a,M]),De=h.useCallback(function(A){A.preventDefault(),A.persist(),$(A);var U=au(A);if(U&&A.dataTransfer)try{A.dataTransfer.dropEffect="copy"}catch{}return U&&d&&d(A),!1},[d,C]),Ue=h.useCallback(function(A){A.preventDefault(),A.persist(),$(A);var U=Ee.current.filter(function(Ce){return H.current&&H.current.contains(Ce)}),me=U.indexOf(A.target);me!==-1&&U.splice(me,1),Ee.current=U,!(U.length>0)&&(V({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),au(A)&&u&&u(A))},[H,u,C]),Pe=h.useCallback(function(A,U){var me=[],Ce=[];A.forEach(function(nt){var jt=SR(nt,I),gn=kh(jt,2),mr=gn[0],ao=gn[1],co=kR(nt,s,i),Lr=kh(co,2),Wn=Lr[0],as=Lr[1],li=M?M(nt):null;if(mr&&Wn&&!li)me.push(nt);else{var Al=[ao,as];li&&(Al=Al.concat(li)),Ce.push({file:nt,errors:Al.filter(function(Ec){return Ec})})}}),(!l&&me.length>1||l&&a>=1&&me.length>a)&&(me.forEach(function(nt){Ce.push({file:nt,errors:[Q9]})}),me.splice(0)),V({acceptedFiles:me,fileRejections:Ce,type:"setFiles"}),f&&f(me,Ce,U),Ce.length>0&&p&&p(Ce,U),me.length>0&&m&&m(me,U)},[V,l,I,s,i,a,f,m,p,M]),ce=h.useCallback(function(A){A.preventDefault(),A.persist(),$(A),Ee.current=[],au(A)&&Promise.resolve(o(A)).then(function(U){Id(A)&&!C||Pe(U,A)}).catch(function(U){return ve(U)}),V({type:"reset"})},[o,Pe,ve,C]),he=h.useCallback(function(){if(be.current){V({type:"openDialog"}),L();var A={multiple:l,types:Z};window.showOpenFilePicker(A).then(function(U){return o(U)}).then(function(U){Pe(U,null),V({type:"closeDialog"})}).catch(function(U){sV(U)?(Y(U),V({type:"closeDialog"})):lV(U)?(be.current=!1,K.current?(K.current.value=null,K.current.click()):ve(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ve(U)});return}K.current&&(V({type:"openDialog"}),L(),K.current.value=null,K.current.click())},[V,L,Y,y,Pe,ve,Z,l]),tt=h.useCallback(function(A){!H.current||!H.current.isEqualNode(A.target)||(A.key===" "||A.key==="Enter"||A.keyCode===32||A.keyCode===13)&&(A.preventDefault(),he())},[H,he]),at=h.useCallback(function(){V({type:"focus"})},[]),ct=h.useCallback(function(){V({type:"blur"})},[]),Nn=h.useCallback(function(){k||(nV()?setTimeout(he,0):he())},[k,he]),Jt=function(U){return r?null:U},T=function(U){return E?null:Jt(U)},D=function(U){return S?null:Jt(U)},$=function(U){C&&U.stopPropagation()},q=h.useMemo(function(){return function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=A.refKey,me=U===void 0?"ref":U,Ce=A.role,nt=A.onKeyDown,jt=A.onFocus,gn=A.onBlur,mr=A.onClick,ao=A.onDragEnter,co=A.onDragOver,Lr=A.onDragLeave,Wn=A.onDrop,as=Ld(A,uV);return Ye(Ye(Og({onKeyDown:T(vr(nt,tt)),onFocus:T(vr(jt,at)),onBlur:T(vr(gn,ct)),onClick:Jt(vr(mr,Nn)),onDragEnter:D(vr(ao,se)),onDragOver:D(vr(co,De)),onDragLeave:D(vr(Lr,Ue)),onDrop:D(vr(Wn,ce)),role:typeof Ce=="string"&&Ce!==""?Ce:"presentation"},me,H),!r&&!E?{tabIndex:0}:{}),as)}},[H,tt,at,ct,Nn,se,De,Ue,ce,E,S,r]),G=h.useCallback(function(A){A.stopPropagation()},[]),z=h.useMemo(function(){return function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=A.refKey,me=U===void 0?"ref":U,Ce=A.onChange,nt=A.onClick,jt=Ld(A,dV),gn=Og({accept:I,multiple:l,type:"file",style:{display:"none"},onChange:Jt(vr(Ce,ce)),onClick:Jt(vr(nt,G)),tabIndex:-1},me,K);return Ye(Ye({},gn),jt)}},[K,n,l,ce,r]);return Ye(Ye({},F),{},{isFocused:ie&&!r,getRootProps:q,getInputProps:z,rootRef:H,inputRef:K,open:Jt(he)})}function xV(e,t){switch(t.type){case"focus":return Ye(Ye({},e),{},{isFocused:!0});case"blur":return Ye(Ye({},e),{},{isFocused:!1});case"openDialog":return Ye(Ye({},Rg),{},{isFileDialogActive:!0});case"closeDialog":return Ye(Ye({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Ye(Ye({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Ye(Ye({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Ye({},Rg);default:return e}}function Vb(){}const SV=({setImage:e,setFileUploadErrors:t})=>x.jsx(Xf,{onDropAccepted:n=>{t([]),e(n[0])},onDropRejected:n=>{const r=n.map(o=>o.errors.map(i=>i.code)).flat();t(r)},maxSize:3145728,maxFiles:1,multiple:!1,accept:{"image/jpeg":[],"image/png":[],"image/webp":[]},children:({getRootProps:n,getInputProps:r})=>x.jsxs("div",{className:"input-space",...n(),children:[x.jsx("input",{...r()}),x.jsx(m$,{}),x.jsx("p",{children:"include photo"})]})}),kV={"file-invalid-type":"Unsupported file format.","file-too-large":"The file is too large. The maximum size is 3MB.","too-many-files":"Selected more than one file.","file-too-small":"The file is too small."},EV=({image:e,setImage:t})=>{const[n,r]=h.useState([]);return x.jsxs("div",{className:"thumbnail-space",children:[x.jsx("div",{className:"thumbnail-dropzone floating",children:e?x.jsxs(x.Fragment,{children:[x.jsx("img",{src:URL.createObjectURL(e)}),x.jsx("button",{className:"discard-button",type:"button",onClick:()=>t(null),children:x.jsx(J2,{})})]}):x.jsx(SV,{setImage:t,setFileUploadErrors:r})}),x.jsx("p",{className:"error-message",children:n.map(o=>`${kV[o]}
`)})]})};var Sc=e=>e.type==="checkbox",Bs=e=>e instanceof Date,Yt=e=>e==null;const RR=e=>typeof e=="object";var wt=e=>!Yt(e)&&!Array.isArray(e)&&RR(e)&&!Bs(e),MR=e=>wt(e)&&e.target?Sc(e.target)?e.target.checked:e.target.value:e,CV=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,DR=(e,t)=>e.has(CV(t)),TV=e=>{const t=e.constructor&&e.constructor.prototype;return wt(t)&&t.hasOwnProperty("isPrototypeOf")},Cv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ln(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Cv&&(e instanceof Blob||e instanceof FileList))&&(n||wt(e)))if(t=n?[]:{},!n&&!TV(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=ln(e[r]));else return e;return t}var kc=e=>Array.isArray(e)?e.filter(Boolean):[],st=e=>e===void 0,Q=(e,t,n)=>{if(!t||!wt(e))return n;const r=kc(t.split(/[,[\].]+?/)).reduce((o,i)=>Yt(o)?o:o[i],e);return st(r)||r===e?st(e[t])?n:e[t]:r},Qn=e=>typeof e=="boolean";const Fd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},tr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},jr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},OV=J.createContext(null),Tv=()=>J.useContext(OV);var PR=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(o,i,{get:()=>{const s=i;return t._proxyFormState[s]!==tr.all&&(t._proxyFormState[s]=!r||tr.all),n&&(n[s]=!0),e[s]}});return o},vn=e=>wt(e)&&!Object.keys(e).length,AR=(e,t,n,r)=>{n(e);const{name:o,...i}=e;return vn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!r||tr.all))},Au=e=>Array.isArray(e)?e:[e],NR=(e,t,n)=>!e||!t||e===t||Au(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function Ov(e){const t=J.useRef(e);t.current=e,J.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function RV(e){const t=Tv(),{control:n=t.control,disabled:r,name:o,exact:i}=e||{},[s,l]=J.useState(n._formState),a=J.useRef(!0),c=J.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=J.useRef(o);return u.current=o,Ov({disabled:r,next:d=>a.current&&NR(u.current,d.name,i)&&AR(d,c.current,n._updateFormState)&&l({...n._formState,...d}),subject:n._subjects.state}),J.useEffect(()=>(a.current=!0,c.current.isValid&&n._updateValid(!0),()=>{a.current=!1}),[n]),PR(s,n,c.current,!1)}var Cr=e=>typeof e=="string",$R=(e,t,n,r,o)=>Cr(e)?(r&&t.watch.add(e),Q(n,e,o)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),Q(n,i))):(r&&(t.watchAll=!0),n);function MV(e){const t=Tv(),{control:n=t.control,name:r,defaultValue:o,disabled:i,exact:s}=e||{},l=J.useRef(r);l.current=r,Ov({disabled:i,subject:n._subjects.values,next:u=>{NR(l.current,u.name,s)&&c(ln($R(l.current,n._names,u.values||n._formValues,!1,o)))}});const[a,c]=J.useState(n._getWatch(r,o));return J.useEffect(()=>n._removeUnmounted()),a}var Rv=e=>/^\w*$/.test(e),_R=e=>kc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ze=(e,t,n)=>{let r=-1;const o=Rv(t)?[t]:_R(t),i=o.length,s=i-1;for(;++r<i;){const l=o[r];let a=n;if(r!==s){const c=e[l];a=wt(c)||Array.isArray(c)?c:isNaN(+o[r+1])?{}:[]}e[l]=a,e=e[l]}return e};function DV(e){const t=Tv(),{name:n,disabled:r,control:o=t.control,shouldUnregister:i}=e,s=DR(o._names.array,n),l=MV({control:o,name:n,defaultValue:Q(o._formValues,n,Q(o._defaultValues,n,e.defaultValue)),exact:!0}),a=RV({control:o,name:n}),c=J.useRef(o.register(n,{...e.rules,value:l,...Qn(e.disabled)?{disabled:e.disabled}:{}}));return J.useEffect(()=>{const u=o._options.shouldUnregister||i,d=(f,m)=>{const p=Q(o._fields,f);p&&(p._f.mount=m)};if(d(n,!0),u){const f=ln(Q(o._options.defaultValues,n));ze(o._defaultValues,n,f),st(Q(o._formValues,n))&&ze(o._formValues,n,f)}return()=>{(s?u&&!o._state.action:u)?o.unregister(n):d(n,!1)}},[n,o,s,i]),J.useEffect(()=>{Q(o._fields,n)&&o._updateDisabledField({disabled:r,fields:o._fields,name:n,value:Q(o._fields,n)._f.value})},[r,n,o]),{field:{name:n,value:l,...Qn(r)||a.disabled?{disabled:a.disabled||r}:{},onChange:J.useCallback(u=>c.current.onChange({target:{value:MR(u),name:n},type:Fd.CHANGE}),[n]),onBlur:J.useCallback(()=>c.current.onBlur({target:{value:Q(o._formValues,n),name:n},type:Fd.BLUR}),[n,o]),ref:u=>{const d=Q(o._fields,n);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:f=>u.setCustomValidity(f),reportValidity:()=>u.reportValidity()})}},formState:a,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Q(a.errors,n)},isDirty:{enumerable:!0,get:()=>!!Q(a.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Q(a.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Q(a.validatingFields,n)},error:{enumerable:!0,get:()=>Q(a.errors,n)}})}}const Yl=e=>e.render(DV(e));var PV=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},Ub=e=>({isOnSubmit:!e||e===tr.onSubmit,isOnBlur:e===tr.onBlur,isOnChange:e===tr.onChange,isOnAll:e===tr.all,isOnTouch:e===tr.onTouched}),Hb=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ta=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const i=Q(e,o);if(i){const{_f:s,...l}=i;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],o)&&!r)break;if(s.ref&&t(s.ref,s.name)&&!r)break;Ta(l,t)}else wt(l)&&Ta(l,t)}}};var AV=(e,t,n)=>{const r=kc(Q(e,n));return ze(r,"root",t[n]),ze(e,n,r),e},Mv=e=>e.type==="file",Do=e=>typeof e=="function",jd=e=>{if(!Cv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Nu=e=>Cr(e),Dv=e=>e.type==="radio",Bd=e=>e instanceof RegExp;const Wb={value:!1,isValid:!1},Kb={value:!0,isValid:!0};var IR=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!st(e[0].attributes.value)?st(e[0].value)||e[0].value===""?Kb:{value:e[0].value,isValid:!0}:Kb:Wb}return Wb};const qb={isValid:!1,value:null};var LR=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,qb):qb;function Jb(e,t,n="validate"){if(Nu(e)||Array.isArray(e)&&e.every(Nu)||Qn(e)&&!e)return{type:n,message:Nu(e)?e:"",ref:t}}var bs=e=>wt(e)&&!Bd(e)?e:{value:e,message:""},Gb=async(e,t,n,r,o)=>{const{ref:i,refs:s,required:l,maxLength:a,minLength:c,min:u,max:d,pattern:f,validate:m,name:p,valueAsNumber:g,mount:w,disabled:y}=e._f,v=Q(t,p);if(!w||y)return{};const b=s?s[0]:i,k=L=>{r&&b.reportValidity&&(b.setCustomValidity(Qn(L)?"":L||""),b.reportValidity())},E={},S=Dv(i),C=Sc(i),O=S||C,M=(g||Mv(i))&&st(i.value)&&st(v)||jd(i)&&i.value===""||v===""||Array.isArray(v)&&!v.length,I=PV.bind(null,p,n,E),Z=(L,Y,H,K=jr.maxLength,ae=jr.minLength)=>{const X=L?Y:H;E[p]={type:L?K:ae,message:X,ref:i,...I(L?K:ae,X)}};if(o?!Array.isArray(v)||!v.length:l&&(!O&&(M||Yt(v))||Qn(v)&&!v||C&&!IR(s).isValid||S&&!LR(s).isValid)){const{value:L,message:Y}=Nu(l)?{value:!!l,message:l}:bs(l);if(L&&(E[p]={type:jr.required,message:Y,ref:b,...I(jr.required,Y)},!n))return k(Y),E}if(!M&&(!Yt(u)||!Yt(d))){let L,Y;const H=bs(d),K=bs(u);if(!Yt(v)&&!isNaN(v)){const ae=i.valueAsNumber||v&&+v;Yt(H.value)||(L=ae>H.value),Yt(K.value)||(Y=ae<K.value)}else{const ae=i.valueAsDate||new Date(v),X=ie=>new Date(new Date().toDateString()+" "+ie),F=i.type=="time",V=i.type=="week";Cr(H.value)&&v&&(L=F?X(v)>X(H.value):V?v>H.value:ae>new Date(H.value)),Cr(K.value)&&v&&(Y=F?X(v)<X(K.value):V?v<K.value:ae<new Date(K.value))}if((L||Y)&&(Z(!!L,H.message,K.message,jr.max,jr.min),!n))return k(E[p].message),E}if((a||c)&&!M&&(Cr(v)||o&&Array.isArray(v))){const L=bs(a),Y=bs(c),H=!Yt(L.value)&&v.length>+L.value,K=!Yt(Y.value)&&v.length<+Y.value;if((H||K)&&(Z(H,L.message,Y.message),!n))return k(E[p].message),E}if(f&&!M&&Cr(v)){const{value:L,message:Y}=bs(f);if(Bd(L)&&!v.match(L)&&(E[p]={type:jr.pattern,message:Y,ref:i,...I(jr.pattern,Y)},!n))return k(Y),E}if(m){if(Do(m)){const L=await m(v,t),Y=Jb(L,b);if(Y&&(E[p]={...Y,...I(jr.validate,Y.message)},!n))return k(Y.message),E}else if(wt(m)){let L={};for(const Y in m){if(!vn(L)&&!n)break;const H=Jb(await m[Y](v,t),b,Y);H&&(L={...H,...I(Y,H.message)},k(H.message),n&&(E[p]=L))}if(!vn(L)&&(E[p]={ref:b,...L},!n))return E}}return k(!0),E};function NV(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=st(e)?r++:e[t[r++]];return e}function $V(e){for(const t in e)if(e.hasOwnProperty(t)&&!st(e[t]))return!1;return!0}function mt(e,t){const n=Array.isArray(t)?t:Rv(t)?[t]:_R(t),r=n.length===1?e:NV(e,n),o=n.length-1,i=n[o];return r&&delete r[i],o!==0&&(wt(r)&&vn(r)||Array.isArray(r)&&$V(r))&&mt(e,n.slice(0,-1)),e}var Eh=()=>{let e=[];return{get observers(){return e},next:o=>{for(const i of e)i.next&&i.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(i=>i!==o)}}),unsubscribe:()=>{e=[]}}},zd=e=>Yt(e)||!RR(e);function Ei(e,t){if(zd(e)||zd(t))return e===t;if(Bs(e)&&Bs(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n){const i=e[o];if(!r.includes(o))return!1;if(o!=="ref"){const s=t[o];if(Bs(i)&&Bs(s)||wt(i)&&wt(s)||Array.isArray(i)&&Array.isArray(s)?!Ei(i,s):i!==s)return!1}}return!0}var FR=e=>e.type==="select-multiple",_V=e=>Dv(e)||Sc(e),Ch=e=>jd(e)&&e.isConnected,jR=e=>{for(const t in e)if(Do(e[t]))return!0;return!1};function Vd(e,t={}){const n=Array.isArray(e);if(wt(e)||n)for(const r in e)Array.isArray(e[r])||wt(e[r])&&!jR(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Vd(e[r],t[r])):Yt(e[r])||(t[r]=!0);return t}function BR(e,t,n){const r=Array.isArray(e);if(wt(e)||r)for(const o in e)Array.isArray(e[o])||wt(e[o])&&!jR(e[o])?st(t)||zd(n[o])?n[o]=Array.isArray(e[o])?Vd(e[o],[]):{...Vd(e[o])}:BR(e[o],Yt(t)?{}:t[o],n[o]):n[o]=!Ei(e[o],t[o]);return n}var cu=(e,t)=>BR(e,t,Vd(t)),zR=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>st(e)?e:t?e===""?NaN:e&&+e:n&&Cr(e)?new Date(e):r?r(e):e;function Th(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Mv(t)?t.files:Dv(t)?LR(e.refs).value:FR(t)?[...t.selectedOptions].map(({value:n})=>n):Sc(t)?IR(e.refs).value:zR(st(t.value)?e.ref.value:t.value,e)}var IV=(e,t,n,r)=>{const o={};for(const i of e){const s=Q(t,i);s&&ze(o,i,s._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},Xl=e=>st(e)?e:Bd(e)?e.source:wt(e)?Bd(e.value)?e.value.source:e.value:e,LV=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Yb(e,t,n){const r=Q(e,n);if(r||Rv(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const i=o.join("."),s=Q(t,i),l=Q(e,i);if(s&&!Array.isArray(s)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};o.pop()}return{name:n}}var FV=(e,t,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:(n?r.isOnChange:o.isOnChange)?e:!0,jV=(e,t)=>!kc(Q(e,t)).length&&mt(e,t);const BV={mode:tr.onSubmit,reValidateMode:tr.onChange,shouldFocusError:!0};function zV(e={}){let t={...BV,...e},n={submitCount:0,isDirty:!1,isLoading:Do(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},o=wt(t.defaultValues)||wt(t.values)?ln(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ln(o),s={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},a,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Eh(),array:Eh(),state:Eh()},f=Ub(t.mode),m=Ub(t.reValidateMode),p=t.criteriaMode===tr.all,g=T=>D=>{clearTimeout(c),c=setTimeout(T,D)},w=async T=>{if(u.isValid||T){const D=t.resolver?vn((await O()).errors):await I(r,!0);D!==n.isValid&&d.state.next({isValid:D})}},y=(T,D)=>{(u.isValidating||u.validatingFields)&&((T||Array.from(l.mount)).forEach($=>{$&&(D?ze(n.validatingFields,$,D):mt(n.validatingFields,$))}),d.state.next({validatingFields:n.validatingFields,isValidating:!vn(n.validatingFields)}))},v=(T,D=[],$,q,G=!0,z=!0)=>{if(q&&$){if(s.action=!0,z&&Array.isArray(Q(r,T))){const A=$(Q(r,T),q.argA,q.argB);G&&ze(r,T,A)}if(z&&Array.isArray(Q(n.errors,T))){const A=$(Q(n.errors,T),q.argA,q.argB);G&&ze(n.errors,T,A),jV(n.errors,T)}if(u.touchedFields&&z&&Array.isArray(Q(n.touchedFields,T))){const A=$(Q(n.touchedFields,T),q.argA,q.argB);G&&ze(n.touchedFields,T,A)}u.dirtyFields&&(n.dirtyFields=cu(o,i)),d.state.next({name:T,isDirty:L(T,D),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ze(i,T,D)},b=(T,D)=>{ze(n.errors,T,D),d.state.next({errors:n.errors})},k=T=>{n.errors=T,d.state.next({errors:n.errors,isValid:!1})},E=(T,D,$,q)=>{const G=Q(r,T);if(G){const z=Q(i,T,st($)?Q(o,T):$);st(z)||q&&q.defaultChecked||D?ze(i,T,D?z:Th(G._f)):K(T,z),s.mount&&w()}},S=(T,D,$,q,G)=>{let z=!1,A=!1;const U={name:T},me=!!(Q(r,T)&&Q(r,T)._f.disabled);if(!$||q){u.isDirty&&(A=n.isDirty,n.isDirty=U.isDirty=L(),z=A!==U.isDirty);const Ce=me||Ei(Q(o,T),D);A=!!(!me&&Q(n.dirtyFields,T)),Ce||me?mt(n.dirtyFields,T):ze(n.dirtyFields,T,!0),U.dirtyFields=n.dirtyFields,z=z||u.dirtyFields&&A!==!Ce}if($){const Ce=Q(n.touchedFields,T);Ce||(ze(n.touchedFields,T,$),U.touchedFields=n.touchedFields,z=z||u.touchedFields&&Ce!==$)}return z&&G&&d.state.next(U),z?U:{}},C=(T,D,$,q)=>{const G=Q(n.errors,T),z=u.isValid&&Qn(D)&&n.isValid!==D;if(e.delayError&&$?(a=g(()=>b(T,$)),a(e.delayError)):(clearTimeout(c),a=null,$?ze(n.errors,T,$):mt(n.errors,T)),($?!Ei(G,$):G)||!vn(q)||z){const A={...q,...z&&Qn(D)?{isValid:D}:{},errors:n.errors,name:T};n={...n,...A},d.state.next(A)}},O=async T=>{y(T,!0);const D=await t.resolver(i,t.context,IV(T||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return y(T),D},M=async T=>{const{errors:D}=await O(T);if(T)for(const $ of T){const q=Q(D,$);q?ze(n.errors,$,q):mt(n.errors,$)}else n.errors=D;return D},I=async(T,D,$={valid:!0})=>{for(const q in T){const G=T[q];if(G){const{_f:z,...A}=G;if(z){const U=l.array.has(z.name);y([q],!0);const me=await Gb(G,i,p,t.shouldUseNativeValidation&&!D,U);if(y([q]),me[z.name]&&($.valid=!1,D))break;!D&&(Q(me,z.name)?U?AV(n.errors,me,z.name):ze(n.errors,z.name,me[z.name]):mt(n.errors,z.name))}A&&await I(A,D,$)}}return $.valid},Z=()=>{for(const T of l.unMount){const D=Q(r,T);D&&(D._f.refs?D._f.refs.every($=>!Ch($)):!Ch(D._f.ref))&&ve(T)}l.unMount=new Set},L=(T,D)=>(T&&D&&ze(i,T,D),!Ei(fe(),o)),Y=(T,D,$)=>$R(T,l,{...s.mount?i:st(D)?o:Cr(T)?{[T]:D}:D},$,D),H=T=>kc(Q(s.mount?i:o,T,e.shouldUnregister?Q(o,T,[]):[])),K=(T,D,$={})=>{const q=Q(r,T);let G=D;if(q){const z=q._f;z&&(!z.disabled&&ze(i,T,zR(D,z)),G=jd(z.ref)&&Yt(D)?"":D,FR(z.ref)?[...z.ref.options].forEach(A=>A.selected=G.includes(A.value)):z.refs?Sc(z.ref)?z.refs.length>1?z.refs.forEach(A=>(!A.defaultChecked||!A.disabled)&&(A.checked=Array.isArray(G)?!!G.find(U=>U===A.value):G===A.value)):z.refs[0]&&(z.refs[0].checked=!!G):z.refs.forEach(A=>A.checked=A.value===G):Mv(z.ref)?z.ref.value="":(z.ref.value=G,z.ref.type||d.values.next({name:T,values:{...i}})))}($.shouldDirty||$.shouldTouch)&&S(T,G,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&ie(T)},ae=(T,D,$)=>{for(const q in D){const G=D[q],z=`${T}.${q}`,A=Q(r,z);(l.array.has(T)||!zd(G)||A&&!A._f)&&!Bs(G)?ae(z,G,$):K(z,G,$)}},X=(T,D,$={})=>{const q=Q(r,T),G=l.array.has(T),z=ln(D);ze(i,T,z),G?(d.array.next({name:T,values:{...i}}),(u.isDirty||u.dirtyFields)&&$.shouldDirty&&d.state.next({name:T,dirtyFields:cu(o,i),isDirty:L(T,z)})):q&&!q._f&&!Yt(z)?ae(T,z,$):K(T,z,$),Hb(T,l)&&d.state.next({...n}),d.values.next({name:s.mount?T:void 0,values:{...i}})},F=async T=>{s.mount=!0;const D=T.target;let $=D.name,q=!0;const G=Q(r,$),z=()=>D.type?Th(G._f):MR(T),A=U=>{q=Number.isNaN(U)||U===Q(i,$,U)};if(G){let U,me;const Ce=z(),nt=T.type===Fd.BLUR||T.type===Fd.FOCUS_OUT,jt=!LV(G._f)&&!t.resolver&&!Q(n.errors,$)&&!G._f.deps||FV(nt,Q(n.touchedFields,$),n.isSubmitted,m,f),gn=Hb($,l,nt);ze(i,$,Ce),nt?(G._f.onBlur&&G._f.onBlur(T),a&&a(0)):G._f.onChange&&G._f.onChange(T);const mr=S($,Ce,nt,!1),ao=!vn(mr)||gn;if(!nt&&d.values.next({name:$,type:T.type,values:{...i}}),jt)return u.isValid&&w(),ao&&d.state.next({name:$,...gn?{}:mr});if(!nt&&gn&&d.state.next({...n}),t.resolver){const{errors:co}=await O([$]);if(A(Ce),q){const Lr=Yb(n.errors,r,$),Wn=Yb(co,r,Lr.name||$);U=Wn.error,$=Wn.name,me=vn(co)}}else y([$],!0),U=(await Gb(G,i,p,t.shouldUseNativeValidation))[$],y([$]),A(Ce),q&&(U?me=!1:u.isValid&&(me=await I(r,!0)));q&&(G._f.deps&&ie(G._f.deps),C($,me,U,mr))}},V=(T,D)=>{if(Q(n.errors,D)&&T.focus)return T.focus(),1},ie=async(T,D={})=>{let $,q;const G=Au(T);if(t.resolver){const z=await M(st(T)?T:G);$=vn(z),q=T?!G.some(A=>Q(z,A)):$}else T?(q=(await Promise.all(G.map(async z=>{const A=Q(r,z);return await I(A&&A._f?{[z]:A}:A)}))).every(Boolean),!(!q&&!n.isValid)&&w()):q=$=await I(r);return d.state.next({...!Cr(T)||u.isValid&&$!==n.isValid?{}:{name:T},...t.resolver||!T?{isValid:$}:{},errors:n.errors}),D.shouldFocus&&!q&&Ta(r,V,T?G:l.mount),q},fe=T=>{const D={...s.mount?i:o};return st(T)?D:Cr(T)?Q(D,T):T.map($=>Q(D,$))},be=(T,D)=>({invalid:!!Q((D||n).errors,T),isDirty:!!Q((D||n).dirtyFields,T),isTouched:!!Q((D||n).touchedFields,T),isValidating:!!Q((D||n).validatingFields,T),error:Q((D||n).errors,T)}),et=T=>{T&&Au(T).forEach(D=>mt(n.errors,D)),d.state.next({errors:T?n.errors:{}})},Ee=(T,D,$)=>{const q=(Q(r,T,{_f:{}})._f||{}).ref;ze(n.errors,T,{...D,ref:q}),d.state.next({name:T,errors:n.errors,isValid:!1}),$&&$.shouldFocus&&q&&q.focus&&q.focus()},Ve=(T,D)=>Do(T)?d.values.subscribe({next:$=>T(Y(void 0,D),$)}):Y(T,D,!0),ve=(T,D={})=>{for(const $ of T?Au(T):l.mount)l.mount.delete($),l.array.delete($),D.keepValue||(mt(r,$),mt(i,$)),!D.keepError&&mt(n.errors,$),!D.keepDirty&&mt(n.dirtyFields,$),!D.keepTouched&&mt(n.touchedFields,$),!D.keepIsValidating&&mt(n.validatingFields,$),!t.shouldUnregister&&!D.keepDefaultValue&&mt(o,$);d.values.next({values:{...i}}),d.state.next({...n,...D.keepDirty?{isDirty:L()}:{}}),!D.keepIsValid&&w()},se=({disabled:T,name:D,field:$,fields:q,value:G})=>{if(Qn(T)){const z=T?void 0:st(G)?Th($?$._f:Q(q,D)._f):G;ze(i,D,z),S(D,z,!1,!1,!0)}},De=(T,D={})=>{let $=Q(r,T);const q=Qn(D.disabled);return ze(r,T,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:T}},name:T,mount:!0,...D}}),l.mount.add(T),$?se({field:$,disabled:D.disabled,name:T,value:D.value}):E(T,!0,D.value),{...q?{disabled:D.disabled}:{},...t.progressive?{required:!!D.required,min:Xl(D.min),max:Xl(D.max),minLength:Xl(D.minLength),maxLength:Xl(D.maxLength),pattern:Xl(D.pattern)}:{},name:T,onChange:F,onBlur:F,ref:G=>{if(G){De(T,D),$=Q(r,T);const z=st(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,A=_V(z),U=$._f.refs||[];if(A?U.find(me=>me===z):z===$._f.ref)return;ze(r,T,{_f:{...$._f,...A?{refs:[...U.filter(Ch),z,...Array.isArray(Q(o,T))?[{}]:[]],ref:{type:z.type,name:T}}:{ref:z}}}),E(T,!1,void 0,z)}else $=Q(r,T,{}),$._f&&($._f.mount=!1),(t.shouldUnregister||D.shouldUnregister)&&!(DR(l.array,T)&&s.action)&&l.unMount.add(T)}}},Ue=()=>t.shouldFocusError&&Ta(r,V,l.mount),Pe=T=>{Qn(T)&&(d.state.next({disabled:T}),Ta(r,(D,$)=>{let q=T;const G=Q(r,$);G&&Qn(G._f.disabled)&&(q||(q=G._f.disabled)),D.disabled=q},0,!1))},ce=(T,D)=>async $=>{let q;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let G=ln(i);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:z,values:A}=await O();n.errors=z,G=A}else await I(r);if(mt(n.errors,"root"),vn(n.errors)){d.state.next({errors:{}});try{await T(G,$)}catch(z){q=z}}else D&&await D({...n.errors},$),Ue(),setTimeout(Ue);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vn(n.errors)&&!q,submitCount:n.submitCount+1,errors:n.errors}),q)throw q},he=(T,D={})=>{Q(r,T)&&(st(D.defaultValue)?X(T,ln(Q(o,T))):(X(T,D.defaultValue),ze(o,T,ln(D.defaultValue))),D.keepTouched||mt(n.touchedFields,T),D.keepDirty||(mt(n.dirtyFields,T),n.isDirty=D.defaultValue?L(T,ln(Q(o,T))):L()),D.keepError||(mt(n.errors,T),u.isValid&&w()),d.state.next({...n}))},tt=(T,D={})=>{const $=T?ln(T):o,q=ln($),G=vn(T),z=G?o:q;if(D.keepDefaultValues||(o=$),!D.keepValues){if(D.keepDirtyValues)for(const A of l.mount)Q(n.dirtyFields,A)?ze(z,A,Q(i,A)):X(A,Q(z,A));else{if(Cv&&st(T))for(const A of l.mount){const U=Q(r,A);if(U&&U._f){const me=Array.isArray(U._f.refs)?U._f.refs[0]:U._f.ref;if(jd(me)){const Ce=me.closest("form");if(Ce){Ce.reset();break}}}}r={}}i=e.shouldUnregister?D.keepDefaultValues?ln(o):{}:ln(z),d.array.next({values:{...z}}),d.values.next({values:{...z}})}l={mount:D.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!u.isValid||!!D.keepIsValid||!!D.keepDirtyValues,s.watch=!!e.shouldUnregister,d.state.next({submitCount:D.keepSubmitCount?n.submitCount:0,isDirty:G?!1:D.keepDirty?n.isDirty:!!(D.keepDefaultValues&&!Ei(T,o)),isSubmitted:D.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:G?[]:D.keepDirtyValues?D.keepDefaultValues&&i?cu(o,i):n.dirtyFields:D.keepDefaultValues&&T?cu(o,T):{},touchedFields:D.keepTouched?n.touchedFields:{},errors:D.keepErrors?n.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},at=(T,D)=>tt(Do(T)?T(i):T,D);return{control:{register:De,unregister:ve,getFieldState:be,handleSubmit:ce,setError:Ee,_executeSchema:O,_getWatch:Y,_getDirty:L,_updateValid:w,_removeUnmounted:Z,_updateFieldArray:v,_updateDisabledField:se,_getFieldArray:H,_reset:tt,_resetDefaultValues:()=>Do(t.defaultValues)&&t.defaultValues().then(T=>{at(T,t.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:T=>{n={...n,...T}},_disableForm:Pe,_subjects:d,_proxyFormState:u,_setErrors:k,get _fields(){return r},get _formValues(){return i},get _state(){return s},set _state(T){s=T},get _defaultValues(){return o},get _names(){return l},set _names(T){l=T},get _formState(){return n},set _formState(T){n=T},get _options(){return t},set _options(T){t={...t,...T}}},trigger:ie,register:De,handleSubmit:ce,watch:Ve,setValue:X,getValues:fe,reset:at,resetField:he,clearErrors:et,unregister:ve,setError:Ee,setFocus:(T,D={})=>{const $=Q(r,T),q=$&&$._f;if(q){const G=q.refs?q.refs[0]:q.ref;G.focus&&(G.focus(),D.shouldSelect&&G.select())}},getFieldState:be}}function VR(e={}){const t=J.useRef(),n=J.useRef(),[r,o]=J.useState({isDirty:!1,isValidating:!1,isLoading:Do(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Do(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...zV(e),formState:r});const i=t.current.control;return i._options=e,Ov({subject:i._subjects.state,next:s=>{AR(s,i._proxyFormState,i._updateFormState,!0)&&o({...i._formState})}}),J.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),J.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==r.isDirty&&i._subjects.state.next({isDirty:s})}},[i,r.isDirty]),J.useEffect(()=>{e.values&&!Ei(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,o(s=>({...s}))):i._resetDefaultValues()},[e.values,i]),J.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),J.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),J.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=PR(r,i),t.current}const UR=({items:e,setItems:t,leftSideAction:n,rightSideAction:r})=>{const{register:o,handleSubmit:i,reset:s,setFocus:l}=VR({defaultValues:{name:"",amount:{value:"",unit:""}}}),{displayMessage:a}=ri(),c=u=>{const d={key:u.name,name:u.name,amount:{value:u.amount.value===""?null:u.amount.value,unit:u.amount.unit===""?null:u.amount.unit},checked:!1};if(e.find(f=>f.name===d.name)){a({type:"error",message:"This item is already in the list.",fadeOutAfter:1e4});return}t([...e,d]),l("name"),s()};return x.jsxs(x.Fragment,{children:[x.jsx(Xy,{items:e,leftSideAction:n,rightSideAction:r}),x.jsxs("form",{className:"new-quantifiable-item",onSubmit:i(c,u=>{console.error(u)}),children:[x.jsx(Ca,{...o("name",{required:!0,maxLength:100,setValueAs:u=>u.trim()}),maxLength:100,autoCapitalize:"none",placeholder:"Name"}),x.jsx(Ca,{...o("amount.value",{required:!1,maxLength:20,setValueAs:u=>u.trim()}),maxLength:20,autoCapitalize:"none",placeholder:"Amount"}),x.jsx(Ca,{...o("amount.unit",{required:!1,maxLength:10,setValueAs:u=>u.trim()}),maxLength:10,autoCapitalize:"none",placeholder:"Unit"}),x.jsx("input",{type:"submit",hidden:!0})]})]})},VV=({value:e,children:t})=>x.jsxs(IO,{className:"category-select-item",value:e,children:[x.jsx(X8,{children:t}),x.jsx(Q8,{className:"category-select-item-indicator",children:x.jsx(K2,{})})]}),UV=h.forwardRef(({categories:e,value:t,setValue:n},r)=>x.jsxs(DO,{value:t,onValueChange:o=>n(o),children:[x.jsxs(PO,{ref:r,className:"input category-select-trigger floating","aria-label":"Food",children:[x.jsx(Y8,{placeholder:"Category"}),x.jsx(AO,{className:"category-select-icon",children:x.jsx(Nm,{})})]}),x.jsx(NO,{children:x.jsxs($O,{ref:o=>{o&&(o.ontouchstart=i=>{i.preventDefault()})},className:"category-select-content floating",position:"popper",children:[x.jsx(Z8,{className:"category-select-scroll-button",children:x.jsx(tE,{})}),x.jsx(_O,{className:"category-select-viewport",children:e.map(o=>x.jsx(VV,{value:o.id.toString(),children:o.name},o.id))}),x.jsx(e7,{className:"category-select-scroll-button",children:x.jsx(Nm,{})})]})})]})),HV=e=>({...e,key:e.id}),WV=e=>({...e,items:e.items.map(HV)}),KV=e=>{var t;return{...e,sublists:(t=e.sublists)==null?void 0:t.map(WV)}},qV=e=>({name:e.name,categoryId:e.categoryId,image:e.image,tagIds:e.tags.filter(t=>typeof t=="number"),newTags:e.tags.filter(t=>typeof t=="string").map(t=>({name:t})),ingredients:e.ingredients,description:e.description}),JV=e=>({name:e.name,autoDelete:e.autoDelete,sublists:e.sublists.map(GV)}),GV=e=>({id:e.id,name:e.name,count:e.count,items:e.items.map(YV)}),YV=e=>({id:typeof e.key=="number"?e.key:void 0,name:e.name,amount:e.amount,checked:e.checked}),sa={map:{toShoppingList:KV,toRecipeCreateDto:qV,toShoppingListUpdateDto:JV}},XV={name:"",categoryId:null,image:null,tags:[],ingredients:[],description:""},HR=({categories:e,tags:t,onSuccessNavigateTo:n,onSubmitCallback:r,initialValues:o,pendingChangesLocalStorageKey:i,replaceOnNavigate:s=!1,initiallyDirty:l=!1})=>{const a=ts(),c=Hn(),{displayMessage:u}=ri(),{register:d,handleSubmit:f,formState:m,control:p,setFocus:g,reset:w,getValues:y,setValue:v}=VR({defaultValues:{...o,dummyForInitialDirty:""}}),b=async k=>{var E;try{const S=sa.map.toRecipeCreateDto(k);await r(S),w(),S.newTags.length>0&&a(ht.tags.invalidateTags()),c(n,{replace:s})}catch(S){if(Ge.isAxiosError(S))switch((E=S.response)==null?void 0:E.status){case 400:u({type:"error",message:"Provided incorrect data.",fadeOutAfter:5e3});break;case 412:u({type:"error",message:`The changes could not be saved.
The recipe has been modified in the meantime.`,fadeOutAfter:5e3});break;default:throw S}else throw S}};return h.useEffect(()=>()=>{m.isDirty&&m.isSubmitted===!1?localStorage.setItem(i,JSON.stringify(y())):localStorage.removeItem(i)},[m.isDirty,m.isSubmitted,y,i]),h.useEffect(()=>{const k=()=>{if(m.isDirty&&m.isSubmitted===!1&&document.visibilityState==="hidden"){localStorage.setItem(i,JSON.stringify(y()));return}localStorage.removeItem(i)};return document.addEventListener("visibilitychange",k),()=>{document.removeEventListener("visibilitychange",k)}},[m.isDirty,m.isSubmitted,y,i]),h.useEffect(()=>{l&&v("dummyForInitialDirty","dirty",{shouldDirty:!0})},[]),x.jsxs("div",{className:"recipe-creation-form",children:[x.jsxs("div",{className:"input-with-error",children:[x.jsx(Ca,{...d("name",{required:"Recipe name is required",maxLength:100,setValueAs:k=>k.trim()}),maxLength:100,placeholder:"Name"}),m.errors.name&&x.jsx("p",{className:"under-input-error-message",children:m.errors.name.message})]}),x.jsx(Yl,{control:p,name:"categoryId",rules:{required:"Category is required"},render:({field:{value:k,onChange:E,ref:S}})=>x.jsxs("div",{className:"input-with-error",children:[x.jsx(UV,{ref:S,categories:e,value:(k==null?void 0:k.toString())??"",setValue:C=>E(+C)}),m.errors.categoryId&&x.jsx("p",{className:"under-input-error-message",children:m.errors.categoryId.message})]})}),x.jsx(Yl,{control:p,name:"image",render:({field:{value:k,onChange:E}})=>x.jsx(EV,{image:k,setImage:S=>E(S)})}),x.jsx(Mi,{title:"Tags",children:x.jsx(Yl,{control:p,name:"tags",render:({field:{onChange:k}})=>x.jsx(Ef,{tags:t,tagSize:"big",tagCreationEnabled:!0,selection:{disabled:!1,initiallySelected:o==null?void 0:o.tags.map(E=>typeof E=="number"?t.find(S=>S.id===E).name:E),onSelectionChange:E=>{k(E.map(S=>S.id!==void 0?S.id:S.name))}}})})}),x.jsx(Mi,{title:"Ingredients",children:x.jsx(Yl,{control:p,name:"ingredients",render:({field:{value:k,onChange:E}})=>x.jsx(UR,{items:k.map(S=>({...S,checked:!1})),setItems:S=>E(S),rightSideAction:{type:"remove",callback:S=>{E(k.filter(C=>C.key!==S.key))}}})})}),x.jsx(Mi,{title:"Description",children:x.jsx(Yl,{control:p,name:"description",render:({field:{value:k,onChange:E}})=>x.jsx(FO,{value:k,editable:!0,onChange:E})})}),x.jsx(es,{onClick:f(b,k=>{var E,S;console.error(k),((E=k.name)==null?void 0:E.type)!=="required"&&((S=k.categoryId)==null?void 0:S.type)==="required"&&g("categoryId")}),className:"save-button",children:"save"}),x.jsx("input",{hidden:!0,...d("dummyForInitialDirty")})]})};async function QV(){return await On.dispatch(ht.categories.async.fetchCategories()).unwrap(),await On.dispatch(ht.tags.async.fetchTags()).unwrap(),null}const uu="pendingCreate",ZV=()=>{const e=ts(),t=ir(u=>u.categories.categories),n=ir(u=>u.tags.tags),{displayMessage:r}=ri(),[o,i]=h.useState(),[s,l]=h.useState(!1),a=h.useRef(!0),c=async u=>{const d=await Zt.post.createRecipe(u);localStorage.removeItem(uu),e(ht.recipes.setRecipeInCache(d)),r({type:"success",message:"Recipe created.",fadeOutAfter:5e3})};return h.useEffect(()=>{if(a.current===!1)return;a.current=!1;const u=localStorage.getItem(uu);if(u&&window.confirm("Bring back the unsaved changes?")){const d=JSON.parse(u);i({...d,image:null}),l(!0),localStorage.removeItem(uu)}else i(XV)},[]),x.jsxs("div",{className:"page recipe-creation-page",children:[x.jsx("h1",{children:"New recipe"}),o&&x.jsx(HR,{categories:t,tags:n,onSuccessNavigateTo:"/recipes",onSubmitCallback:c,initialValues:o,pendingChangesLocalStorageKey:uu,initiallyDirty:s})]})};async function eU(e){const{params:t}=e;return await On.dispatch(ht.recipes.async.fetchRecipe(+t.id)).unwrap(),await On.dispatch(ht.categories.async.fetchCategories()).unwrap(),await On.dispatch(ht.tags.async.fetchTags()).unwrap(),null}const tU=()=>{const{id:e}=Ry(),t=ts(),n=ir(p=>p.categories.categories),r=ir(p=>p.tags.tags),{recipes:o}=ir(p=>p.recipes),i=o[+e],s=h.useRef(`pendingEdit-${i.id}`),{displayMessage:l}=ri(),[a,c]=h.useState(),[u,d]=h.useState(!1),f=h.useRef(!0),m=async p=>{const g=await Zt.put.updateRecipe(i.id,i.updateDate,p);localStorage.removeItem(s.current),t(ht.recipes.setRecipeInCache(g)),l({type:"success",message:"Recipe updated.",fadeOutAfter:5e3})};return h.useEffect(()=>{(async()=>{if(f.current===!1)return;f.current=!1;const g=i.imageSrc?await Zt.get.getImage(i.imageSrc):null,w=localStorage.getItem(s.current);if(w&&window.confirm("Przywrócić ostatni stan formularza dla tego przepisu?")){const y=JSON.parse(w);c({...y,image:g}),d(!0),localStorage.removeItem(s.current)}else c({name:i.name,categoryId:i.category.id,image:g,tags:i.tags.map(y=>y.id),ingredients:i.ingredients.map(y=>({...y,key:y.id,checked:!1})),description:i.description})})()},[]),x.jsxs("div",{className:"page recipe-edition-page",children:[x.jsx("h1",{children:"Edit recipe"}),a&&x.jsx(HR,{categories:n,tags:r,onSuccessNavigateTo:"/recipes",replaceOnNavigate:!0,onSubmitCallback:m,initialValues:a,pendingChangesLocalStorageKey:s.current,initiallyDirty:u})]})},nU=({sublist:e,onIncrement:t,onDecrement:n})=>x.jsxs("div",{className:"sublist-title",children:[x.jsxs(rN,{to:`/recipes/${e.recipeId}`,children:[x.jsx("h2",{children:e.name}),x.jsx(r$,{width:"1.3em",height:"1.3em"})]}),x.jsx(nE,{width:"1.5em",height:"1.5em",onClick:()=>t(e)}),x.jsx("h2",{children:`x${e.count.toFixed(1)}`}),e.count===.5?x.jsx(tC,{text:"Remove sublist?",onConfirm:()=>n(e),side:"left",children:x.jsx(m1,{className:"delete-icon",width:"1.5em",height:"1.5em"})}):x.jsx(m1,{className:"delete-icon",width:"1.5em",height:"1.5em",onClick:()=>n(e)})]}),Xb=e=>{const t=typeof e=="string"?new Date(e):e;return`${Oh(t.getHours())}:${t.getMinutes().toString().padStart(2,"0")} ${Oh(t.getDate())}.${Oh(t.getMonth()+1)}.${t.getFullYear()}`},Oh=e=>e.toString().padStart(2,"0"),rU=14,WR=7*24*60*60*1e3,KR=e=>{const t=new Date(e),n=new Date(e);return n.setDate(t.getDate()+rU),n.getTime()-Date.now()},oU=({shoppingListInfo:e,renameHandler:t,autoDeleteToggleHandler:n})=>{const[r,o]=h.useState(!1),[i,s]=h.useState(e.name),l=h.useRef(iU(e.autoDelete,e.creationDate));return x.jsx(pR,{className:"shopping-list-info-modal",trigger:x.jsx(t$,{}),title:r?x.jsx(Ca,{className:"rename-input",disableShadow:!0,autoFocus:!0,onBlur:()=>{t(i),o(!1)},maxLength:100,value:i,onChange:a=>s(a.target.value)}):x.jsxs(x.Fragment,{children:[e.name,x.jsx("button",{className:"rename-button",onClick:()=>o(!0),children:x.jsx(a$,{})})]}),children:x.jsxs("div",{className:"info-space",children:[x.jsxs("div",{className:"date-info-row",children:[x.jsx("p",{children:"Created:"}),x.jsx("p",{children:Xb(e.creationDate)})]}),x.jsxs("div",{className:"date-info-row",children:[x.jsx("p",{children:"Updated:"}),x.jsx("p",{children:Xb(e.updateDate)})]}),x.jsx("div",{className:"deletion-info-row",children:l.current}),x.jsx(DC,{className:"auto-delete-checkbox",checked:e.autoDelete,onChange:n,label:"Automatic deletion"})]})})},iU=(e,t)=>{const n=KR(t);return e?x.jsxs(x.Fragment,{children:[n<WR&&x.jsx($m,{}),x.jsxs("span",{children:[x.jsx("p",{children:"Automatic deletion will happen in:"}),x.jsx("p",{children:Qb(n)})]})]}):n<=0?x.jsxs(x.Fragment,{children:[x.jsx($m,{}),x.jsx("span",{children:x.jsx("p",{children:"The list would be immediately deleted after enabling automatic deletion"})})]}):x.jsx(x.Fragment,{children:x.jsxs("span",{children:[x.jsx("p",{children:"Automatic deletion would happen in:"}),x.jsx("p",{children:Qb(n)})]})})},Qb=e=>{const t=e/864e5,n=e%(1e3*60*60*24)/(1e3*60*60),r=e%(1e3*60*60)/(1e3*60);let o="";return t>0&&(o+=`${Math.floor(t)} days `),n>0&&(o+=`${Math.floor(n)} hours `),r>0&&(o+=`${Math.floor(r)} minutes`),o},Rh=.5,sU=e=>({nameUpdate:a=>{e(c=>({...c,name:a}))},autoDeleteToggle:()=>{e(a=>({...a,autoDelete:!a.autoDelete}))},sublistIncrementCount:a=>{e(c=>({...c,sublists:c.sublists.map(u=>u.id===a.id?{...u,count:u.count+Rh}:u)}))},sublistDecrementCount:async a=>{if(a.count===Rh){e(c=>({...c,sublists:c.sublists.filter(u=>u.id!==a.id)}));return}e(c=>({...c,sublists:c.sublists.map(u=>u.id===a.id?{...u,count:u.count-Rh}:u)}))},listItemDelete:a=>{e(c=>({...c,sublists:c.sublists.map(u=>u.recipeId===null?{...u,items:u.items.filter(d=>d.key!==a.key)}:u)}))},checkboxClick:a=>c=>{e(u=>({...u,sublists:u.sublists.map(d=>d.id===a?{...d,items:d.items.map(f=>f.key===c.key?{...f,checked:!f.checked}:f)}:d)}))},manualSublistItemsUpdate:a=>{e(c=>({...c,sublists:c.sublists.map(u=>u.recipeId===null?{...u,items:a}:u)}))}});async function lU(e){const{params:t}=e;return await On.dispatch(ht.shoppingLists.async.fetchShoppingLists()).unwrap(),await On.dispatch(ht.shoppingLists.async.fetchShoppingListDetails(+t.id)).unwrap(),null}const aU=()=>{const{id:e}=Ry(),t=ts(),{shoppingLists:n}=ir(f=>f.shoppingLists),r=n.find(f=>f.id===+e),[o,i]=h.useState(sa.map.toShoppingList(r)),s=h.useRef(o),l=h.useRef(!1),{displayMessage:a}=ri(),u=sU(f=>{i(f),l.current=!0});h.useEffect(()=>{s.current=o},[o]),h.useEffect(()=>{const f=async()=>{var m;if(l.current!==!1)try{const p=await Zt.put.updateShoppingList(o.id,o.updateDate,sa.map.toShoppingListUpdateDto(s.current));i(sa.map.toShoppingList(p)),t(ht.shoppingLists.updateCachedShoppingList(p))}catch(p){if(Ge.isAxiosError(p)&&((m=p.response)==null?void 0:m.status)===412)a({type:"error",message:`The changes could not be saved.
The list has been modified in the meantime.`,fadeOutAfter:5e3});else throw p}};return()=>{f()}},[]),h.useEffect(()=>{const f=async()=>{if(l.current===!1||document.visibilityState!=="hidden")return;const m=await Zt.put.updateShoppingListWithFetch(o.id,o.updateDate,sa.map.toShoppingListUpdateDto(o));t(ht.shoppingLists.updateCachedShoppingList(m))};return document.addEventListener("visibilitychange",f),()=>{document.removeEventListener("visibilitychange",f)}},[o,l,t]);const d=o.sublists.find(f=>f.recipeId===null);return x.jsxs("div",{className:"page shopping-list-page",children:[x.jsx(hR,{homeTab:"shopping-lists"}),x.jsxs("header",{children:[x.jsx("h1",{children:o.name}),x.jsx(oU,{shoppingListInfo:o,renameHandler:u.nameUpdate,autoDeleteToggleHandler:u.autoDeleteToggle})]}),o.sublists.filter(f=>f.recipeId).map(f=>x.jsx(Mi,{title:x.jsx(nU,{sublist:f,onIncrement:u.sublistIncrementCount,onDecrement:u.sublistDecrementCount}),children:x.jsx(Xy,{items:f.items,rightSideAction:{type:"check",callback:u.checkboxClick(f.id)}})},f.id)),x.jsx(Mi,{title:"Manual sublist",children:x.jsx(UR,{items:d.items,setItems:f=>u.manualSublistItemsUpdate(f),leftSideAction:{type:"remove",callback:u.listItemDelete},rightSideAction:{type:"check",callback:u.checkboxClick(d.id)}})})]})},cU=({listData:e})=>{const t=Hn(),n=ts(),{displayMessage:r}=ri(),o=KR(e.creationDate)<WR;return x.jsxs("article",{className:`shopping-list block floating interactive-element ${e.autoDelete?"":"persistent"}`,onClick:()=>t(`/shopping-lists/${e.id}`),children:[x.jsx("button",{className:"delete-button",onClick:async i=>{if(i.stopPropagation(),window.confirm("Delete the shopping list?"))try{await Zt.delete.deleteShoppingList(e.id,e.updateDate),n(ht.shoppingLists.removeShoppingList(e.id))}catch{r({type:"error",message:"Could not dele the list.",fadeOutAfter:5e3})}},children:x.jsx(Fy,{})}),e.autoDelete&&o&&x.jsx($m,{className:"warning-icon"}),x.jsx("h2",{children:e.name}),x.jsxs("div",{className:"dates-row",children:[x.jsx("p",{children:`Created: ${new Date(e.creationDate).toLocaleDateString("pl-PL")}`}),x.jsx("p",{children:`Updated: ${new Date(e.updateDate).toLocaleDateString("pl-PL")}`})]})]})};async function uU(){return await On.dispatch(ht.shoppingLists.async.fetchShoppingLists()).unwrap(),null}const dU=()=>{const e=ts(),{shoppingLists:t}=ir(o=>o.shoppingLists),n=Hn(),r=async()=>{const o=new Date().toLocaleDateString("pl-PL"),i=await Zt.post.createShoppingList(o);e(ht.shoppingLists.addShoppingList(i)),n(`/shopping-lists/${i.id}`)};return x.jsxs("div",{className:"shopping-page",children:[t.map(o=>x.jsx(cU,{listData:o},o.id)),x.jsx(rC,{}),x.jsx(nC,{onClick:r})]})},fU=()=>{var r,o;const e=Ok();let t="",n="";return Cy(e)?e.status===404?(n=String.raw`¯\_(ツ)_/¯`,t="Page not found."):(n=String.raw`(ಥ﹏ಥ)`,t="Something went really wrong."):gI(e)?e.response===void 0?(n=String.raw`(╯°□°）╯︵ ┻━┻`,t="Could not connect to the server."):((r=e.response)==null?void 0:r.status)===500?(n=String.raw`(╯°□°）╯︵ ┻━┻`,t="Server returned an unexpected error."):((o=e.response)==null?void 0:o.status)===404?(n=String.raw`¯\_(ツ)_/¯`,t="Server could not find the requested resource."):(n=String.raw`(ಥ﹏ಥ)`,t="Something went really wrong."):o3(e)?e.status===404?(n=String.raw`¯\_(ツ)_/¯`,t="Server could not find the requested resource."):(n=String.raw`(ಥ﹏ಥ)`,t="Something went really wrong."):(n=String.raw`(ಥ﹏ಥ)`,t="Something went really wrong."),x.jsx("div",{className:"error-page",children:x.jsxs("div",{className:"error-info",children:[x.jsx("p",{children:n}),x.jsx("p",{children:t})]})})},pU=HA(Tm(x.jsxs(wr,{path:"/",element:x.jsx(I$,{}),errorElement:x.jsx(fU,{}),children:[x.jsx(wr,{index:!0,element:x.jsx(MA,{replace:!0,to:"/recipes"})}),x.jsxs(wr,{element:x.jsx(M$,{}),children:[x.jsx(wr,{path:"/recipes",element:x.jsx(L3,{}),loader:I3}),x.jsx(wr,{path:"/shopping-lists",element:x.jsx(dU,{}),loader:uU})]}),x.jsx(wr,{path:"/recipes/:id",element:x.jsx(S9,{}),loader:x9}),x.jsx(wr,{path:"/recipes/new",element:x.jsx(ZV,{}),loader:QV}),x.jsx(wr,{path:"/recipes/:id/edit",element:x.jsx(tU,{}),loader:eU}),x.jsx(wr,{path:"/shopping-lists/:id",element:x.jsx(aU,{}),loader:lU})]})));localStorage.clear();sessionStorage.clear();Mh.createRoot(document.getElementById("root")).render(x.jsx(J.StrictMode,{children:x.jsx(A3,{store:On,children:x.jsx(z2,{children:x.jsx(y$,{children:x.jsx(ZA,{router:pU})})})})}));
